import{a as Ii}from"./assets/animate.es.f4ca49b5.js";function zi(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.map(function(n){return n.split(" ").map(function(a){return a?""+r+a:""}).join(" ")}).join(" ")}function Gi(r,t){return t.replace(/([^}{]*){/gm,function(e,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+r+"$1")+"{"})}function Bt(r,t){return function(e){e&&(r[t]=e)}}function zn(r,t,e){return function(n){n&&(r[t][e]=n)}}function Gn(r,t){return function(e){var n=e.prototype;r.forEach(function(a){t(n,a)})}}function Ai(r,t){return t===void 0&&(t={}),function(e,n){r.forEach(function(a){var i=t[a]||a;i in e||(e[i]=function(){for(var o,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var f=(o=this[n])[a].apply(o,s);return f===this[n]?this:f})})}}var ki=function(){function r(){this.keys=[],this.values=[]}var t=r.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,n){var a=this.keys,i=this.values,o=a.indexOf(e),s=o===-1?a.length:o;a[s]=e,i[s]=n},r}(),Li=function(){function r(){this.object={}}var t=r.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,n){this.object[e]=n},r}(),Yi=typeof Map=="function",Ni=function(){function r(){}var t=r.prototype;return t.connect=function(e,n){this.prev=e,this.next=n,e&&(e.next=this),n&&(n.prev=this)},t.disconnect=function(){var e=this.prev,n=this.next;e&&(e.next=n),n&&(n.prev=e)},t.getIndex=function(){for(var e=this,n=-1;e;)e=e.prev,++n;return n},r}();function Fi(r,t){var e=[],n=[];return r.forEach(function(a){var i=a[0],o=a[1],s=new Ni;e[i]=s,n[o]=s}),e.forEach(function(a,i){a.connect(e[i-1])}),r.filter(function(a,i){return!t[i]}).map(function(a,i){var o=a[0],s=a[1];if(o===s)return[0,0];var u=e[o],f=n[s-1],l=u.getIndex();u.disconnect(),f?u.connect(f,f.next):u.connect(void 0,e[0]);var v=u.getIndex();return[l,v]})}var Xi=function(){function r(e,n,a,i,o,s,u,f){this.prevList=e,this.list=n,this.added=a,this.removed=i,this.changed=o,this.maintained=s,this.changedBeforeAdded=u,this.fixed=f}var t=r.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=Fi(this.changedBeforeAdded,this.fixed),n=this.changed,a=[];this.cacheOrdered=e.filter(function(i,o){var s=i[0],u=i[1],f=n[o],l=f[0],v=f[1];if(s!==u)return a.push([l,v]),!0}),this.cachePureChanged=a},r}();function Lr(r,t,e){var n=Yi?Map:e?Li:ki,a=e||function(m){return m},i=[],o=[],s=[],u=r.map(a),f=t.map(a),l=new n,v=new n,c=[],d=[],h={},p=[],g=0,b=0;return u.forEach(function(m,x){l.set(m,x)}),f.forEach(function(m,x){v.set(m,x)}),u.forEach(function(m,x){var S=v.get(m);typeof S=="undefined"?(++b,o.push(x)):h[S]=b}),f.forEach(function(m,x){var S=l.get(m);typeof S=="undefined"?(i.push(x),++g):(s.push([S,x]),b=h[x]||0,c.push([S-b,x-g]),d.push(x===S),S!==x&&p.push([S,x]))}),o.reverse(),new Xi(r,t,i,o,p,s,c,d)}var Vi=function(){function r(e,n){e===void 0&&(e=[]),this.findKeyCallback=n,this.list=[].slice.call(e)}var t=r.prototype;return t.update=function(e){var n=[].slice.call(e),a=Lr(this.list,n,this.findKeyCallback);return this.list=n,a},r}(),Hi="function",qi="object",Wi="string",ji="number",$i="undefined",Ui=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Et=1e-7,Yr={cm:function(r){return r*96/2.54},mm:function(r){return r*96/254},in:function(r){return r*96},pt:function(r){return r*96/72},pc:function(r){return r*96/6},"%":function(r,t){return r*t/100},vw:function(r,t){return t===void 0&&(t=window.innerWidth),r/100*t},vh:function(r,t){return t===void 0&&(t=window.innerHeight),r/100*t},vmax:function(r,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),r/100*t},vmin:function(r,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),r/100*t}};function Ki(r,t,e,n){return(r*n+t*e)/(e+n)}function hr(r){return typeof r===$i}function Nt(r){return r&&typeof r===qi}function Kt(r){return Array.isArray(r)}function _t(r){return typeof r===Wi}function Zi(r){return typeof r===ji}function An(r){return typeof r===Hi}function Ji(r,t){var e=r===""||r==" ",n=t===""||t==" ";return n&&e||r===t}function kn(r,t,e,n,a){var i=he(r,t,e);return i?e:Qi(r,t,e+1,n,a)}function he(r,t,e){if(!r.ignore)return null;var n=t.slice(Math.max(e-3,0),e+3).join("");return new RegExp(r.ignore).exec(n)}function Qi(r,t,e,n,a){for(var i=function(f){var l=t[f].trim();if(l===r.close&&!he(r,t,f))return{value:f};var v=f,c=Se(a,function(d){var h=d.open;return h===l});if(c&&(v=kn(c,t,f,n,a)),v===-1)return o=f,"break";f=v,o=f},o,s=e;s<n;++s){var u=i(s);if(s=o,typeof u=="object")return u.value;if(u==="break")break}return-1}function Ln(r,t){var e=_t(t)?{separator:t}:t,n=e.separator,a=n===void 0?",":n,i=e.isSeparateFirst,o=e.isSeparateOnlyOpenClose,s=e.isSeparateOpenClose,u=s===void 0?o:s,f=e.openCloseCharacters,l=f===void 0?Ui:f,v=l.map(function(y){var C=y.open,D=y.close;return C===D?C:C+"|"+D}).join("|"),c="(\\s*"+a+"\\s*|"+v+"|\\s+)",d=new RegExp(c,"g"),h=r.split(d).filter(Boolean),p=h.length,g=[],b=[];function m(){return b.length?(g.push(b.join("")),b=[],!0):!1}for(var x=function(y){var C=h[y].trim(),D=y,_=Se(l,function(R){var B=R.open;return B===C}),w=Se(l,function(R){var B=R.close;return B===C});if(_){if(D=kn(_,h,y,p,l),D!==-1&&u)return m()&&i||(g.push(h.slice(y,D+1).join("")),y=D,i)?(S=y,"break"):(S=y,"continue")}else{if(w&&!he(w,h,y))throw new Error("invalid format: "+w.close);if(Ji(C,a)&&!o)return m(),i?(S=y,"break"):(S=y,"continue")}D===-1&&(D=p-1),b.push(h.slice(y,D+1).join("")),y=D,S=y},S,M=0;M<p;++M){var E=x(M);if(M=S,E==="break")break}return b.length&&g.push(b.join("")),g}function Ft(r){return Ln(r,"")}function Zt(r){return Ln(r,",")}function ge(r){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(r);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function gr(r){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(r);if(!t)return{prefix:"",unit:"",value:NaN};var e=t[1],n=t[2],a=t[3];return{prefix:e,unit:a,value:parseFloat(n)}}function to(r){return r.replace(/[\s-_]([a-z])/g,function(t,e){return e.toUpperCase()})}function me(r,t){return t===void 0&&(t="-"),r.replace(/([a-z])([A-Z])/g,function(e,n,a){return""+n+t+a.toLowerCase()})}function be(){return Date.now?Date.now():new Date().getTime()}function wt(r,t,e){e===void 0&&(e=-1);for(var n=r.length,a=0;a<n;++a)if(t(r[a],a,r))return a;return e}function Se(r,t,e){var n=wt(r,t);return n>-1?r[n]:e}function Yn(r){if(Object.keys)return Object.keys(r);var t=[];for(var e in t)t.push(e);return t}function dt(r,t){var e=gr(r),n=e.value,a=e.unit;if(Nt(t)){var i=t[a];if(i){if(An(i))return i(n);if(Yr[a])return Yr[a](n,i)}}else if(a==="%")return n*t/100;return Yr[a]?Yr[a](n):n}function ro(r,t,e){return Math.max(t,Math.min(r,e))}function Nn(r,t,e){return[[U(t[0],Et),U(t[0]*r[1]/r[0],Et)],[U(t[1]*r[0]/r[1],Et),U(t[1],Et)]].filter(function(n){return n.every(function(a,i){return e?a<=t[i]:a>=t[i]})})[0]||r}function eo(r,t,e,n){if(!n)return r.map(function(c,d){return ro(c,t[d],e[d])});var a=r[0],i=r[1],o=Nn(r,t,!1),s=o[0],u=o[1],f=Nn(r,e,!0),l=f[0],v=f[1];return a<s||i<u?(a=s,i=u):(a>l||i>v)&&(a=l,i=v),[a,i]}function no(r){for(var t=r.length,e=0,n=t-1;n>=0;--n)e+=r[n];return e}function mr(r){for(var t=r.length,e=0,n=t-1;n>=0;--n)e+=r[n];return t?e/t:0}function et(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=Math.atan2(n,e);return a>=0?a:a+Math.PI*2}function ao(r){return[0,1].map(function(t){return mr(r.map(function(e){return e[t]}))})}function xe(r){var t=ao(r),e=et(t,r[0]),n=et(t,r[1]);return e<n&&n-e<Math.PI||e>n&&n-e<-Math.PI?1:-1}function kt(r,t){return Math.sqrt(Math.pow((t?t[0]:0)-r[0],2)+Math.pow((t?t[1]:0)-r[1],2))}function U(r,t){return t?Math.round(r/t)*t:r}function Fn(r,t){return r.forEach(function(e,n){r[n]=U(r[n],t)}),r}function Ot(r,t){return r.classList?r.classList.contains(t):!!r.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function io(r,t){r.classList?r.classList.add(t):r.className+=" "+t}function oo(r,t){if(r.classList)r.classList.remove(t);else{var e=new RegExp("(\\s|^)"+t+"(\\s|$)");r.className=r.className.replace(e," ")}}function Rt(r,t,e,n){r.addEventListener(t,e,n)}function bt(r,t,e,n){r.removeEventListener(t,e,n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ee=function(r,t){return Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Ee(r,t)};function Jt(r,t){Ee(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Xt=function(){return Xt=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xt.apply(this,arguments)};function Xn(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}function so(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function ye(r,t){if(r===t)return!1;for(var e in r)if(!(e in t))return!0;for(var e in t)if(r[e]!==t[e])return!0;return!1}function Me(r,t){var e=Object.keys(r),n=Object.keys(t),a=Lr(e,n,function(u){return u}),i={},o={},s={};return a.added.forEach(function(u){var f=n[u];i[f]=t[f]}),a.removed.forEach(function(u){var f=e[u];o[f]=r[f]}),a.maintained.forEach(function(u){var f=u[0],l=e[f],v=[r[l],t[l]];r[l]!==t[l]&&(s[l]=v)}),{added:i,removed:o,changed:s}}function Vn(r){r.forEach(function(t){t()})}function Hn(r){var t=0;return r.map(function(e){return e==null?"$compat"+ ++t:""+e})}function qn(r,t,e,n){if(_t(r)||Zi(r))return new co("text_"+r,t,e,n,null,{});var a=typeof r.type=="string"?vo:r.type.prototype.render?ho:po;return new a(r.type,t,e,n,r.ref,r.props)}function Wn(r){var t=[];return r.forEach(function(e){t=t.concat(Kt(e)?Wn(e):e)}),t}function jn(r){var t=r.className,e=Xn(r,["className"]);return t!=null&&(e.class=t),delete e.style,delete e.children,e}function De(r,t){if(!t)return r;for(var e in t)hr(r[e])&&(r[e]=t[e]);return r}function Dt(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var a=t||{},i=a.key,o=a.ref,s=Xn(a,["key","ref"]);return{type:r,key:i,ref:o,props:Xt(Xt({},s),{children:Wn(e).filter(function(u){return u!=null&&u!==!1})})}}var br=function(){function r(e,n,a,i,o,s){s===void 0&&(s={}),this.type=e,this.key=n,this.index=a,this.container=i,this.ref=o,this.props=s,this._providers=[]}var t=r.prototype;return t._should=function(e,n){return!0},t._update=function(e,n,a,i){if(this.base&&!_t(n)&&!i&&!this._should(n.props,a))return!1;this.original=n,this._setState(a);var o=this.props;return _t(n)||(this.props=n.props,this.ref=n.ref),this._render(e,this.base?o:{},a),!0},t._mounted=function(){var e=this.ref;e&&e(this.base)},t._setState=function(e){},t._updated=function(){var e=this.ref;e&&e(this.base)},t._destroy=function(){var e=this.ref;e&&e(null)},r}();function uo(r,t,e){var n=Me(r,t),a=n.added,i=n.removed,o=n.changed;for(var s in a)e.setAttribute(s,a[s]);for(var s in o)e.setAttribute(s,o[s][1]);for(var s in i)e.removeAttribute(s)}function fo(r,t,e){var n=Me(r,t),a=n.added,i=n.removed,o=n.changed;for(var s in i)e.removeEventListener(s);for(var s in a)e.addEventListener(s,a[s]);for(var s in o)e.removeEventListener(s),e.addEventListener(s,o[s][1]);for(var s in i)e.removeEventListener(s)}function lo(r,t,e){var n=e.style,a=Me(r,t),i=a.added,o=a.removed,s=a.changed;for(var u in i){var f=me(u,"-");n.setProperty?n.setProperty(f,i[u]):n[f]=i[u]}for(var u in s){var f=me(u,"-");n.setProperty?n.setProperty(f,s[u][1]):n[f]=s[u][1]}for(var u in o){var f=me(u,"-");n.removeProperty?n.removeProperty(f):n[f]=""}}function $n(r){var t={},e={};for(var n in r)n.indexOf("on")===0?e[n.replace("on","").toLowerCase()]=r[n]:t[n]=r[n];return{attributes:t,events:e}}var co=function(r){Jt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}var e=t.prototype;return e._render=function(n){var a=this,i=!this.base;return i&&(this.base=document.createTextNode(this.type.replace("text_",""))),n.push(function(){i?a._mounted():a._updated()}),!0},e._unmount=function(){this.base.parentNode.removeChild(this.base)},t}(br),vo=function(r){Jt(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.events={},n._isSVG=!1,n}var e=t.prototype;return e.addEventListener=function(n,a){var i=this.events;i[n]=function(o){o.nativeEvent=o,a(o)},this.base.addEventListener(n,i[n])},e.removeEventListener=function(n){var a=this.events;this.base.removeEventListener(n,a[n]),delete a[n]},e._should=function(n){return ye(this.props,n)},e._render=function(n,a){var i=this,o=!this.base;if(o){var s=this._hasSVG();this._isSVG=s;var u=this.props.portalContainer;if(!u){var f=this.type;s?u=document.createElementNS("http://www.w3.org/2000/svg",f):u=document.createElement(f)}this.base=u}xr(this,this._providers,this.props.children,n,null);var l=this.base,v=$n(a),c=v.attributes,d=v.events,h=$n(this.props),p=h.attributes,g=h.events;return uo(jn(c),jn(p),l),fo(d,g,this),lo(a.style||{},this.props.style||{},l),n.push(function(){o?i._mounted():i._updated()}),!0},e._unmount=function(){var n=this.events,a=this.base;for(var i in n)a.removeEventListener(i,n[i]);this._providers.forEach(function(o){o._unmount()}),this.events={},this.props.portalContainer||a.parentNode.removeChild(a)},e._hasSVG=function(){if(this._isSVG||this.type==="svg")return!0;var n=Ce(this.container);return n&&"ownerSVGElement"in n},t}(br);function Ce(r){if(!r)return null;var t=r.base;return t instanceof Node?t:Ce(r.container)}function Sr(r){if(!r)return null;if(r instanceof Node)return r;var t=r.$_provider._providers;return t.length?Sr(t[0].base):null}var po=function(r){Jt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}var e=t.prototype;return e._render=function(n){var a=this.type(this.props);return xr(this,this._providers,a?[a]:[],n),!0},e._unmount=function(){this._providers.forEach(function(n){n._unmount()})},t}(br),Un=function(r){Jt(t,r);function t(n){var a=r.call(this,"container","container",0,null)||this;return a.base=n,a}var e=t.prototype;return e._render=function(){return!0},e._unmount=function(){},t}(br),ho=function(r){Jt(t,r);function t(n,a,i,o,s,u){return u===void 0&&(u={}),r.call(this,n,a,i,o,s,De(u,n.defaultProps))||this}var e=t.prototype;return e._should=function(n,a){return this.base.shouldComponentUpdate(De(n,this.type.defaultProps),a||this.base.state)},e._render=function(n,a,i){var o=this;this.props=De(this.props,this.type.defaultProps);var s=!this.base;s?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var u=this.base,f=u.state,l=u.render();l&&l.props&&!l.props.children.length&&(l.props.children=this.props.children),xr(this,this._providers,l?[l]:[],n,i,null),n.push(function(){s?(o._mounted(),u.componentDidMount()):(o._updated(),u.componentDidUpdate(a,f))})},e._setState=function(n){var a=this.base;!a||!n||(a.state=n)},e._unmount=function(){this._providers.forEach(function(n){n._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},t}(br),_e=function(){function r(e){e===void 0&&(e={}),this.props=e,this.state={},this.$_timer=0,this.$_state={}}var t=r.prototype;return t.shouldComponentUpdate=function(e,n){return!0},t.render=function(){return null},t.setState=function(e,n,a){var i=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=Xt(Xt({},this.$_state),e),a?this.$_setState(n,a):this.$_timer=setTimeout(function(){i.$_timer=0,i.$_setState(n,a)})},t.forceUpdate=function(e){this.setState({},e,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(e,n){},t.componentWillUnmount=function(){},t.$_setState=function(e,n){var a=[],i=this.$_provider,o=xr(i.container,[i],[i.original],a,Xt(Xt({},this.state),this.$_state),n);o&&(e&&a.push(e),Vn(a))},r}(),we=function(r){Jt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}var e=t.prototype;return e.shouldComponentUpdate=function(n,a){return ye(this.props,n)||ye(this.state,a)},t}(_e),go=function(r){Jt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}var e=t.prototype;return e.componentDidMount=function(){var n=this.props,a=n.element,i=n.container;this._portalProvider=new Un(i),Nr(a,i,this._portalProvider)},e.componentDidUpdate=function(){var n=this.props,a=n.element,i=n.container;Nr(a,i,this._portalProvider)},e.componentWillUnmount=function(){var n=this.props.container;Nr(null,n,this._portalProvider),this._portalProvider=null},t}(we);function mo(r,t,e){var n=[];xr(r,r._providers,t,n,e),Vn(n)}function bo(r,t){for(var e=r._providers,n=e.length,a=t.index+1;a<n;++a){var i=Sr(e[a].base);if(i)return i}return null}function So(r,t,e){var n=e.map(function(u){return _t(u)?null:u.key}),a=Hn(t.map(function(u){return u.key})),i=Hn(n),o=Lr(a,i,function(u){return u});o.removed.forEach(function(u){t.splice(u,1)[0]._unmount()}),o.ordered.forEach(function(u){var f=u[0],l=u[1],v=t.splice(f,1)[0];t.splice(l,0,v);var c=Sr(v.base),d=Sr(t[l+1]&&t[l+1].base);c&&c.parentNode.insertBefore(c,d)}),o.added.forEach(function(u){t.splice(u,0,qn(e[u],n[u],u,r))});var s=o.maintained.filter(function(u){u[0];var f=u[1],l=e[f],v=t[f],c=_t(l)?"text_"+l:l.type;return c!==v.type?(v._unmount(),t.splice(f,1,qn(l,n[f],f,r)),!0):(v.index=f,!1)});return so(o.added,s.map(function(u){u[0];var f=u[1];return f}))}function xr(r,t,e,n,a,i){var o=So(r,t,e),s=t.filter(function(f,l){return f._update(n,e[l],a,i)}),u=Ce(r);return u&&o.reverse().forEach(function(f){var l=t[f],v=Sr(l.base);if(!!v&&u!==v&&!v.parentNode){var c=bo(r,l);u.insertBefore(v,c)}}),s.length>0}function Nr(r,t,e){e===void 0&&(e=t.__REACT_COMPAT__);var n=!!e;return e||(e=new Un(t)),mo(e,r?[r]:[]),n||(t.__REACT_COMPAT__=e),e}function Kn(r,t,e){var n=t.__REACT_COMPAT__;r&&!n&&(t.innerHTML=""),Nr(r,t,n),e&&e()}function xo(r,t){return Dt(go,{element:r,container:t})}var Eo="simple-1.1.0";function Oe(r,t){for(var e=r.length,n=0;n<e;++n)if(t(r[n],n))return!0;return!1}function Zn(r,t){for(var e=r.length,n=0;n<e;++n)if(t(r[n],n))return r[n];return null}function yo(r){var t=r;if(typeof t=="undefined"){if(typeof navigator=="undefined"||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}function Re(r,t){try{return new RegExp(r,"g").exec(t)}catch{return null}}function Mo(){if(typeof navigator=="undefined"||!navigator||!navigator.userAgentData)return!1;var r=navigator.userAgentData,t=r.brands||r.uaList;return!!(t&&t.length)}function Do(r,t){var e=Re("("+r+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t);return e?e[3]:""}function Pe(r){return r.replace(/_/g,".")}function Er(r,t){var e=null,n="-1";return Oe(r,function(a){var i=Re("("+a.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!i||a.brand?!1:(e=a,n=i[3]||"-1",a.versionAlias?n=a.versionAlias:a.versionTest&&(n=Do(a.versionTest.toLowerCase(),t)||n),n=Pe(n),!0)}),{preset:e,version:n}}function Fr(r,t){var e={brand:"",version:"-1"};return Oe(r,function(n){var a=Jn(t,n);return a?(e.brand=n.id,e.version=n.versionAlias||a.version,e.version!=="-1"):!1}),e}function Jn(r,t){return Zn(r,function(e){var n=e.brand;return Re(""+t.test,n.toLowerCase())})}var Qn=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],ta=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Te=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],ra=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],ea=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"mac os x",id:"mac"},{test:"android",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Co(r){var t=navigator.userAgentData,e=(t.uaList||t.brands).slice(),n=t.mobile||!1,a=e[0],i={name:a.brand,version:a.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Fr(ra,e).brand},o={name:"unknown",version:"-1",majorVersion:-1};i.webkit=!i.chromium&&Oe(Te,function(c){return Jn(e,c)});var s=Fr(ta,e);if(i.chromium=!!s.brand,i.chromiumVersion=s.version,!i.chromium){var u=Fr(Te,e);i.webkit=!!u.brand,i.webkitVersion=u.version}if(r){var f=r.platform.toLowerCase(),l=Zn(ea,function(c){return new RegExp(""+c.test,"g").exec(f)});o.name=l?l.id:f,o.version=r.platformVersion}var v=Fr(Qn,e);return v.brand&&(i.name=v.brand,i.version=r?r.uaFullVersion:v.version),navigator.platform==="Linux armv8l"?o.name="android":i.webkit&&(o.name=n?"ios":"mac"),o.name==="ios"&&i.webview&&(i.version="-1"),o.version=Pe(o.version),i.version=Pe(i.version),o.majorVersion=parseInt(o.version,10),i.majorVersion=parseInt(i.version,10),{browser:i,os:o,isMobile:n,isHints:!0}}function _o(r){var t=yo(r),e=!!/mobi/g.exec(t),n={name:"unknown",version:"-1",majorVersion:-1,webview:!!Er(ra,t).preset,chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},a={name:"unknown",version:"-1",majorVersion:-1},i=Er(Qn,t),o=i.preset,s=i.version,u=Er(ea,t),f=u.preset,l=u.version,v=Er(ta,t);if(n.chromium=!!v.preset,n.chromiumVersion=v.version,!n.chromium){var c=Er(Te,t);n.webkit=!!c.preset,n.webkitVersion=c.version}return f&&(a.name=f.id,a.version=l,a.majorVersion=parseInt(l,10)),o&&(n.name=o.id,n.version=s,n.webview&&a.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:a,isMobile:e,isHints:!1}}function wo(r){return typeof r=="undefined"&&Mo()?Co():_o(r)}function Oo(r,t,e,n,a,i){for(var o=0;o<a;++o){var s=e+o*a,u=n+o*a;r[s]+=r[u]*i,t[s]+=t[u]*i}}function Ro(r,t,e,n,a){for(var i=0;i<a;++i){var o=e+i*a,s=n+i*a,u=r[o],f=t[o];r[o]=r[s],r[s]=u,t[o]=t[s],t[s]=f}}function Po(r,t,e,n,a){for(var i=0;i<n;++i){var o=e+i*n;r[o]/=a,t[o]/=a}}function na(r,t,e){e===void 0&&(e=Math.sqrt(r.length));for(var n=r.slice(),a=0;a<e;++a)n[a*e+t-1]=0,n[(t-1)*e+a]=0;return n[(t-1)*(e+1)]=1,n}function It(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=r.slice(),n=ut(t),a=0;a<t;++a){var i=t*a+a;if(!U(e[i],Et)){for(var o=a+1;o<t;++o)if(e[t*a+o]){Ro(e,n,a,o,t);break}}if(!U(e[i],Et))return[];Po(e,n,a,t,e[i]);for(var o=0;o<t;++o){var s=o,u=o+a*t,f=e[u];!U(f,Et)||a===o||Oo(e,n,s,a,t,-f)}}return n}function To(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=[],n=0;n<t;++n)for(var a=0;a<t;++a)e[a*t+n]=r[t*n+a];return e}function Bo(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=[],n=r[t*t-1],a=0;a<t-1;++a)e[a]=r[t*(t-1)+a]/n;return e[t-1]=0,e}function Io(r,t){for(var e=ut(t),n=0;n<t-1;++n)e[t*(t-1)+n]=r[n]||0;return e}function yr(r,t){for(var e=r.slice(),n=r.length;n<t-1;++n)e[n]=0;return e[t-1]=1,e}function Lt(r,t,e){if(t===void 0&&(t=Math.sqrt(r.length)),t===e)return r;for(var n=ut(e),a=Math.min(t,e),i=0;i<a-1;++i){for(var o=0;o<a-1;++o)n[i*e+o]=r[i*t+o];n[(i+1)*e-1]=r[(i+1)*t-1],n[(e-1)*e+i]=r[(t-1)*t+i]}return n[e*e-1]=r[t*t-1],n}function Be(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var n=ut(r);return t.forEach(function(a){n=nt(n,a,r)}),n}function nt(r,t,e){e===void 0&&(e=Math.sqrt(r.length));var n=[],a=r.length/e,i=t.length/a;if(a){if(!i)return r}else return t;for(var o=0;o<e;++o)for(var s=0;s<i;++s){n[s*e+o]=0;for(var u=0;u<a;++u)n[s*e+o]+=r[u*e+o]*t[s*a+u]}return n}function j(r,t){for(var e=Math.min(r.length,t.length),n=r.slice(),a=0;a<e;++a)n[a]=n[a]+t[a];return n}function H(r,t){for(var e=Math.min(r.length,t.length),n=r.slice(),a=0;a<e;++a)n[a]=n[a]-t[a];return n}function zo(r,t){return t===void 0&&(t=r.length===6),t?[r[0],r[1],0,r[2],r[3],0,r[4],r[5],1]:r}function aa(r,t){return t===void 0&&(t=r.length===9),t?[r[0],r[1],r[3],r[4],r[6],r[7]]:r}function gt(r,t,e){e===void 0&&(e=t.length);var n=nt(r,t,e),a=n[e-1];return n.map(function(i){return i/a})}function Go(r,t){return nt(r,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function Ao(r,t){return nt(r,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function ko(r,t){return nt(r,nr(t,4))}function Xr(r,t){var e=t[0],n=e===void 0?1:e,a=t[1],i=a===void 0?1:a,o=t[2],s=o===void 0?1:o;return nt(r,[n,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1],4)}function Vt(r,t){return gt(nr(t,3),yr(r,3))}function Ie(r,t){var e=t[0],n=e===void 0?0:e,a=t[1],i=a===void 0?0:a,o=t[2],s=o===void 0?0:o;return nt(r,[1,0,0,0,0,1,0,0,0,0,1,0,n,i,s,1],4)}function ia(r,t){return nt(r,t,4)}function nr(r,t){var e=Math.cos(r),n=Math.sin(r),a=ut(t);return a[0]=e,a[1]=n,a[t]=-n,a[t+1]=e,a}function ut(r){for(var t=r*r,e=[],n=0;n<t;++n)e[n]=n%(r+1)?0:1;return e}function oa(r,t){for(var e=ut(t),n=Math.min(r.length,t-1),a=0;a<n;++a)e[(t+1)*a]=r[a];return e}function Mr(r,t){for(var e=ut(t),n=Math.min(r.length,t-1),a=0;a<n;++a)e[t*(t-1)+a]=r[a];return e}function ze(r,t,e,n,a,i,o,s){var u=r[0],f=r[1],l=t[0],v=t[1],c=e[0],d=e[1],h=n[0],p=n[1],g=a[0],b=a[1],m=i[0],x=i[1],S=o[0],M=o[1],E=s[0],y=s[1],C=[u,0,l,0,c,0,h,0,f,0,v,0,d,0,p,0,1,0,1,0,1,0,1,0,0,u,0,l,0,c,0,h,0,f,0,v,0,d,0,p,0,1,0,1,0,1,0,1,-g*u,-b*u,-m*l,-x*l,-S*c,-M*c,-E*h,-y*h,-g*f,-b*f,-m*v,-x*v,-S*d,-M*d,-E*p,-y*p],D=It(C,8);if(!D.length)return[];var _=nt(D,[g,b,m,x,S,M,E,y],8);return _[8]=1,Lt(To(_),3,4)}function Lo(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Yo(r){return ar(Qt(r))}function No(r,t){var e=gt(r,[t[0],t[1]||0,t[2]||0,1],4),n=e[3]||1;return[e[0]/n,e[1]/n,e[2]/n]}function ar(r){var t=Lo();return r.forEach(function(e){var n=e.matrixFunction,a=e.functionValue;!n||(t=n(t,a))}),t}function Qt(r){var t=Kt(r)?r:Ft(r);return t.map(function(e){var n=ge(e),a=n.prefix,i=n.value,o=null,s=a,u="";if(a==="translate"||a==="translateX"||a==="translate3d"){var f=Zt(i).map(function(_){return parseFloat(_)}),l=f[0],v=f[1],c=v===void 0?0:v,d=f[2],h=d===void 0?0:d;o=Ie,u=[l,c,h]}else if(a==="translateY"){var c=parseFloat(i);o=Ie,u=[0,c,0]}else if(a==="translateZ"){var h=parseFloat(i);o=Ie,u=[0,0,h]}else if(a==="scale"||a==="scale3d"){var p=Zt(i).map(function(_){return parseFloat(_)}),g=p[0],b=p[1],m=b===void 0?g:b,x=p[2],S=x===void 0?1:x;o=Xr,u=[g,m,S]}else if(a==="scaleX"){var g=parseFloat(i);o=Xr,u=[g,1,1]}else if(a==="scaleY"){var m=parseFloat(i);o=Xr,u=[1,m,1]}else if(a==="scaleZ"){var S=parseFloat(i);o=Xr,u=[1,1,S]}else if(a==="rotate"||a==="rotateZ"||a==="rotateX"||a==="rotateY"){var M=gr(i),E=M.unit,y=M.value,C=E==="rad"?y:y*Math.PI/180;a==="rotate"||a==="rotateZ"?(s="rotateZ",o=ko):a==="rotateX"?o=Go:a==="rotateY"&&(o=Ao),u=C}else if(a==="matrix3d")o=ia,u=Zt(i).map(function(_){return parseFloat(_)});else if(a==="matrix"){var D=Zt(i).map(function(_){return parseFloat(_)});o=ia,u=[D[0],D[1],0,0,D[2],D[3],0,0,0,0,1,0,D[4],D[5],0,1]}else s="";return{name:a,functionName:s,value:i,matrixFunction:o,functionValue:u}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ge=function(r,t){return Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Ge(r,t)};function Fo(r,t){Ge(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var sa=typeof Map=="function"?void 0:function(){var r=0;return function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++r)}}(),Xo=function(r){Fo(t,r);function t(e){return e===void 0&&(e=[]),r.call(this,e,sa)||this}return t}(Vi);function Vo(r,t){return Lr(r,t,sa)}var Ho=Xo;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qo(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function ua(r){return r.length<3?0:Math.abs(no(r.map(function(t,e){var n=r[e+1]||r[0];return t[0]*n[1]-n[0]*t[1]})))/2}function fa(r,t){var e=t.width,n=t.height,a=t.left,i=t.top,o=Vr(r),s=o.minX,u=o.minY,f=o.maxX,l=o.maxY,v=e/(f-s),c=n/(l-u);return r.map(function(d){return[a+(d[0]-s)*v,i+(d[1]-u)*c]})}function Vr(r){var t=r.map(function(n){return n[0]}),e=r.map(function(n){return n[1]});return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,e),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,e)}}function Ae(r,t,e){var n=r[0],a=r[1],i=Vr(t),o=i.minX,s=i.minY,u=i.maxX,f=i.maxY,l=[[o,a],[u,a]],v=[[n,s],[n,f]],c=Dr(l[0],l[1]),d=Dr(v[0],v[1]),h=Ye(t),p=[],g=[];return h.forEach(function(b){var m=Dr(b[0],b[1]),x=Le(ke(c,m),[l,b]),S=Le(ke(d,m),[v,b]);(x.length===1?b[0][1]!==a:!0)&&p.push.apply(p,x),(S.length===1?b[0][0]!==n:!0)&&g.push.apply(g,S),m[0]||p.push.apply(p,x),m[1]||g.push.apply(g,S)}),!!(!e&&(wt(p,function(b){return b[0]===n})>-1||wt(g,function(b){return b[1]===a})>-1)||p.filter(function(b){return b[0]>n}).length%2&&g.filter(function(b){return b[1]>a}).length%2)}function Dr(r,t){var e=r[0],n=r[1],a=t[0],i=t[1];if(e===a&&n===i)return[0,0,0];if(e===a)return[1,0,-e];if(n===i)return[0,1,-n];var o=(a-e)/(n-i),s=-e-o*n;return[1,o,s]}function ke(r,t){var e=r[0],n=r[1],a=r[2],i=t[0],o=t[1],s=t[2],u=e===0&&i===0,f=n===0&&o===0;if(u&&f)return[];if(u){var l=-a/n,v=-s/o;return l!==v?[]:[[-1/0,l],[1/0,l]]}else if(f){var c=-a/e,d=-s/i;return c!==d?[]:[[c,-1/0],[c,1/0]]}else if(e===0){var h=-a/n,p=-(o*h+s)/i;return[[p,h]]}else if(i===0){var h=-s/o,p=-(n*h+a)/e;return[[p,h]]}else if(n===0){var p=-a/e,h=-(i*p+s)/o;return[[p,h]]}else if(o===0){var p=-s/i,h=-(e*p+a)/n;return[[p,h]]}else{var p=(n*s-o*a)/(o*e-n*i),h=-(e*p+a)/n;return[[p,h]]}}function Le(r,t){var e=t.map(function(l){return[0,1].map(function(v){return[Math.min(l[0][v],l[1][v]),Math.max(l[0][v],l[1][v])]})});if(r.length===2){var n=r[0],a=n[0],i=n[1];if(a===r[1][0]){var o=Math.max.apply(Math,e.map(function(l){return l[1][0]})),s=Math.min.apply(Math,e.map(function(l){return l[1][1]}));return o>s?[]:[[a,o],[a,s]]}else if(i===r[1][1]){var u=Math.max.apply(Math,e.map(function(l){return l[0][0]})),f=Math.min.apply(Math,e.map(function(l){return l[0][1]}));return u>f?[]:[[u,i],[f,i]]}}return r.filter(function(l){return e.every(function(v){return v[0][0]<=l[0]&&l[0]<=v[0][1]&&v[1][0]<=l[1]&&l[1]<=v[1][1]})})}function Ye(r){return qo(r.slice(1),[r[0]]).map(function(t,e){return[r[e],t]})}function Wo(r,t){var e=r.slice(),n=t.slice();xe(e)===-1&&e.reverse(),xe(n)===-1&&n.reverse();var a=Ye(e),i=Ye(n),o=a.map(function(v){return Dr(v[0],v[1])}),s=i.map(function(v){return Dr(v[0],v[1])}),u=[];o.forEach(function(v,c){var d=a[c],h=[];s.forEach(function(p,g){var b=ke(v,p),m=Le(b,[d,i[g]]);h.push.apply(h,m.map(function(x){return{index1:c,index2:g,pos:x}}))}),h.sort(function(p,g){return kt(d[0],p.pos)-kt(d[0],g.pos)}),u.push.apply(u,h),Ae(d[1],n)&&u.push({index1:c,index2:-1,pos:d[1]})}),i.forEach(function(v,c){if(Ae(v[1],e)){var d=!1,h=wt(u,function(p){var g=p.index2;return g===c?(d=!0,!1):!!d});h===-1&&(d=!1,h=wt(u,function(p){var g=p.index1,b=p.index2;return g===-1&&b+1===c?(d=!0,!1):!!d})),h===-1?u.push({index1:-1,index2:c,pos:v[1]}):u.splice(h,0,{index1:-1,index2:c,pos:v[1]})}});var f=u.map(function(v){var c=v.pos;return c}),l={};return f.filter(function(v){var c=v[0]+"x"+v[1];return l[c]?!1:(l[c]=!0,!0)})}function jo(r,t){var e=Wo(r,t);return ua(e)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ne=function(){return Ne=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ne.apply(this,arguments)};function $o(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}var Uo=function(){function r(){this._events={}}var t=r.prototype;return t.on=function(e,n){if(Nt(e))for(var a in e)this.on(a,e[a]);else this._addEvent(e,n,{});return this},t.off=function(e,n){if(!e)this._events={};else if(Nt(e))for(var a in e)this.off(a);else if(!n)this._events[e]=[];else{var i=this._events[e];if(i){var o=wt(i,function(s){return s.listener===n});o>-1&&i.splice(o,1)}}return this},t.once=function(e,n){var a=this;return n&&this._addEvent(e,n,{once:!0}),new Promise(function(i){a._addEvent(e,i,{once:!0})})},t.emit=function(e,n){var a=this;n===void 0&&(n={});var i=this._events[e];if(!e||!i)return!0;var o=!1;return n.eventType=e,n.stop=function(){o=!0},n.currentTarget=this,$o(i).forEach(function(s){s.listener(n),s.once&&a.off(e,s.listener)}),!o},t.trigger=function(e,n){return n===void 0&&(n={}),this.emit(e,n)},t._addEvent=function(e,n,a){var i=this._events;i[e]=i[e]||[];var o=i[e];o.push(Ne({listener:n},a))},r}(),la=Uo;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Fe=function(r,t){return Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Fe(r,t)};function Ko(r,t){Fe(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Zo(r){var t=r.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}var Jo=function(r){Ko(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.startRect=null,n.startPos=[],n.prevTime=0,n.timer=0,n}var e=t.prototype;return e.dragStart=function(n,a){var i=a.container,o=0,s=0,u=0,f=0;if(i===document.body)u=window.innerWidth,f=window.innerHeight;else{var l=i.getBoundingClientRect();o=l.top,s=l.left,u=l.width,f=l.height}this.startPos=[n.clientX,n.clientY],this.startRect={top:o,left:s,width:u,height:f}},e.drag=function(n,a){var i=this,o=n.clientX,s=n.clientY,u=a.container,f=a.threshold,l=f===void 0?0:f,v=a.throttleTime,c=v===void 0?0:v,d=a.getScrollPosition,h=d===void 0?Zo:d,p=this,g=p.startRect,b=p.startPos,m=be(),x=Math.max(c+this.prevTime-m,0),S=[0,0];if(g.top>s-l?(b[1]>g.top||s<b[1])&&(S[1]=-1):g.top+g.height<s+l&&(b[1]<g.top+g.height||s>b[1])&&(S[1]=1),g.left>o-l?(b[0]>g.left||o<b[0])&&(S[0]=-1):g.left+g.width<o+l&&(b[0]<g.left+g.width||o>b[0])&&(S[0]=1),clearTimeout(this.timer),!S[0]&&!S[1])return!1;if(x>0)return this.timer=window.setTimeout(function(){i.drag(n,a)},x),!1;this.prevTime=m;var M=h({container:u,direction:S});this.trigger("scroll",{container:u,direction:S,inputEvent:n});var E=h({container:u,direction:S}),y=E[0]-M[0],C=E[1]-M[1];return!y&&!C?!1:(this.trigger("move",{offsetX:S[0]?y:0,offsetY:S[1]?C:0,inputEvent:n}),c&&(this.timer=window.setTimeout(function(){i.drag(n,a)},c)),!0)},e.dragEnd=function(){clearTimeout(this.timer)},t}(la),Qo=Jo;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Xe=function(r,t){return Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Xe(r,t)};function ts(r,t){Xe(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var zt=function(){return zt=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zt.apply(this,arguments)};function rs(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=Math.atan2(n,e);return a>=0?a:a+Math.PI*2}function Ve(r){return rs([r[0].clientX,r[0].clientY],[r[1].clientX,r[1].clientY])/Math.PI*180}function es(r){return r.touches&&r.touches.length>=2}function He(r){return r.touches?ns(r.touches):[va(r)]}function ca(r,t,e){var n=e.length,a=Cr(r,n),i=a.clientX,o=a.clientY,s=a.originalClientX,u=a.originalClientY,f=Cr(t,n),l=f.clientX,v=f.clientY,c=Cr(e,n),d=c.clientX,h=c.clientY,p=i-l,g=o-v,b=i-d,m=o-h;return{clientX:s,clientY:u,deltaX:p,deltaY:g,distX:b,distY:m}}function qe(r){return Math.sqrt(Math.pow(r[0].clientX-r[1].clientX,2)+Math.pow(r[0].clientY-r[1].clientY,2))}function ns(r){for(var t=Math.min(r.length,2),e=[],n=0;n<t;++n)e.push(va(r[n]));return e}function va(r){return{clientX:r.clientX,clientY:r.clientY}}function Cr(r,t){t===void 0&&(t=r.length);for(var e={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=0;n<t;++n){var a=r[n];e.originalClientX+="originalClientX"in a?a.originalClientX:a.clientX,e.originalClientY+="originalClientY"in a?a.originalClientY:a.clientY,e.clientX+=a.clientX,e.clientY+=a.clientY}return t?{clientX:e.clientX/t,clientY:e.clientY/t,originalClientX:e.originalClientX/t,originalClientY:e.originalClientY/t}:e}var da=function(){function r(e){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=e,this.prevClients=e,this.length=e.length}var t=r.prototype;return t.addClients=function(e){e===void 0&&(e=this.prevClients);var n=this.getPosition(e),a=n.deltaX,i=n.deltaY;return this.movement+=Math.sqrt(a*a+i*i),this.prevClients=e,n},t.getAngle=function(e){return e===void 0&&(e=this.prevClients),Ve(e)},t.getRotation=function(e){return e===void 0&&(e=this.prevClients),Ve(e)-Ve(this.startClients)},t.getPosition=function(e){return ca(e||this.prevClients,this.prevClients,this.startClients)},t.getPositions=function(e){e===void 0&&(e=this.prevClients);var n=this.prevClients;return this.startClients.map(function(a,i){return ca([e[i]],[n[i]],[a])})},t.getMovement=function(e){var n=this.movement;if(!e)return n;var a=Cr(e,this.length),i=Cr(this.prevClients,this.length),o=a.clientX-i.clientX,s=a.clientY-i.clientY;return Math.sqrt(o*o+s*s)+n},t.getDistance=function(e){return e===void 0&&(e=this.prevClients),qe(e)},t.getScale=function(e){return e===void 0&&(e=this.prevClients),qe(e)/qe(this.startClients)},t.move=function(e,n){this.startClients.forEach(function(a){a.clientX-=e,a.clientY-=n}),this.prevClients.forEach(function(a){a.clientX-=e,a.clientY-=n})},r}(),pa=["textarea","input"],as=function(r){ts(t,r);function t(n,a){a===void 0&&(a={});var i=r.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.datas={},i.isDrag=!1,i.isPinch=!1,i.isMouse=!1,i.isTouch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i.onDragStart=function(c,d){if(d===void 0&&(d=!0),!(!i.flag&&c.cancelable===!1)){var h=i.options,p=h.container,g=h.pinchOutside,b=h.preventRightClick,m=h.preventDefault,x=h.checkInput,S=i.isTouch,M=!i.flag;if(M){var E=document.activeElement,y=c.target,C=y.tagName.toLowerCase(),D=pa.indexOf(C)>-1,_=y.isContentEditable;if(D||_){if(x||E===y||E&&_&&E.isContentEditable&&E.contains(y))return!1}else if((m||c.type==="touchstart")&&E){var w=E.tagName;(E.isContentEditable||pa.indexOf(w)>-1)&&E.blur()}if(i.clientStores=[new da(He(c))],i.flag=!0,i.isDrag=!1,i.datas={},b&&(c.which===3||c.button===2))return i.initDrag(),!1;i.doubleFlag=be()-i.prevTime<200;var R=i.emit("dragStart",zt({datas:i.datas,inputEvent:c,isTrusted:d,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()));R===!1&&i.initDrag(),i.flag&&m&&c.preventDefault()}if(!i.flag)return!1;var B=0;if(M&&S&&g&&(B=setTimeout(function(){Rt(p,"touchstart",i.onDragStart,{passive:!1})})),!M&&S&&g&&bt(p,"touchstart",i.onDragStart),i.flag&&es(c)){if(clearTimeout(B),M&&c.touches.length!==c.changedTouches.length)return;i.pinchFlag||i.onPinchStart(c)}}},i.onDrag=function(c,d){if(!!i.flag){var h=He(c),p=i.moveClients(h,c,!1);if(i.pinchFlag||p.deltaX||p.deltaY){var g=i.emit("drag",zt({},p,{isScroll:!!d,inputEvent:c}));if(g===!1){i.stop();return}}i.pinchFlag&&i.onPinch(c,h),i.getCurrentStore().addClients(h)}},i.onDragEnd=function(c){if(!!i.flag){var d=i.options,h=d.pinchOutside,p=d.container;i.isTouch&&h&&bt(p,"touchstart",i.onDragStart),i.flag=!1;var g=i.getCurrentStore().getPosition(),b=be(),m=!i.isDrag&&i.doubleFlag;i.prevTime=i.isDrag||m?0:b,i.emit("dragEnd",zt({datas:i.datas,isDouble:m,isDrag:i.isDrag,isClick:!i.isDrag,inputEvent:c},g)),i.pinchFlag&&i.onPinchEnd(c),i.clientStores=[]}},i.onBlur=function(){i.onDragEnd()};var o=[].concat(n);i.options=zt({checkInput:!1,container:o.length>1?window:o[0],preventRightClick:!0,preventDefault:!0,checkWindowBlur:!1,pinchThreshold:0,events:["touch","mouse"]},a);var s=i.options,u=s.container,f=s.events,l=s.checkWindowBlur;if(i.isTouch=f.indexOf("touch")>-1,i.isMouse=f.indexOf("mouse")>-1,i.targets=o,i.isMouse&&(o.forEach(function(c){Rt(c,"mousedown",i.onDragStart)}),Rt(u,"mousemove",i.onDrag),Rt(u,"mouseup",i.onDragEnd),Rt(u,"contextmenu",i.onDragEnd)),l&&Rt(window,"blur",i.onBlur),i.isTouch){var v={passive:!1};o.forEach(function(c){Rt(c,"touchstart",i.onDragStart,v)}),Rt(u,"touchmove",i.onDrag,v),Rt(u,"touchend",i.onDragEnd,v),Rt(u,"touchcancel",i.onDragEnd,v)}return i}var e=t.prototype;return e.stop=function(){this.isDrag=!1,this.flag=!1,this.clientStores=[],this.datas={}},e.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(a,i){return a+i.movement},0)},e.isDragging=function(){return this.isDrag},e.isFlag=function(){return this.flag},e.isPinchFlag=function(){return this.pinchFlag},e.isDoubleFlag=function(){return this.doubleFlag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(n,a,i,o){o===void 0&&(o=!0),!!this.flag&&(this.clientStores[0].move(n,a),o&&this.onDrag(i,!0))},e.move=function(n,a){var i=n[0],o=n[1],s=this.getCurrentStore(),u=s.prevClients;return this.moveClients(u.map(function(f){var l=f.clientX,v=f.clientY;return{clientX:l+i,clientY:v+o,originalClientX:l,originalClientY:v}}),a,!0)},e.triggerDragStart=function(n){this.onDragStart(n,!1)},e.setEventDatas=function(n){var a=this.datas;for(var i in n)a[i]=n[i];return this},e.getEventDatas=function(){return this.datas},e.unset=function(){var n=this,a=this.targets,i=this.options.container;this.off(),bt(window,"blur",this.onBlur),this.isMouse&&(a.forEach(function(o){bt(o,"mousedown",n.onDragStart)}),bt(i,"mousemove",this.onDrag),bt(i,"mouseup",this.onDragEnd),bt(i,"contextmenu",this.onDragEnd)),this.isTouch&&(a.forEach(function(o){bt(o,"touchstart",n.onDragStart)}),bt(i,"touchstart",this.onDragStart),bt(i,"touchmove",this.onDrag),bt(i,"touchend",this.onDragEnd),bt(i,"touchcancel",this.onDragEnd))},e.onPinchStart=function(n){var a=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>a)){var i=new da(He(n));this.pinchFlag=!0,this.clientStores.splice(0,0,i);var o=this.emit("pinchStart",zt({datas:this.datas,angle:i.getAngle(),touches:this.getCurrentStore().getPositions()},i.getPosition(),{inputEvent:n}));o===!1&&(this.pinchFlag=!1)}},e.onPinch=function(n,a){if(!(!this.flag||!this.pinchFlag||a.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",zt({datas:this.datas,movement:this.getMovement(a),angle:i.getAngle(a),rotation:i.getRotation(a),touches:i.getPositions(a),scale:i.getScale(a),distance:i.getDistance(a)},i.getPosition(a),{inputEvent:n}))}},e.onPinchEnd=function(n){if(!!this.pinchFlag){var a=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",zt({datas:this.datas,isPinch:a,touches:i.getPositions()},i.getPosition(),{inputEvent:n})),this.isPinch=!1,this.pinchFlag=!1}},e.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1},e.getCurrentStore=function(){return this.clientStores[0]},e.moveClients=function(n,a,i){var o=this.getCurrentStore(),s=o[i?"addClients":"getPosition"](n);return this.isDrag=!0,zt({datas:this.datas},s,{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:a})},t}(la),is=as;function os(r){for(var t=5381,e=r.length;e;)t=t*33^r.charCodeAt(--e);return t>>>0}var ss=os;function us(r){return ss(r).toString(36)}function fs(r){if(r&&r.getRootNode){var t=r.getRootNode();if(t.nodeType===11)return t}}function ls(r,t,e){return e.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,a){var i=a.trim();return(i?Zt(i):[""]).map(function(o){var s=o.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?""+s.replace(/\:host/g,"."+r):s?"."+r+" "+s:"."+r}).join(", ")+" {"})}function cs(r,t,e,n){var a=document.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",r),e.nonce&&a.setAttribute("nonce",e.nonce),a.innerHTML=ls(r,t,e),(n||document.head||document.body).appendChild(a),a}function vs(r){var t="rCS"+us(r),e=0,n;return{className:t,inject:function(a,i){i===void 0&&(i={});var o=fs(a),s=e===0,u;return(o||s)&&(u=cs(t,r,i,o)),s&&(n=u),o||++e,{destroy:function(){o?(a.removeChild(u),u=null):(e>0&&--e,e===0&&n&&(n.parentNode.removeChild(n),n=null))}}}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var We=function(r,t){return We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},We(r,t)};function ha(r,t){We(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var je=function(){return je=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},je.apply(this,arguments)};function ds(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}var ps=function(r){ha(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.injectResult=null,n.tag="div",n}var e=t.prototype;return e.render=function(){var n=this.props,a=n.className,i=a===void 0?"":a;n.cspNonce;var o=n.portalContainer,s=ds(n,["className","cspNonce","portalContainer"]),u=this.injector.className,f=this.tag,l={};return Eo.indexOf("simple")>-1&&o&&(l={portalContainer:o}),Dt(f,je({ref:Bt(this,"element"),"data-styled-id":u,className:i+" "+u},l,s))},e.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},e.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},e.getElement=function(){return this.element},t}(_e);function ga(r,t){var e=vs(t);return function(n){ha(a,n);function a(){var i=n!==null&&n.apply(this,arguments)||this;return i.injector=e,i.tag=r,i}return a}(ps)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $e=function(r,t){return $e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},$e(r,t)};function _r(r,t){$e(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var O=function(){return O=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},O.apply(this,arguments)};function hs(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}function gs(r,t,e,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var s=r.length-1;s>=0;s--)(o=r[s])&&(i=(a<3?o(i):a>3?o(t,e,i):o(t,e))||i);return a>3&&i&&Object.defineProperty(t,e,i),i}function tt(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function wr(r,t){var e;return O({events:{},props:(e={},e[r]=Boolean,e),name:r},t)}function ma(r,t){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*r+'px" height="'+32*r+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+t+'deg);transform-origin: 16px 16px"></path></svg>'}function ms(r){var t=ma(1,r),e=ma(2,r),n=Math.round(r/45)*45%180,a="ns-resize";return n===135?a="nwse-resize":n===45?a="nesw-resize":n===90&&(a="ew-resize"),"cursor:"+a+";cursor: url('"+t+"') 16 16, "+a+";cursor: -webkit-image-set(url('"+t+"') 1x, url('"+e+"') 2x) 16 16, "+a+";"}var bs=wo(),ba=bs.browser.webkit,Sa=ba&&function(){var r=typeof window=="undefined"?{userAgent:""}:window.navigator,t=/applewebkit\/([^\s]+)/g.exec(r.userAgent.toLowerCase());return t?parseFloat(t[1])<605:!1}(),Ue="moveable-",Ss=`
{
	position: absolute;
	width: 1px;
	height: 1px;
	left: 0;
	top: 0;
    z-index: 3000;
    --moveable-color: #4af;
    --zoom: 1;
    --zoompx: 1px;
    will-change: transform;
}
.control-box {
    z-index: 0;
}
.line, .control {
    position: absolute;
	left: 0;
    top: 0;
    will-change: transform;
}
.control {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	border: 2px solid #fff;
	box-sizing: border-box;
    background: #4af;
    background: var(--moveable-color);
	margin-top: -7px;
    margin-left: -7px;
    border: 2px solid #fff;
    z-index: 10;
}
.padding {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100px;
    height: 100px;
    transform-origin: 0 0;
}
.line {
	width: 1px;
    height: 1px;
    background: #4af;
    background: var(--moveable-color);
	transform-origin: 0px 50%;
}
.line.dashed {
    box-sizing: border-box;
    background: transparent;
}
.line.dashed.horizontal {
    border-top: 1px dashed #4af;
    border-top-color: #4af;
    border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
    border-left: 1px dashed #4af;
    border-left-color: #4af;
    border-left-color: var(--moveable-color);
}
.line.vertical {
    transform: translateX(-50%);
}
.line.horizontal {
    transform: translateY(-50%);
}
.line.vertical.bold {
    width: 2px;
}
.line.horizontal.bold {
    height: 2px;
}

.control.origin {
	border-color: #f55;
	background: #fff;
	width: 12px;
	height: 12px;
	margin-top: -6px;
    margin-left: -6px;
	pointer-events: none;
}
`+[0,15,30,45,60,75,90,105,120,135,150,165].map(function(r){return`
.direction[data-rotation="`+r+`"] {
	`+ms(r)+`
}
`}).join(`
`)+`
.group {
    z-index: -1;
}
.area {
    position: absolute;
}
.area-pieces {
    position: absolute;
    top: 0;
    left: 0;
    display: none;
}
.area.avoid, .area.pass {
    pointer-events: none;
}
.area.avoid+.area-pieces {
    display: block;
}
.area-piece {
    position: absolute;
}

`+(Sa?`:global svg *:before {
	content:"";
	transform-origin: inherit;
}`:"")+`
`,xs=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Es=1e-4,yt=1e-7,Hr=1e-9,Or=Math.pow(10,10),xa=-Or,Ea=["n","w","s","e","nw","ne","sw","se"],ys={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},Ms={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},ya=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager"];function Ds(r,t){return[r[0]*t[0],r[1]*t[1]]}function q(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return zi.apply(void 0,tt([Ue],r))}function Cs(r){if(!r||r==="none")return[1,0,0,1,0,0];if(Nt(r))return r;var t=ge(r).value;return t.split(/s*,\s*/g).map(function(e){return parseFloat(e)})}function Ke(r,t,e){return Be(t,Mr(e,t),r,Mr(e.map(function(n){return-n}),t))}function _s(r,t,e){if(t==="%"){var n=Qe(r.ownerSVGElement);return n[e?"width":"height"]/100}return 1}function ws(r){var t=Ze(St(r,":before"));return t.map(function(e,n){var a=gr(e),i=a.value,o=a.unit;return i*_s(r,o,n===0)})}function Ze(r){var t=r.transformOrigin;return t?t.split(" "):["0","0"]}function qr(r,t,e){for(var n=document.body,a=!r||e?r:r.parentElement,i=r===t||a===t,o="relative";a&&a!==n;){t===a&&(i=!0);var s=St(a),u=s.transform;if(o=s.position,a.tagName.toLowerCase()==="svg"||o!=="static"||u&&u!=="none")break;a=a.parentElement,o="relative"}return{isStatic:o==="static",isEnd:i||!a||a===n,offsetParent:a||n}}function Os(r,t,e,n){var a,i=r.tagName.toLowerCase(),o=r.offsetLeft,s=r.offsetTop;if(n){var u=(t||document.documentElement).getBoundingClientRect();o-=u.left,s-=u.top}var f=hr(o),l=!f,v,c;return!l&&i!=="svg"?(v=Sa?ws(r):Ze(e).map(function(d){return parseFloat(d)}),c=v.slice(),l=!0,a=Bs(r,v),o=a[0],s=a[1],v[0]=a[2],v[1]=a[3]):(v=Ze(e).map(function(d){return parseFloat(d)}),c=v.slice()),{tagName:i,isSVG:f,hasOffset:l,offset:[o||0,s||0],origin:v,targetOrigin:c}}function Ma(r,t,e){e===void 0&&(e=St(r));var n=St(document.body),a=n.position;if(!t&&(!a||a==="static"))return[0,0];var i=parseInt(n.marginLeft,10),o=parseInt(n.marginTop,10);return e.position==="absolute"&&((e.top!=="auto"||e.bottom!=="auto")&&(o=0),(e.left!=="auto"||e.right!=="auto")&&(i=0)),[i,o]}function Je(r){r.forEach(function(t){var e=t.matrix;e&&(t.matrix=Lt(e,3,4))})}function Da(r,t,e){for(var n=r,a=[],i=!e&&r===t,o=i,s=!1,u=3,f,l,v,c=qr(t,t,!0).offsetParent;n&&!o;){o=i;var d=St(n),h=d.position,p=h==="fixed",g=zo(Cs(d.transform)),b=g.length;!s&&b===16&&(s=!0,u=4,Je(a),v&&(v=Lt(v,3,4))),s&&b===9&&(g=Lt(g,3,4));var m=Os(n,t,d,p),x=m.tagName,S=m.hasOffset,M=m.isSVG,E=m.origin,y=m.targetOrigin,C=m.offset,D=C[0],_=C[1];x==="svg"&&v?(a.push({type:"target",target:n,matrix:Ts(n,u)}),a.push({type:"offset",target:n,matrix:ut(u)})):x==="g"&&r!==n&&(D=0,_=0);var w=qr(n,t),R=w.offsetParent,B=w.isEnd,T=w.isStatic;ba&&S&&!M&&T&&(h==="relative"||h==="static")&&(D-=R.offsetLeft,_-=R.offsetTop,i=i||B);var P=0,N=0;if(S&&c!==R&&(P=R.clientLeft,N=R.clientTop),S&&R===document.body){var k=Ma(n,!1,d);D+=k[0],_+=k[1]}if(a.push({type:"target",target:n,matrix:Ke(g,u,E)}),S?a.push({type:"offset",target:n,matrix:Mr([D-n.scrollLeft+P,_-n.scrollTop+N],u)}):a.push({type:"offset",target:n,origin:E}),v||(v=g),f||(f=E),l||(l=y),o||p)break;n=R,i=B,(!e||n===document.body)&&(o=i)}return v||(v=ut(u)),f||(f=[0,0]),l||(l=[0,0]),{offsetContainer:c,matrixes:a,targetMatrix:v,transformOrigin:f,targetOrigin:l,is3d:s}}function Rs(r,t,e,n){var a;e===void 0&&(e=t);var i=0,o=0,s=0,u={};if(r){var f=St(r);i=r.offsetWidth,o=r.offsetHeight,hr(i)&&(a=Oa(r,f,!0),i=a[0],o=a[1])}if(r){var l=Ps(r,t,e,n),v=jr(l.allMatrix,l.transformOrigin,i,o);u=O(O({},l),v);var c=jr(l.allMatrix,[50,50],100,100);s=Ra([c.pos1,c.pos2],c.direction)}var d=n?4:3;return O({width:i,height:o,rotation:s,rootMatrix:ut(d),beforeMatrix:ut(d),offsetMatrix:ut(d),allMatrix:ut(d),targetMatrix:ut(d),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1},u)}function Ps(r,t,e,n){e===void 0&&(e=t);var a=Da(r,t),i=a.matrixes,o=a.is3d,s=a.targetMatrix,u=a.transformOrigin,f=a.targetOrigin,l=a.offsetContainer,v=Da(l,e,!0),c=v.matrixes,d=v.is3d,h=n||d||o,p=h?4:3,g=r.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in r,b=s,m=ut(p),x=ut(p),S=ut(p),M=ut(p),E=i.length,y=e||document.body,C=qr(y,y,!0).offsetParent;c.reverse(),i.reverse(),!o&&h&&(b=Lt(b,3,4),Je(i)),!d&&h&&Je(c),c.forEach(function(w){x=nt(x,w.matrix,p)}),i.forEach(function(w,R){if(E-2===R&&(S=m.slice()),E-1===R&&(M=m.slice()),!w.matrix){var B=i[R+1],T=Is(w,B,C,p,nt(x,m,p));w.matrix=Mr(T,p)}m=nt(m,w.matrix,p)});var D=!g&&o;b||(b=ut(D?4:3));var _=Wr(g&&b.length===16?Lt(b,4,3):b,D);return x=na(x,p,p),{rootMatrix:x,beforeMatrix:S,offsetMatrix:M,allMatrix:m,targetMatrix:b,targetTransform:_,transformOrigin:u,targetOrigin:f,is3d:h}}function Wr(r,t){return t===void 0&&(t=r.length>9),(t?"matrix3d":"matrix")+"("+aa(r,!t).join(",")+")"}function Qe(r){var t=r.clientWidth,e=r.clientHeight;if(!r)return{x:0,y:0,width:0,height:0,clientWidth:t,clientHeight:e};var n=r.viewBox,a=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:a.x,y:a.y,width:a.width||t,height:a.height||e,clientWidth:t,clientHeight:e}}function Ts(r,t){var e=Qe(r),n=e.width,a=e.height,i=e.clientWidth,o=e.clientHeight,s=i/n,u=o/a,f=r.preserveAspectRatio.baseVal,l=f.align,v=f.meetOrSlice,c=[0,0],d=[s,u],h=[0,0];if(l!==1){var p=(l-2)%3,g=Math.floor((l-2)/3);c[0]=n*p/2,c[1]=a*g/2;var b=v===2?Math.max(u,s):Math.min(s,u);d[0]=b,d[1]=b,h[0]=(i-n)/2*p,h[1]=(o-a)/2*g}var m=oa(d,t);return m[t*(t-1)]=h[0],m[t*(t-1)+1]=h[1],Ke(m,t,c)}function Bs(r,t){if(!r.getBBox)return[0,0];var e=r.getBBox(),n=Qe(r.ownerSVGElement),a=e.x-n.x,i=e.y-n.y;return[a,i,t[0]-a,t[1]-i]}function pt(r,t,e){return gt(r,yr(t,e),e)}function Rr(r,t,e,n){return[[0,0],[t,0],[0,e],[t,e]].map(function(a){return pt(r,a,n)})}function Ct(r){var t=r.map(function(f){return f[0]}),e=r.map(function(f){return f[1]}),n=Math.min.apply(Math,t),a=Math.min.apply(Math,e),i=Math.max.apply(Math,t),o=Math.max.apply(Math,e),s=i-n,u=o-a;return{left:n,top:a,right:i,bottom:o,width:s,height:u}}function Ca(r,t,e,n){var a=Rr(r,t,e,n);return Ct(a)}function Is(r,t,e,n,a){var i,o=r.target,s=r.origin,u=t.matrix,f=Oa(o,void 0,!0),l=f[0],v=f[1],c=e.getBoundingClientRect(),d=[0,0];e===document.body&&(d=Ma(o,!0));for(var h=o.getBoundingClientRect(),p=h.left-c.left+e.scrollLeft-(e.clientLeft||0)+d[0],g=h.top-c.top+e.scrollTop-(e.clientTop||0)+d[1],b=h.width,m=h.height,x=Be(n,a,u),S=Ca(x,l,v,n),M=S.left,E=S.top,y=S.width,C=S.height,D=pt(x,s,n),_=H(D,[M,E]),w=[p+_[0]*b/y,g+_[1]*m/C],R=[0,0],B=0;++B<10;){var T=It(a,n);i=H(pt(T,w,n),pt(T,D,n)),R[0]=i[0],R[1]=i[1];var P=Be(n,a,Mr(R,n),u),N=Ca(P,l,v,n),k=N.left,z=N.top,G=k-p,I=z-g;if(Math.abs(G)<2&&Math.abs(I)<2)break;w[0]-=G,w[1]-=I}return R.map(function(V){return Math.round(V)})}function jr(r,t,e,n){var a=r.length===16,i=a?4:3,o=Rr(r,e,n,i),s=o[0],u=s[0],f=s[1],l=o[1],v=l[0],c=l[1],d=o[2],h=d[0],p=d[1],g=o[3],b=g[0],m=g[1],x=pt(r,t,i),S=x[0],M=x[1],E=Math.min(u,v,h,b),y=Math.min(f,c,p,m),C=Math.max(u,v,h,b),D=Math.max(f,c,p,m);u=u-E||0,v=v-E||0,h=h-E||0,b=b-E||0,f=f-y||0,c=c-y||0,p=p-y||0,m=m-y||0,S=S-E||0,M=M-y||0;var _=xe(o);return{left:E,top:y,right:C,bottom:D,origin:[S,M],pos1:[u,f],pos2:[v,c],pos3:[h,p],pos4:[b,m],direction:_}}function Pt(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function _a(r,t){return Pt([t[0]-r[0],t[1]-r[1]])}function Pr(r,t,e,n){e===void 0&&(e=1),n===void 0&&(n=et(r,t));var a=_a(r,t);return{transform:"translateY(-50%) translate("+r[0]+"px, "+r[1]+"px) rotate("+n+"rad) scaleY("+e+")",width:a+"px"}}function wa(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var a=e.length,i=e.reduce(function(s,u){return s+u[0]},0)/a,o=e.reduce(function(s,u){return s+u[1]},0)/a;return{transform:"translateZ(0px) translate("+i+"px, "+o+"px) rotate("+r+"rad) scale("+t+")"}}function zs(r){var t=St(r);return[parseFloat(t.width),parseFloat(t.height)]}function Oa(r,t,e,n){t===void 0&&(t=St(r)),n===void 0&&(n=e||t.boxSizing==="border-box");var a=r.offsetWidth,i=r.offsetHeight,o=!hr(a);if((e||n)&&o)return[a,i];if(!o&&r.tagName.toLowerCase()!=="svg"){var s=r.getBBox();return[s.width,s.height]}if(a=r.clientWidth,i=r.clientHeight,e||n){var u=parseFloat(t.borderLeftWidth)||0,f=parseFloat(t.borderRightWidth)||0,l=parseFloat(t.borderTopWidth)||0,v=parseFloat(t.borderBottomWidth)||0;return[a+u+f,i+l+v]}else{var c=parseFloat(t.paddingLeft)||0,d=parseFloat(t.paddingRight)||0,h=parseFloat(t.paddingTop)||0,p=parseFloat(t.paddingBottom)||0;return[a-c-d,i-h-p]}}function Ra(r,t){return et(t>0?r[0]:r[1],t>0?r[1]:r[0])}function tn(r,t,e,n,a){var i=1,o=[0,0],s=rn(),u=rn(),f=rn(),l=Rs(t,e,a,!1);if(t){var v=l.is3d?4:3,c=jr(l.offsetMatrix,j(l.transformOrigin,Bo(l.targetMatrix,v)),l.width,l.height);i=c.direction,o=j(c.origin,[c.left-l.left,c.top-l.top]),s=$r(t),u=$r(qr(n,n,!0).offsetParent||document.body,!0),r&&(f=$r(r))}return O({targetClientRect:s,containerClientRect:u,moveableClientRect:f,beforeDirection:i,beforeOrigin:o,originalBeforeOrigin:o,target:t},l)}function rn(){return{left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function $r(r,t){var e=0,n=0,a=0,i=0;if(r===document.body||r===document.documentElement)a=window.innerWidth,i=window.innerHeight,e=-(document.documentElement.scrollLeft||document.body.scrollLeft),n=-(document.documentElement.scrollTop||document.body.scrollTop);else{var o=r.getBoundingClientRect();e=o.left,n=o.top,a=o.width,i=o.height}var s={left:e,right:e+a,top:n,bottom:n+i,width:a,height:i};return t&&(s.clientLeft=r.clientLeft,s.clientTop=r.clientTop,s.clientWidth=r.clientWidth,s.clientHeight=r.clientHeight,s.scrollWidth=r.scrollWidth,s.scrollHeight=r.scrollHeight,s.overflow=St(r).overflow!=="visible"),s}function en(r){if(!!r){var t=r.getAttribute("data-direction");if(!!t){var e=[0,0];return t.indexOf("w")>-1&&(e[0]=-1),t.indexOf("e")>-1&&(e[0]=1),t.indexOf("n")>-1&&(e[1]=-1),t.indexOf("s")>-1&&(e[1]=1),e}}}function nn(r,t){return[j(t,r[0]),j(t,r[1]),j(t,r[2]),j(t,r[3])]}function Gt(r){var t=r.left,e=r.top,n=r.pos1,a=r.pos2,i=r.pos3,o=r.pos4;return nn([n,a,i,o],[t,e])}function Gs(r){return Math.round(r%1==-.5?r-1:r)}function ir(r,t){r[t]&&(r[t].unset(),r[t]=null)}function $(r,t,e){var n=t.datas;n.datas||(n.datas={});var a=O(O({},e),{target:r.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:r,moveable:r,datas:n.datas});return n.isStartEvent?n.lastEvent=a:n.isStartEvent=!0,a}function Mt(r,t,e){var n=t.datas,a="isDrag"in e?e.isDrag:t.isDrag;return n.datas||(n.datas={}),O(O({isDrag:a},e),{moveable:r,target:r.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:r,lastEvent:n.lastEvent,isDouble:t.isDouble,datas:n.datas})}function Y(r,t,e,n){return r.triggerEvent(t,e,n)}function St(r,t){return window.getComputedStyle(r,t)}function Ur(r,t,e){var n={},a={};return r.filter(function(i){var o=i.name;if(n[o]||!t.some(function(s){return i[s]}))return!1;if(!e&&i.ableGroup){if(a[i.ableGroup])return!1;a[i.ableGroup]=!0}return n[o]=!0,!0})}function an(r,t){return r===t||r==null&&t==null}function As(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=r.length-1,n=0;n<e;++n){var a=r[n];if(!hr(a))return a}return r[e]}function ks(r,t){var e=[],n=[];return r.forEach(function(a,i){var o=t(a,i,r),s=n.indexOf(o),u=e[s]||[];s===-1&&(n.push(o),e.push(u)),u.push(a)}),e}function Ls(r,t){var e=[],n={};return r.forEach(function(a,i){var o=t(a,i,r),s=n[o];s||(s=[],n[o]=s,e.push(s)),s.push(a)}),e}function Ys(r){return r.reduce(function(t,e){return t.concat(e)},[])}function or(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.sort(function(e,n){return Math.abs(n)-Math.abs(e)}),r[0]}function sr(r,t,e){return gt(It(r,e),yr(t,e),e)}function Pa(r,t){var e,n=r.is3d,a=r.rootMatrix,i=n?4:3;return e=sr(a,[t.distX,t.distY],i),t.distX=e[0],t.distY=e[1],t}function Kr(r,t,e,n,a){return H(pt(r,j(e,t),a),n)}function Tt(r,t,e){return e?r/t*100+"%":r+"px"}function Ns(r,t,e,n){var a=r[t],i=a.direction,o=a.sub,s=r.map(function(){return[0,0]}),u=i?i.split(""):[];if(n&&t<8){var f=u.filter(function(v){return v==="w"||v==="e"})[0],l=u.filter(function(v){return v==="n"||v==="s"})[0];s[t]=e,r.forEach(function(v,c){var d=v.direction;!d||(d.indexOf(f)>-1&&(s[c][0]=e[0]),d.indexOf(l)>-1&&(s[c][1]=e[1]))}),f&&(s[1][0]=e[0]/2,s[5][0]=e[0]/2),l&&(s[3][1]=e[1]/2,s[7][1]=e[1]/2)}else i&&!o?u.forEach(function(v){var c=v==="n"||v==="s";r.forEach(function(d,h){var p=d.direction,g=d.horizontal,b=d.vertical;!p||p.indexOf(v)===-1||(s[h]=[c||!g?0:e[0],!c||!b?0:e[1]])})}):s[t]=e;return s}function ur(r){return Math.abs(r)<=yt?0:r}function Tr(r,t){return t.isRequest?t.requestAble==="resizable"||t.requestAble==="scalable"?t.parentDirection:!1:Ot(t.inputEvent.target,q("direction"))}function Fs(r){var t={};for(var e in r)t[r[e]]=e;return t}function Xs(r,t){var e=r.slice(0,t<0?void 0:t),n=r.slice(0,t<0?void 0:t+1),a=r[t]||"",i=t<0?[]:r.slice(t),o=t<0?[]:r.slice(t+1),s=Qt(e),u=Qt(n),f=Qt([a]),l=Qt(i),v=Qt(o),c=ar(s),d=ar(u),h=ar(l),p=ar(v),g=nt(c,h,4);return{transforms:r,beforeFunctionMatrix:c,beforeFunctionMatrix2:d,targetFunctionMatrix:ar(f),afterFunctionMatrix:h,afterFunctionMatrix2:p,allFunctionMatrix:g,beforeFunctions:s,beforeFunctions2:u,targetFunction:f[0],afterFunctions:l,afterFunctions2:v,beforeFunctionTexts:e,beforeFunctionTexts2:n,targetFunctionText:a,afterFunctionTexts:i,afterFunctionTexts2:o}}function Vs(r){return!r||!Nt(r)?!1:Kt(r)||"length"in r}function Zr(r,t){return r?_t(r)?t?document.querySelector(r):r:An(r)?r():"current"in r?r.current:r:null}function on(r,t){if(!r)return[];var e=Vs(r)?[].slice.call(r):[r];return e.reduce(function(n,a){return _t(a)&&t?tt(n,[].slice.call(document.querySelectorAll(a))):(n.push(Zr(a,t)),n)},[])}function Hs(r,t){var e=[];return r.forEach(function(n){if(!!n){if(_t(n)){t[n]&&e.push.apply(e,t[n]);return}e.push(n)}}),e}function qs(r,t,e){var n=et(r,t)/Math.PI*180;return n=e>=0?n:180-n,n=n>=0?n:360+n,n}function Ta(r,t){var e=r.rootMatrix,n=r.is3d,a=n?4:3,i=It(e,a);return n||(i=Lt(i,3,4)),i[12]=0,i[13]=0,i[14]=0,No(i,t)}var Ws=wr("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(r,t){var e=t.datas,n=t.targets,a=t.angle,i=t.originalDatas,o=r.props,s=o.pinchable,u=o.ables;if(!s)return!1;var f="onPinch"+(n?"Group":"")+"Start",l="drag"+(n?"Group":"")+"ControlStart",v=(s===!0?r.controlAbles:u.filter(function(p){return s.indexOf(p.name)>-1})).filter(function(p){return p.canPinch&&p[l]}),c=$(r,t,{});n&&(c.targets=n);var d=Y(r,f,c);e.isPinch=d!==!1,e.ables=v;var h=e.isPinch;return h?(v.forEach(function(p){if(i[p.name]=i[p.name]||{},!!p[l]){var g=O(O({},t),{datas:i[p.name],parentRotate:a,isPinch:!0});p[l](r,g)}}),r.state.snapRenderInfo={request:t.isRequest,direction:[0,0]},h):!1},pinch:function(r,t){var e=t.datas,n=t.scale,a=t.distance,i=t.originalDatas,o=t.inputEvent,s=t.targets,u=t.angle;if(!!e.isPinch){var f=a*(1-1/n),l=$(r,t,{});s&&(l.targets=s);var v="onPinch"+(s?"Group":"");Y(r,v,l);var c=e.ables,d="drag"+(s?"Group":"")+"Control";return c.forEach(function(h){!h[d]||h[d](r,O(O({},t),{datas:i[h.name],inputEvent:o,parentDistance:f,parentRotate:u,isPinch:!0}))}),l}},pinchEnd:function(r,t){var e=t.datas,n=t.isPinch,a=t.inputEvent,i=t.targets,o=t.originalDatas;if(!!e.isPinch){var s="onPinch"+(i?"Group":"")+"End",u=Mt(r,t,{isDrag:n});i&&(u.targets=i),Y(r,s,u);var f=e.ables,l="drag"+(i?"Group":"")+"ControlEnd";return f.forEach(function(v){!v[l]||v[l](r,O(O({},t),{isDrag:n,datas:o[v.name],inputEvent:a,isPinch:!0}))}),n}},pinchGroupStart:function(r,t){return this.pinchStart(r,O(O({},t),{targets:r.props.targets}))},pinchGroup:function(r,t){return this.pinch(r,O(O({},t),{targets:r.props.targets}))},pinchGroupEnd:function(r,t){return this.pinchEnd(r,O(O({},t),{targets:r.props.targets}))}});function Jr(r,t,e,n,a){var i=t.gesto.move(e,r.inputEvent),o=i.originalDatas||i.datas,s=o.draggable||(o.draggable={});return O(O({},a?Pa(t,i):i),{isDrag:!0,isPinch:!!n,parentEvent:!0,datas:s,originalDatas:r.originalDatas})}var Br=function(){function r(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var t=r.prototype;return t.dragStart=function(e,n){this.isDrag=!1,this.isFlag=!1;var a=n.originalDatas;return this.datas=a,a.draggable||(a.draggable={}),O(O({},this.move(e,n.inputEvent)),{type:"dragstart"})},t.drag=function(e,n){return this.move([e[0]-this.prevX,e[1]-this.prevY],n)},t.move=function(e,n){var a,i;return this.isFlag?(a=this.prevX+e[0],i=this.prevY+e[1],this.isDrag=!0):(this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],a=e[0],i=e[1],this.isFlag=!0),this.prevX=a,this.prevY=i,{type:"drag",clientX:a,clientY:i,inputEvent:n,isDrag:this.isDrag,distX:a-this.startX,distY:i-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentGesto:this}},r}();function fr(r,t,e){var n=e.originalDatas;n.groupable=n.groupable||{};var a=n.groupable;a.childDatas=a.childDatas||[];var i=a.childDatas;return r.moveables.map(function(o,s){return i[s]=i[s]||{},i[s][t]=i[s][t]||{},O(O({},e),{datas:i[s][t],originalDatas:i[s]})})}function sn(r,t,e,n,a,i){var o=!!e.match(/Start$/g),s=!!e.match(/End$/g),u=a.isPinch,f=a.datas,l=fr(r,t.name,a),v=r.moveables,c=l.map(function(d,h){var p=v[h],g=d;o?g=new Br().dragStart(n,d):(p.state.gesto||(p.state.gesto=f.childGestos[h]),g=Jr(d,p.state,n,u,i));var b=t[e](p,O(O({},g),{parentFlag:!0}));return s&&(p.state.gesto=null),b});return o&&(f.childGestos=v.map(function(d){return d.state.gesto})),c}function Yt(r,t,e,n,a,i){a===void 0&&(a=function(l,v){return v});var o=!!e.match(/End$/g),s=fr(r,t.name,n),u=r.moveables,f=s.map(function(l,v){var c=u[v],d=l;d=a(c,l);var h=t[e](c,O(O({},d),{parentFlag:!0}));return h&&i&&i(c,l,h,v),o&&(c.state.gesto=null),h});return f}function Ba(r,t){var e=t.clientX,n=t.clientY,a=t.datas,i=r.state,o=i.moveableClientRect,s=i.rootMatrix,u=i.is3d,f=i.pos1,l=o.left,v=o.top,c=u?4:3,d=H(sr(s,[e-l,n-v],c),f),h=d[0],p=d[1],g=At({datas:a,distX:h,distY:p}),b=g[0],m=g[1];return[b,m]}function tr(r,t){var e=t.datas,n=r.state,a=n.allMatrix,i=n.beforeMatrix,o=n.is3d,s=n.left,u=n.top,f=n.origin,l=n.offsetMatrix,v=n.targetMatrix,c=n.transformOrigin,d=o?4:3;e.is3d=o,e.matrix=a,e.targetMatrix=v,e.beforeMatrix=i,e.offsetMatrix=l,e.transformOrigin=c,e.inverseMatrix=It(a,d),e.inverseBeforeMatrix=It(i,d),e.absoluteOrigin=yr(j([s,u],f),d),e.startDragBeforeDist=gt(e.inverseBeforeMatrix,e.absoluteOrigin,d),e.startDragDist=gt(e.inverseMatrix,e.absoluteOrigin,d)}function js(r){return jr(r.datas.beforeTransform,[50,50],100,100).direction}function Qr(r,t){var e=r.datas,n=r.originalDatas.beforeRenderable,a=e.transformIndex,i=n.nextTransforms,o=n.nextTransformAppendedIndexes,s=a===-1?i.length:a+o.filter(function(v){return v<a}).length,u=Xs(i,s),f=u.targetFunction,l=t==="rotate"?"rotateZ":t;e.beforeFunctionTexts=u.beforeFunctionTexts,e.afterFunctionTexts=u.afterFunctionTexts,e.beforeTransform=u.beforeFunctionMatrix,e.beforeTransform2=u.beforeFunctionMatrix2,e.targetTansform=u.targetFunctionMatrix,e.afterTransform=u.afterFunctionMatrix,e.afterTransform2=u.afterFunctionMatrix2,e.targetAllTransform=u.allFunctionMatrix,f.functionName===l?(e.afterFunctionTexts.splice(0,1),e.isAppendTransform=!1):(e.isAppendTransform=!0,n.nextTransformAppendedIndexes=tt(o,[s]))}function te(r,t,e){return r.beforeFunctionTexts.join(" ")+" "+(r.isAppendTransform?e:t)+" "+r.afterFunctionTexts.join(" ")}function $s(r){var t=r.datas,e=r.distX,n=r.distY,a=za({datas:t,distX:e,distY:n}),i=a[0],o=a[1],s=Ia(t,Io([i,o],4));return gt(s,yr([0,0,0],4),4)}function Ia(r,t,e){var n=r.beforeTransform,a=r.afterTransform,i=r.beforeTransform2,o=r.afterTransform2,s=r.targetAllTransform,u=e?nt(s,t,4):nt(t,s,4),f=nt(It(e?i:n,4),u,4),l=nt(f,It(e?o:a,4),4);return l}function za(r){var t=r.datas,e=r.distX,n=r.distY,a=t.inverseBeforeMatrix,i=t.is3d,o=t.startDragBeforeDist,s=t.absoluteOrigin,u=i?4:3;return H(gt(a,j(s,[e,n]),u),o)}function At(r,t){var e=r.datas,n=r.distX,a=r.distY,i=e.inverseBeforeMatrix,o=e.inverseMatrix,s=e.is3d,u=e.startDragBeforeDist,f=e.startDragDist,l=e.absoluteOrigin,v=s?4:3;return H(gt(t?i:o,j(l,[n,a]),v),t?u:f)}function Us(r,t){var e=r.datas,n=r.distX,a=r.distY,i=e.beforeMatrix,o=e.matrix,s=e.is3d,u=e.startDragBeforeDist,f=e.startDragDist,l=e.absoluteOrigin,v=s?4:3;return H(gt(t?i:o,j(t?u:f,[n,a]),v),l)}function Ks(r,t,e,n,a,i){return n===void 0&&(n=t),a===void 0&&(a=e),i===void 0&&(i=[0,0]),r?r.map(function(o,s){var u=gr(o),f=u.value,l=u.unit,v=s?a:n,c=s?e:t;if(o==="%"||isNaN(f)){var d=v?i[s]/v:0;return c*d}else if(l!=="%")return f;return c*f/100}):i}function Ga(r){var t=[];return r[1]>=0&&(r[0]>=0&&t.push(3),r[0]<=0&&t.push(2)),r[1]<=0&&(r[0]>=0&&t.push(1),r[0]<=0&&t.push(0)),t}function Aa(r,t){return Ga(t).map(function(e){return r[e]})}function mt(r,t){var e=Aa(r,t);return[mr(e.map(function(n){return n[0]})),mr(e.map(function(n){return n[1]}))]}function Zs(r,t){return mt(r,t.map(function(e){return-e}))}function Js(r,t,e,n,a,i){var o=Rr(t,e,n,a),s=mt(o,i),u=r[0]-s[0],f=r[1]-s[1];return[u,f]}function re(r,t,e,n){return nt(r,Ke(t,n,e),n)}function Qs(r,t,e){var n=r.transformOrigin,a=r.offsetMatrix,i=r.is3d,o=t.beforeTransform,s=t.afterTransform,u=i?4:3,f=Yo([e]);return re(a,Lt(nt(nt(o,f,4),s,4),4,u),n,u)}function tu(r,t){var e=r.transformOrigin,n=r.offsetMatrix,a=r.is3d,i=r.targetMatrix,o=a?4:3;return re(n,nt(i,oa(t,o),o),e,o)}function ee(r){var t=r.originalDatas.beforeRenderable;return{setTransform:function(e,n){n===void 0&&(n=-1),t.startTransforms=Kt(e)?e:Ft(e),un(r,n)},setTransformIndex:function(e){un(r,e)}}}function ne(r,t){var e=r.originalDatas.beforeRenderable,n=e.startTransforms;un(r,wt(n,function(a){return a.indexOf(t+"(")===0}))}function un(r,t){var e=r.originalDatas.beforeRenderable,n=r.datas;if(n.transformIndex=t,t!==-1){var a=e.startTransforms[t];if(!!a){var i=Qt([a]);n.startValue=i[0].functionValue}}}function ka(r,t){var e=r.originalDatas.beforeRenderable;e.nextTransforms=Ft(t)}function La(r,t,e,n,a){return ka(a,t),{transform:t,drag:xt.drag(r,Jr(a,r.state,e,n,!1))}}function Ya(r,t,e,n,a){var i=r.state,o=i.left,s=i.top,u=r.props.groupable,f=Qs(r.state,a,t),l=u?o:0,v=u?s:0,c=Fa(r,e,f),d=H(n,c);return H(d,[l,v])}function ru(r,t,e,n,a){return Ya(r,"scale("+t.join(", ")+")",e,n,a)}function Na(r){var t=r.state,e=t.width,n=t.height,a=t.transformOrigin;return[-1+a[0]/(e/2),-1+a[1]/(n/2)]}function Fa(r,t,e){e===void 0&&(e=r.state.allMatrix);var n=r.state,a=n.width,i=n.height,o=n.is3d,s=o?4:3,u=[a/2*(1+t[0]),i/2*(1+t[1])];return pt(e,u,s)}function eu(r,t,e,n){var a=Na(r);return Ya(r,"rotate("+t+"deg)",a,e,n)}function nu(r,t,e,n,a,i){var o=r.props.groupable,s=r.state,u=s.transformOrigin,f=s.targetMatrix,l=s.offsetMatrix,v=s.is3d,c=s.width,d=s.height,h=s.left,p=s.top,g=v?4:3,b=Ks(i,t,e,c,d,u),m=o?h:0,x=o?p:0,S=re(l,f,b,g),M=Js(a,S,t,e,g,n);return H(M,[m,x])}function lr(r,t){return mt(Gt(r.state),t)}var au=["left","right","center"],iu=["top","bottom","middle"],Ht={start:"left",end:"right",center:"center"},qt={start:"top",end:"bottom",center:"middle"};function cr(r,t){var e=r.props,n=e.snappable,a=e.bounds,i=e.innerBounds,o=e.verticalGuidelines,s=e.horizontalGuidelines,u=e.snapGridWidth,f=e.snapGridHeight,l=r.state,v=l.guidelines,c=l.enableSnap;return!n||!c||t&&n!==!0&&n.indexOf(t)<0?!1:!!(u||f||a||i||v&&v.length||o&&o.length||s&&s.length)}function fn(r){return r===!1?{}:r===!0||!r?{left:!0,right:!0,top:!0,bottom:!0}:r}function ou(r,t){var e=fn(r),n={};for(var a in e)a in t&&e[a]&&(n[a]=t[a]);return n}function ln(r,t){var e=ou(r,t),n=iu.filter(function(i){return i in e}),a=au.filter(function(i){return i in e});return{horizontal:n.map(function(i){return e[i]}),vertical:a.map(function(i){return e[i]})}}function su(r,t,e){var n=r.state.elementRects,a=[];return[["vertical",Ht,qt],["horizontal",qt,Ht]].forEach(function(i){var o=i[0],s=i[1],u=i[2],f=t[s.start],l=t[s.end],v=t[s.center],c=t[u.start],d=t[u.end];function h(b){var m=b.rect;return m[s.end]<f+e?f-m[s.end]:l-e<m[s.start]?m[s.start]-l:-1}var p=n.filter(function(b){var m=b.rect;return m[u.start]>d||m[u.end]<c?!1:h(b)>0}).sort(function(b,m){return h(b)-h(m)}),g=[];p.forEach(function(b){p.forEach(function(m){if(b!==m){var x=b.rect,S=m.rect,M=x[u.start],E=x[u.end],y=S[u.start],C=S[u.end];M>C||y>E||g.push([b,m])}})}),g.forEach(function(b){var m=b[0],x=b[1],S=m.rect,M=x.rect,E=S[s.start],y=S[s.end],C=M[s.start],D=M[s.end],_=0,w=0,R=!1,B=!1,T=!1;if(y<=f&&l<=C){if(B=!0,_=(C-y-(l-f))/2,w=y+_+(l-f)/2,Math.abs(w-v)>e)return}else if(y<C&&D<f+e){if(R=!0,_=C-y,w=D+_,Math.abs(w-f)>e)return}else if(y<C&&l-e<E){if(T=!0,_=C-y,w=E-_,Math.abs(w-l)>e)return}else return;!_||a.push({type:o,pos:o==="vertical"?[w,0]:[0,w],element:x.element,size:0,className:x.className,isStart:R,isCenter:B,isEnd:T,gap:_,hide:!0,gapRects:[m,x]})})}),a}function Xa(r,t,e,n,a,i,o){a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o={left:0,top:0,right:0,bottom:0});var s=[],u=o.left,f=o.top,l=o.bottom,v=o.right,c=e+v-u,d=n+l-f;return r&&r.forEach(function(h){s.push({type:"horizontal",pos:[u,U(h-i+f,.1)],size:c})}),t&&t.forEach(function(h){s.push({type:"vertical",pos:[U(h-a+u,.1),f],size:d})}),s}function uu(r,t,e){var n=pt(r,[t.clientLeft,t.clientTop],e);return[t.left+n[0],t.top+n[1]]}function fu(r,t){if(!t.length)return[];var e=r.state,n=e.containerClientRect,a=e.targetClientRect,i=a.top,o=a.left,s=e.rootMatrix,u=e.is3d,f=u?4:3,l=uu(s,n,f),v=l[0],c=l[1],d=Gt(e),h=Vr(d),p=h.minX,g=h.minY,b=H([p,g],sr(s,[o-v,i-c],f)).map(function(S){return Gs(S)}),m=b[0],x=b[1];return t.map(function(S){var M=S.element.getBoundingClientRect(),E=M.left-v,y=M.top-c,C=y+M.height,D=E+M.width,_=sr(s,[E,y],f),w=_[0],R=_[1],B=sr(s,[D,C],f),T=B[0],P=B[1];return O(O({},S),{rect:{left:w+m,right:T+m,top:R+x,bottom:P+x,center:(w+T)/2+m,middle:(R+P)/2+x}})})}function lu(r){var t=r.state,e=r.props.elementGuidelines,n=e===void 0?[]:e;if(!n.length)return t.elementRects=[],[];var a=(t.elementRects||[]).filter(function(c){return!c.refresh}),i=n.map(function(c){return Nt(c)&&"element"in c?c:{element:Zr(c,!0)}}).filter(function(c){return c.element}),o=Vo(a.map(function(c){return c.element}),i.map(function(c){return c.element})),s=o.maintained,u=o.added,f=[];s.forEach(function(c){var d=c[0],h=c[1];f[h]=a[d]}),fu(r,u.map(function(c){return i[c]})).map(function(c,d){f[u[d]]=c}),t.elementRects=f;var l=fn(r.props.elementSnapDirections),v=[];return f.forEach(function(c){var d=c.element,h=c.top,p=h===void 0?l.top:h,g=c.left,b=g===void 0?l.left:g,m=c.right,x=m===void 0?l.right:m,S=c.bottom,M=S===void 0?l.bottom:S,E=c.center,y=E===void 0?l.center:E,C=c.middle,D=C===void 0?l.middle:C,_=c.className,w=c.rect,R=ln({top:p,right:x,left:b,bottom:M,center:y,middle:D},w),B=R.horizontal,T=R.vertical,P=w.top,N=w.left,k=w.right-N,z=w.bottom-P,G=[k,z];T.forEach(function(I){v.push({type:"vertical",element:d,pos:[U(I,.1),P],size:z,sizes:G,className:_,elementRect:c})}),B.forEach(function(I){v.push({type:"horizontal",element:d,pos:[N,U(I,.1)],size:k,sizes:G,className:_,elementRect:c})})}),v}function cn(r){var t=r.state,e=t.snapOffset,n=t.containerClientRect,a=n.overflow,i=n.scrollHeight,o=n.scrollWidth,s=n.clientHeight,u=n.clientWidth,f=n.clientLeft,l=n.clientTop,v=r.props,c=v.snapGap,d=c===void 0?!0:c,h=v.verticalGuidelines,p=v.horizontalGuidelines,g=v.snapThreshold,b=g===void 0?5:g,m=v.snapGridWidth,x=m===void 0?0:m,S=v.snapGridHeight,M=S===void 0?0:S,E=lu(r),y=tt(E);if(d){var C=Ct(Gt(r.state)),D=C.top,_=C.left,w=C.bottom,R=C.right;y.push.apply(y,su(r,{top:D,left:_,bottom:w,right:R,center:(_+R)/2,middle:(D+w)/2},b))}return y.push.apply(y,cu(x,M,a?o:u,a?i:s,f,l)),y.push.apply(y,Xa(p||!1,h||!1,a?o:u,a?i:s,f,l,e)),y}function cu(r,t,e,n,a,i){a===void 0&&(a=0),i===void 0&&(i=0);var o=[];if(t)for(var s=0;s<=n;s+=t)o.push({type:"horizontal",pos:[0,U(s-i,.1)],size:e,hide:!0});if(r)for(var s=0;s<=e;s+=r)o.push({type:"vertical",pos:[U(s-a,.1),0],size:n,hide:!0});return o}function ae(r,t,e,n){var a=r.props,i=As(n,a.snapThreshold,5);return Va(r.state.guidelines,t,e,i)}function Va(r,t,e,n){return{vertical:qa(r,"vertical",t,n),horizontal:qa(r,"horizontal",e,n)}}function vu(r,t,e){var n=e[0],a=e[1],i=t[0],o=t[1],s=H(e,t),u=s[0],f=s[1],l=f>0,v=u>0;u=ur(u),f=ur(f);var c={isSnap:!1,offset:0,pos:0},d={isSnap:!1,offset:0,pos:0};if(u===0&&f===0)return{vertical:c,horizontal:d};var h=ae(r,u?[n]:[],f?[a]:[]),p=h.vertical,g=h.horizontal;p.posInfos.filter(function(T){var P=T.pos;return v?P>=i:P<=i}),g.posInfos.filter(function(T){var P=T.pos;return l?P>=o:P<=o}),p.isSnap=p.posInfos.length>0,g.isSnap=g.posInfos.length>0;var b=vn(p),m=b.isSnap,x=b.guideline,S=vn(g),M=S.isSnap,E=S.guideline,y=M?E.pos[1]:0,C=m?x.pos[0]:0;if(u===0)M&&(d.isSnap=!0,d.pos=E.pos[1],d.offset=a-d.pos);else if(f===0)m&&(c.isSnap=!0,c.pos=C,c.offset=n-C);else{var D=f/u,_=e[1]-D*n,w=0,R=0,B=!1;m?(R=C,w=D*R+_,B=!0):M&&(w=y,R=(w-_)/D,B=!0),B&&(c.isSnap=!0,c.pos=R,c.offset=n-R,d.isSnap=!0,d.pos=w,d.offset=a-w)}return{vertical:c,horizontal:d}}function Ha(r,t,e){var n=ln(r.props.snapDirections,t);return ae(r,n.vertical,n.horizontal,e)}function vn(r){var t=r.isSnap;if(!t)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var e=r.posInfos[0],n=e.guidelineInfos[0],a=n.offset,i=n.dist,o=n.guideline;return{isSnap:t,offset:a,dist:i,pos:e.pos,guideline:o}}function qa(r,t,e,n){if(!r||!r.length)return{isSnap:!1,index:-1,posInfos:[]};var a=t==="vertical",i=a?0:1,o=e.map(function(u,f){var l=r.map(function(v){var c=v.pos,d=u-c[i];return{offset:d,dist:Math.abs(d),guideline:v}}).filter(function(v){var c=v.guideline,d=v.dist,h=c.type;return!(h!==t||d>n)}).sort(function(v,c){return v.dist-c.dist});return{pos:u,index:f,guidelineInfos:l}}).filter(function(u){return u.guidelineInfos.length>0}).sort(function(u,f){return u.guidelineInfos[0].dist-f.guidelineInfos[0].dist}),s=o.length>0;return{isSnap:s,index:s?o[0].index:-1,posInfos:o}}function du(r,t,e){var n=[];if(e[0]&&e[1])n=[e,[-e[0],e[1]],[e[0],-e[1]]].map(function(o){return mt(t,o)});else if(!e[0]&&!e[1])for(var a=[t[0],t[1],t[3],t[2],t[0]],i=0;i<4;++i)n.push(a[i]),n.push([(a[i][0]+a[i+1][0])/2,(a[i][1]+a[i+1][1])/2]);else r.props.keepRatio?n=[[-1,-1],[-1,1],[1,-1],[1,1],e].map(function(o){return mt(t,o)}):(n=Aa(t,e),n.length>1&&n.push([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]));return ae(r,n.map(function(o){return o[0]}),n.map(function(o){return o[1]}),1)}function Wa(r,t){var e=Math.abs(r.offset),n=Math.abs(t.offset);return r.isBound&&t.isBound?n-e:r.isBound?-1:t.isBound?1:r.isSnap&&t.isSnap?n-e:r.isSnap?-1:t.isSnap||e<yt?1:n<yt?-1:e-n}function ie(r,t){return r.slice().sort(function(e,n){var a=e.sign[t],i=n.sign[t],o=e.offset[t],s=n.offset[t];if(a){if(!i)return-1}else return 1;return Wa({isBound:e.isBound,isSnap:e.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:s})})[0]}function pu(r,t){var e=[],n=[-r[0],-r[1]];return r[0]&&r[1]?(e.push([n,[r[0],-r[1]]],[n,[-r[0],r[1]]]),t&&e.push([n,r])):r[0]?t?e.push([n,[n[0],-1]],[n,[n[0],1]],[n,[r[0],-1]],[n,r],[n,[r[0],1]]):e.push([[n[0],-1],[r[0],-1]],[[n[0],0],[r[0],0]],[[n[0],1],[r[0],1]]):r[1]?t?e.push([n,[-1,n[1]]],[n,[1,n[1]]],[n,[-1,r[1]]],[n,[1,r[1]]],[n,r]):e.push([[-1,n[1]],[-1,r[1]]],[[0,n[1]],[0,r[1]]],[[1,n[1]],[1,r[1]]]):e.push([n,[1,0]],[n,[-1,0]],[n,[0,-1]],[n,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),e}function ja(r,t){var e=mr([t[0][0],t[1][0]]),n=mr([t[0][1],t[1][1]]);return{vertical:e<=r[0],horizontal:n<=r[1]}}function $a(r,t){var e=t[0],n=t[1],a=n[0]-e[0],i=n[1]-e[1];Math.abs(a)<yt&&(a=0),Math.abs(i)<yt&&(i=0);var o,s;if(!a)o=e[0],s=r[0];else if(!i)o=e[1],s=r[1];else{var u=i/a;o=u*(r[0]-e[0])+e[1],s=r[1]}return o-s}function Ua(r,t,e){e===void 0&&(e=yt);var n=$a(r[0],t)<=0;return r.slice(1).every(function(a){var i=$a(a,t),o=i<=0;return o===n||Math.abs(i)<=e})}function Ka(r,t,e,n,a){return a===void 0&&(a=0),n&&t-a<=r||!n&&r<=e+a?{isBound:!0,offset:n?t-r:e-r}:{isBound:!1,offset:0}}function hu(r,t,e){var n=r.props.innerBounds;if(!n)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var a=n.left,i=n.top,o=n.width,s=n.height,u=[[a,i],[a,i+s]],f=[[a,i],[a+o,i]],l=[[a+o,i],[a+o,i+s]],v=[[a,i+s],[a+o,i+s]],c=ja(e,t),d=c.horizontal,h=c.vertical;if(Ua([e,[a,i],[a+o,i],[a,i+s],[a+o,i+s]],t))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var p=Wt(t,f,h),g=Wt(t,v,h),b=Wt(t,u,d),m=Wt(t,l,d),x=p.isBound&&g.isBound,S=p.isBound||g.isBound,M=b.isBound&&m.isBound,E=b.isBound||m.isBound,y=or(p.offset,g.offset),C=or(b.offset,m.offset),D=[0,0],_=!1,w=!1;return Math.abs(C)<Math.abs(y)?(D=[y,0],_=S,w=x):(D=[0,C],_=E,w=M),{isAllBound:w,isVerticalBound:S,isHorizontalBound:E,isBound:_,offset:D}}function Wt(r,t,e,n,a){var i=r[0],o=r[1],s=t[0],u=t[1],f=ur(o[1]-i[1]),l=ur(o[0]-i[0]),v=ur(u[1]-s[1]),c=ur(u[0]-s[0]);if(c){if(!v){if(a&&!l)return{isBound:!1,offset:0};if(f){var g=(s[1]-i[1])/(f/l)+i[0];return Ka(g,s[0],u[0],e,n)}else{var h=s[1]-i[1],p=Math.abs(h)<=(n||0);return{isBound:p,offset:p?h:0}}}}else{if(a&&!f)return{isBound:!1,offset:0};if(l){var d=f/l*(s[0]-i[0])+i[1];return Ka(d,s[1],u[1],e,n)}else{var h=s[0]-i[0],p=Math.abs(h)<=(n||0);return{isBound:p,offset:p?h:0}}}return{isBound:!1,offset:0}}function Za(r,t,e,n){return t.map(function(a){var i=a[0],o=a[1],s=a[2],u=hu(r,[o,s],e),f=u.isBound,l=u.offset,v=u.isVerticalBound,c=u.isHorizontalBound,d=At({datas:n,distX:l[0],distY:l[1]}).map(function(h,p){return h*(i[p]?2/i[p]:0)});return{sign:i,isBound:f,isVerticalBound:v,isHorizontalBound:c,isSnap:!1,offset:d}})}function gu(r,t,e){var n,a=Ja(t,[0,0],!1).map(function(c){var d=c[0],h=c[1],p=c[2];return[d.map(function(g){return Math.abs(g)*2}),h,p]}),i=Za(r,a,mt(t,[0,0]),e),o=ie(i,0),s=ie(i,1),u=0,f=0,l=o.isVerticalBound||s.isVerticalBound,v=o.isHorizontalBound||s.isHorizontalBound;return(l||v)&&(n=Us({datas:e,distX:-o.offset[0],distY:-s.offset[1]}),u=n[0],f=n[1]),{vertical:{isBound:l,offset:u},horizontal:{isBound:v,offset:f}}}function mu(r,t){var e=[],n=r[0],a=r[1];return n&&a?e.push([[0,a*2],r,[-n,a]],[[n*2,0],r,[n,-a]]):n?(e.push([[n*2,0],[n,1],[n,-1]]),t&&e.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):a?(e.push([[0,a*2],[1,a],[-1,a]]),t&&e.push([[-1,0],[-1,a],[-1,-a]],[[1,0],[1,a],[1,-a]])):e.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),e}function Ja(r,t,e){return mu(t,e).map(function(n){var a=n[0],i=n[1],o=n[2];return[a,mt(r,i),mt(r,o)]})}function Qa(r,t,e,n){var a=n?r.map(function(o){return Vt(o,n)}):r,i=tt([e],t);return[[a[0],a[1]],[a[1],a[3]],[a[3],a[2]],[a[2],a[0]]].some(function(o){return!Ua(i,o)})}function bu(r){var t=r[0],e=r[1],n=e[0]-t[0],a=e[1]-t[1];if(!n)return Math.abs(t[0]);if(!a)return Math.abs(t[1]);var i=a/n;return Math.abs((-i*t[0]+t[1])/Math.sqrt(Math.pow(i,2)+1))}function Su(r){var t=r[0],e=r[1],n=e[0]-t[0],a=e[1]-t[1];if(!n)return[t[0],0];if(!a)return[0,t[1]];var i=a/n,o=-i*t[0]+t[1];return[-o/(i+1/i),o/(i*i+1)]}function xu(r,t,e,n,a){var i=r.props.innerBounds,o=a*Math.PI/180;if(!i)return[];var s=i.left,u=i.top,f=i.width,l=i.height,v=s-n[0],c=s+f-n[0],d=u-n[1],h=u+l-n[1],p=[[v,d],[c,d],[v,h],[c,h]],g=mt(e,[0,0]);if(!Qa(e,p,g,0))return[];var b=[],m=p.map(function(x){return[Pt(x),et([0,0],x)]});return[[e[0],e[1]],[e[1],e[3]],[e[3],e[2]],[e[2],e[0]]].forEach(function(x){var S=et([0,0],Su(x)),M=bu(x);b.push.apply(b,m.filter(function(E){var y=E[0];return y&&M<=y}).map(function(E){var y=E[0],C=E[1],D=Math.acos(y?M/y:0),_=C+D,w=C-D;return[o+_-S,o+w-S]}).reduce(function(E,y){return E.push.apply(E,y),E},[]).filter(function(E){return!Qa(t,p,g,E)}).map(function(E){return U(E*180/Math.PI,yt)}))}),b}function Eu(r){var t=r.props.innerBounds;if(!t)return{vertical:[],horizontal:[]};var e=r.getRect(),n=e.pos1,a=e.pos2,i=e.pos3,o=e.pos4,s=[n,a,i,o],u=mt(s,[0,0]),f=t.left,l=t.top,v=t.width,c=t.height,d=[[f,l],[f,l+c]],h=[[f,l],[f+v,l]],p=[[f+v,l],[f+v,l+c]],g=[[f,l+c],[f+v,l+c]],b=[[n,a],[a,o],[o,i],[i,n]],m=[],x=[],S={top:!1,bottom:!1,left:!1,right:!1};return b.forEach(function(M){var E=ja(u,M),y=E.horizontal,C=E.vertical,D=Wt(M,h,C,1,!0),_=Wt(M,g,C,1,!0),w=Wt(M,d,y,1,!0),R=Wt(M,p,y,1,!0);D.isBound&&!S.top&&(m.push(l),S.top=!0),_.isBound&&!S.bottom&&(m.push(l+c),S.bottom=!0),w.isBound&&!S.left&&(x.push(f),S.left=!0),R.isBound&&!S.right&&(x.push(f+v),S.right=!0)}),{horizontal:m,vertical:x}}function dn(r,t,e){var n=r||{},a=n.position,i=a===void 0?"client":a,o=n.left,s=o===void 0?-1/0:o,u=n.top,f=u===void 0?-1/0:u,l=n.right,v=l===void 0?1/0:l,c=n.bottom,d=c===void 0?1/0:c,h={position:i,left:s,top:f,right:v,bottom:d};return{vertical:ti(h,t,!0),horizontal:ti(h,e,!1)}}function oe(r,t){var e=r.state,n=e.containerClientRect,a=n.clientHeight,i=n.clientWidth,o=n.clientLeft,s=n.clientTop,u=e.snapOffset,f=u.left,l=u.top,v=u.right,c=u.bottom,d=t||r.props.bounds||{},h=d.position||"client",p=h==="css",g=d.left,b=g===void 0?-1/0:g,m=d.top,x=m===void 0?-1/0:m,S=d.right,M=S===void 0?p?-1/0:1/0:S,E=d.bottom,y=E===void 0?p?-1/0:1/0:E;return p&&(M=i+v-f-M,y=a+c-l-y),{left:b+f-o,right:M+f-o,top:x+l-s,bottom:y+l-s}}function yu(r,t,e){var n=oe(r),a=n.left,i=n.top,o=n.right,s=n.bottom,u=e[0],f=e[1],l=H(e,t),v=l[0],c=l[1];Math.abs(v)<yt&&(v=0),Math.abs(c)<yt&&(c=0);var d=c>0,h=v>0,p={isBound:!1,offset:0,pos:0},g={isBound:!1,offset:0,pos:0};if(v===0&&c===0)return{vertical:p,horizontal:g};if(v===0)d?s<f&&(g.pos=s,g.offset=f-s):i>f&&(g.pos=i,g.offset=f-i);else if(c===0)h?o<u&&(p.pos=o,p.offset=u-o):a>u&&(p.pos=a,p.offset=u-a);else{var b=c/v,m=e[1]-b*u,x=0,S=0,M=!1;h&&o<=u?(x=b*o+m,S=o,M=!0):!h&&u<=a&&(x=b*a+m,S=a,M=!0),M&&(x<i||x>s)&&(M=!1),M||(d&&s<=f?(x=s,S=(x-m)/b,M=!0):!d&&f<=i&&(x=i,S=(x-m)/b,M=!0)),M&&(p.isBound=!0,p.pos=S,p.offset=u-S,g.isBound=!0,g.pos=x,g.offset=f-x)}return{vertical:p,horizontal:g}}function ti(r,t,e){var n=r[e?"left":"top"],a=r[e?"right":"bottom"],i=Math.min.apply(Math,t),o=Math.max.apply(Math,t),s=[];return n+1>i&&s.push({isBound:!0,offset:i-n,pos:n}),a-1<o&&s.push({isBound:!0,offset:o-a,pos:a}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(u,f){return Math.abs(f.offset)-Math.abs(u.offset)})}function ri(r,t,e){var n=e?r.map(function(a){return Vt(a,e)}):r;return n.some(function(a){return a[0]<t.left&&Math.abs(a[0]-t.left)>.1||a[0]>t.right&&Math.abs(a[0]-t.right)>.1||a[1]<t.top&&Math.abs(a[1]-t.top)>.1||a[1]>t.bottom&&Math.abs(a[1]-t.bottom)>.1})}function Mu(r,t,e){var n=Pt(r),a=Math.sqrt(n*n-t*t)||0;return[a,-a].sort(function(i,o){return Math.abs(i-r[e?0:1])-Math.abs(o-r[e?0:1])}).map(function(i){return et([0,0],e?[i,t]:[t,i])})}function Du(r,t,e,n,a){if(!r.props.bounds)return[];var i=a*Math.PI/180,o=oe(r),s=o.left,u=o.top,f=o.right,l=o.bottom,v=s-n[0],c=f-n[0],d=u-n[1],h=l-n[1],p={left:v,top:d,right:c,bottom:h};if(!ri(e,p,0))return[];var g=[];return[[v,0],[c,0],[d,1],[h,1]].forEach(function(b){var m=b[0],x=b[1];e.forEach(function(S){var M=et([0,0],S);g.push.apply(g,Mu(S,m,x).map(function(E){return i+E-M}).filter(function(E){return!ri(t,p,E)}).map(function(E){return U(E*180/Math.PI,yt)}))})}),g}function Cu(r,t){var e,n=r.direction,a=r.classNames,i=r.size,o=r.pos,s=r.zoom,u=r.key,f=n==="horizontal",l=f?"Y":"X";return t.createElement("div",{key:u,className:a.join(" "),style:(e={},e[f?"width":"height"]=""+i,e.transform="translate("+o[0]+", "+o[1]+") translate"+l+"(-50%) scale"+l+"("+s+")",e)})}function pn(r,t){return Cu(O(O({},r),{classNames:tt([q("line","guideline",r.direction)],r.classNames).filter(function(e){return e}),size:r.size||r.sizeValue+"px",pos:r.pos||r.posValue.map(function(e){return U(e,.1)+"px"})}),t)}function ei(r,t,e,n,a,i,o,s){var u=r.props.zoom;return e.map(function(f,l){var v=f.type,c=f.pos,d=[0,0];return d[o]=n,d[o?0:1]=-a+c,pn({key:t+"TargetGuideline"+l,classNames:[q("target","bold",v)],posValue:d,sizeValue:i,zoom:u,direction:t},s)})}function ni(r,t,e,n,a,i){var o=r.props,s=o.zoom,u=o.isDisplayInnerSnapDigit,f=t==="horizontal"?Ht:qt,l=a[f.start],v=a[f.end];return e.filter(function(c){var d=c.hide,h=c.elementRect;if(d)return!1;if(u&&h){var p=h.rect;if(p[f.start]<=l&&v<=p[f.end])return!1}return!0}).map(function(c,d){var h=c.pos,p=c.size,g=c.element,b=[-n[0]+h[0],-n[1]+h[1]];return pn({key:t+"-default-guideline-"+d,classNames:g?[q("bold")]:[],direction:t,posValue:b,sizeValue:p,zoom:s},i)})}function Ir(r,t,e,n,a,i,o,s){var u,f=r.props,l=f.snapDigit,v=l===void 0?0:l,c=f.isDisplaySnapDigit,d=c===void 0?!0:c,h=f.snapDistFormat,p=h===void 0?function(M){return M}:h,g=f.zoom,b=t==="horizontal"?"X":"Y",m=t==="vertical"?"height":"width",x=Math.abs(a),S=d?parseFloat(x.toFixed(v)):0;return s.createElement("div",{key:t+"-"+e+"-guideline-"+n,className:q("guideline-group",t),style:(u={left:i[0]+"px",top:i[1]+"px"},u[m]=x+"px",u)},pn({direction:t,classNames:[q(e),o],size:"100%",posValue:[0,0],sizeValue:x,zoom:g},s),s.createElement("div",{className:q("size-value","gap"),style:{transform:"translate"+b+"(-50%) scale("+g+")"}},S>0?p(S):""))}function _u(r,t,e,n){var a=r==="vertical"?0:1,i=r==="vertical"?1:0,o=a?Ht:qt,s=e[o.start],u=e[o.end];return ks(t,function(f){return f.pos[a]}).map(function(f){var l=[],v=[],c=[];return f.forEach(function(d){var h,p,g=d.element,b=d.elementRect.rect;if(b[o.end]<s)l.push(d);else if(u<b[o.start])v.push(d);else if(b[o.start]<=s&&u<=b[o.end]&&n){var m=d.pos,x={element:g,rect:O(O({},b),(h={},h[o.end]=b[o.start],h))},S={element:g,rect:O(O({},b),(p={},p[o.start]=b[o.end],p))},M=[0,0],E=[0,0];M[a]=m[a],M[i]=m[i],E[a]=m[a],E[i]=m[i]+d.size,l.push({type:r,pos:M,size:0,elementRect:x}),v.push({type:r,pos:E,size:0,elementRect:S})}}),l.sort(function(d,h){return h.pos[i]-d.pos[i]}),v.sort(function(d,h){return d.pos[i]-h.pos[i]}),{total:f,start:l,end:v,inner:c}})}function wu(r,t,e,n,a){var i=r.props.isDisplayInnerSnapDigit,o=[];return["vertical","horizontal"].forEach(function(s){var u=t.filter(function(g){return g.type===s}),f=s==="vertical"?1:0,l=f?0:1,v=_u(s,u,n,i),c=f?qt:Ht,d=f?Ht:qt,h=n[c.start],p=n[c.end];v.forEach(function(g){var b=g.total,m=g.start,x=g.end,S=g.inner,M=e[l]+b[0].pos[l]-n[d.start],E=n;m.forEach(function(y){var C=y.elementRect.rect,D=E[c.start]-C[c.end];if(D>0){var _=[0,0];_[f]=e[f]+E[c.start]-h-D,_[l]=M,o.push(Ir(r,s,"dashed",o.length,D,_,y.className,a))}E=C}),E=n,x.forEach(function(y){var C=y.elementRect.rect,D=C[c.start]-E[c.end];if(D>0){var _=[0,0];_[f]=e[f]+E[c.end]-h,_[l]=M,o.push(Ir(r,s,"dashed",o.length,D,_,y.className,a))}E=C}),S.forEach(function(y){var C=y.elementRect.rect,D=h-C[c.start],_=C[c.end]-p,w=[0,0],R=[0,0];w[f]=e[f]-D,w[l]=M,R[f]=e[f]+p-h,R[l]=M,o.push(Ir(r,s,"dashed",o.length,D,w,y.className,a)),o.push(Ir(r,s,"dashed",o.length,_,R,y.className,a))})})}),o}function Ou(r,t,e,n,a){var i=[];return["horizontal","vertical"].forEach(function(o){var s=t.filter(function(g){return g.type===o}),u=o==="vertical"?0:1,f=u?0:1,l=u?qt:Ht,v=u?Ht:qt,c=n[l.start],d=n[l.end],h=n[v.start],p=n[v.end];s.forEach(function(g){var b=g.gap,m=g.gapRects,x=g.className,S=Math.max.apply(Math,tt([h],m.map(function(y){var C=y.rect;return C[v.start]}))),M=Math.min.apply(Math,tt([p],m.map(function(y){var C=y.rect;return C[v.end]}))),E=(S+M)/2;S===M||E===(h+p)/2||m.forEach(function(y){var C=y.rect,D=[e[0],e[1]];if(C[l.end]<c)D[u]+=C[l.end]-c;else if(d<C[l.start])D[u]+=C[l.start]-c-b;else return;D[f]+=E-h,i.push(Ir(r,u?"vertical":"horizontal","gap",i.length,b,D,x,a))})})}),i}function Ru(r,t,e,n){var a=t[0]-r[0],i=t[1]-r[1];if(Math.abs(a)<Et&&(a=0),Math.abs(i)<Et&&(i=0),!a)return n?[0,0]:[0,e];if(!i)return n?[e,0]:[0,0];var o=i/a,s=r[1]-o*r[0];if(n){var u=o*(t[0]+e)+s;return[e,u-t[1]]}else{var f=(t[1]+e-s)/o;return[f-t[0],e]}}function hn(r,t,e,n,a){var i=Ru(r,t,e,n);if(!i)return{isOutside:!1,offset:[0,0]};var o=kt(r,t),s=kt(i,r),u=kt(i,t),f=s>o||u>o,l=At({datas:a,distX:i[0],distY:i[1]}),v=l[0],c=l[1];return{offset:[v,c],isOutside:f}}function se(r,t){return r.isBound?r.offset:t.isSnap?vn(t).offset:0}function Pu(r,t,e,n,a){var i=t[0],o=t[1],s=e[0],u=e[1],f=n[0],l=n[1],v=a[0],c=a[1],d=-v,h=-c;if(r&&i&&o){d=0,h=0;var p=[];if(s&&u?p.push([0,c],[v,0]):s?p.push([v,0]):u?p.push([0,c]):f&&l?p.push([0,c],[v,0]):f?p.push([v,0]):l&&p.push([0,c]),p.length){p.sort(function(x,S){return Pt(H([i,o],x))-Pt(H([i,o],S))});var g=p[0];if(g[0]&&Math.abs(i)>Et)d=-g[0],h=o*Math.abs(i+d)/Math.abs(i)-o;else if(g[1]&&Math.abs(o)>Et){var b=o;h=-g[1],d=i*Math.abs(o+h)/Math.abs(b)-i}if(r&&u&&s)if(Math.abs(d)>Et&&Math.abs(d)<Math.abs(v)){var m=Math.abs(v)/Math.abs(d);d*=m,h*=m}else if(Math.abs(h)>Et&&Math.abs(h)<Math.abs(c)){var m=Math.abs(c)/Math.abs(h);d*=m,h*=m}else d=or(-v,d),h=or(-c,h)}}else d=i||s?-v:0,h=o||u?-c:0;return[d,h]}function Tu(r,t,e,n,a,i){if(!cr(r,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=nn(i.absolutePoses,[t,e]),s=Ct(o),u=s.left,f=s.right,l=s.top,v=s.bottom,c={horizontal:o.map(function(T){return T[1]}),vertical:o.map(function(T){return T[0]})},d=fn(r.props.snapDirections),h=ln(d,{left:u,right:f,top:l,bottom:v,center:(u+f)/2,middle:(l+v)/2}),p=ue(r,a,h,c),g=p.vertical,b=p.horizontal,m=gu(r,o,i),x=m.vertical,S=m.horizontal,M=g.isSnap,E=b.isSnap,y=g.isBound||x.isBound,C=b.isBound||S.isBound,D=or(g.offset,x.offset),_=or(b.offset,S.offset),w=Pu(n,[t,e],[y,C],[M,E],[D,_]),R=w[0],B=w[1];return[{isBound:y,isSnap:M,offset:R},{isBound:C,isSnap:E,offset:B}]}function ue(r,t,e,n){n===void 0&&(n=e);var a=dn(oe(r),n.vertical,n.horizontal),i=a.horizontal,o=a.vertical,s=t?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:ae(r,e.vertical,e.horizontal),u=s.horizontal,f=s.vertical,l=se(i[0],u),v=se(o[0],f),c=Math.abs(l),d=Math.abs(v);return{horizontal:{isBound:i[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:l,dist:c,bounds:i,snap:u},vertical:{isBound:o[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:v,dist:d,bounds:o,snap:f}}}function ai(r,t,e,n,a){var i=dn(t,e,n),o=i.horizontal,s=i.vertical,u=Va(r,e,n,a),f=u.horizontal,l=u.vertical,v=se(o[0],f),c=se(s[0],l),d=Math.abs(v),h=Math.abs(c);return{horizontal:{isBound:o[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:v,dist:d,bounds:o,snap:f},vertical:{isBound:s[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:c,dist:h,bounds:s,snap:l}}}function Bu(r,t,e,n){var a=et(r,t)/Math.PI*180,i=e.vertical,o=i.isBound,s=i.isSnap,u=i.dist,f=e.horizontal,l=f.isBound,v=f.isSnap,c=f.dist,d=a%180,h=d<3||d>177,p=d>87&&d<93;return c<u&&(o||s&&!p&&(!n||!h))?"vertical":l||v&&!h&&(!n||!p)?"horizontal":""}function Iu(r,t,e,n,a,i){return e.map(function(o){var s=o[0],u=o[1],f=mt(t,s),l=mt(t,u),v=n?zu(r,f,l,a):ue(r,a,{vertical:[l[0]],horizontal:[l[1]]}),c=v.horizontal,d=c.offset,h=c.isBound,p=c.isSnap,g=v.vertical,b=g.offset,m=g.isBound,x=g.isSnap,S=H(u,s);if(!b&&!d)return{isBound:m||h,isSnap:x||p,sign:S,offset:[0,0]};var M=Bu(f,l,v,n);if(!M)return{sign:S,isBound:!1,isSnap:!1,offset:[0,0]};var E=M==="vertical",y=hn(f,l,-(E?b:d),E,i).offset.map(function(C,D){return C*(S[D]?2/S[D]:0)});return{sign:S,isBound:E?m:h,isSnap:E?x:p,offset:y}})}function ii(r,t){return r.isBound?r.offset:t.isSnap?t.offset:0}function zu(r,t,e,n){var a=yu(r,t,e),i=a.horizontal,o=a.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:vu(r,t,e),u=s.horizontal,f=s.vertical,l=ii(i,u),v=ii(o,f),c=Math.abs(l),d=Math.abs(v);return{horizontal:{isBound:i.isBound,isSnap:u.isSnap,offset:l,dist:c},vertical:{isBound:o.isBound,isSnap:f.isSnap,offset:v,dist:d}}}function Gu(r,t,e,n,a){var i=[-e[0],-e[1]],o=r.state,s=o.width,u=o.height,f=r.props.bounds,l=1/0,v=1/0;if(f){var c=[[e[0],-e[1]],[-e[0],e[1]]],d=f.left,h=d===void 0?-1/0:d,p=f.top,g=p===void 0?-1/0:p,b=f.right,m=b===void 0?1/0:b,x=f.bottom,S=x===void 0?1/0:x;c.forEach(function(M){var E=M[0]!==i[0],y=M[1]!==i[1],C=mt(t,M),D=et(n,C)*360/Math.PI;if(y){var _=C.slice();(Math.abs(D-360)<2||Math.abs(D-180)<2)&&(_[1]=n[1]);var w=hn(n,_,(n[1]<C[1]?S:g)-C[1],!1,a),R=w.offset,B=R[1],T=w.isOutside;isNaN(B)||(v=u+(T?1:-1)*Math.abs(B))}if(E){var _=C.slice();(Math.abs(D-90)<2||Math.abs(D-270)<2)&&(_[0]=n[0]);var P=hn(n,_,(n[0]<C[0]?m:h)-C[0],!0,a),N=P.offset[0],k=P.isOutside;isNaN(N)||(l=s+(k?1:-1)*Math.abs(N))}})}return{maxWidth:l,maxHeight:v}}function gn(r){var t=r.state;if(!(t.guidelines&&t.guidelines.length)){var e=r.state.container,n=r.props.snapContainer||e,a=t.containerClientRect,i={left:0,top:0,bottom:0,right:0};if(e!==n){var o=Zr(n,!0);if(o){var s=$r(o),u=Ta(t,[s.left-a.left,s.top-a.top]),f=Ta(t,[s.right-a.right,s.bottom-a.bottom]);i.left=U(u[0],.1),i.top=U(u[1],.1),i.right=U(f[0],.1),i.bottom=U(f[1],.1)}}t.snapOffset=i,t.guidelines=cn(r),t.enableSnap=!0}}function oi(r,t,e,n,a,i){var o=Rr(r,t,e,i?4:3),s=Zs(o,a);return nn(o,H(n,s))}function Au(r,t,e,n,a,i){var o=pu(e,n),s=Ja(t,e,n),u=tt(Iu(r,t,o,n,a,i),Za(r,s,mt(t,[0,0]),i)),f=ie(u,0),l=ie(u,1);return{width:{isBound:f.isBound,offset:f.offset[0]},height:{isBound:l.isBound,offset:l.offset[1]}}}function ku(r,t,e,n,a,i,o,s,u){var f=mt(t,o),l=ue(r,s,{vertical:[f[0]],horizontal:[f[1]]}),v=l.horizontal.offset,c=l.vertical.offset;if(c||v){var d=At({datas:u,distX:-c,distY:-v}),h=d[0],p=d[1],g=Math.min(a||1/0,e+o[0]*h),b=Math.min(i||1/0,n+o[1]*p);return[g-e,b-n]}return[0,0]}function si(r,t,e,n,a,i,o,s){for(var u=Gt(r.state),f=r.props.keepRatio,l=0,v=0,c=0;c<2;++c){var d=t(l,v),h=Au(r,d,a,f,o,s),p=h.width,g=h.height,b=p.isBound,m=g.isBound,x=p.offset,S=g.offset;if(c===1&&(b||(x=0),m||(S=0)),c===0&&o&&!b&&!m)return[0,0];if(f){var M=Math.abs(x)*(e?1/e:1),E=Math.abs(S)*(n?1/n:1),y=b&&m?M<E:m||!b&&M<E;y?x=e*S/n:S=n*x/e}l+=x,v+=S}if(a[0]&&a[1]){var C=Gu(r,u,a,i,s),D=C.maxWidth,_=C.maxHeight,w=ku(r,t(l,v).map(function(T){return T.map(function(P){return U(P,Es)})}),e+l,n+v,D,_,a,o,s),x=w[0],S=w[1];l+=x,v+=S}return[l,v]}function ui(r,t,e,n){if(!cr(r,"rotatable"))return n;var a=t.pos1,i=t.pos2,o=t.pos3,s=t.pos4,u=n*Math.PI/180,f=[a,i,o,s].map(function(c){return H(c,e)}),l=f.map(function(c){return Vt(c,u)}),v=tt(Du(r,f,l,e,n),xu(r,f,l,e,n));return v.sort(function(c,d){return Math.abs(c-n)-Math.abs(d-n)}),v.length?v[0]:n}function Lu(r,t,e,n,a,i,o){if(!cr(r,"resizable"))return[0,0];var s=r.state,u=s.allMatrix,f=s.is3d;return si(r,function(l,v){return oi(u,t+l,e+v,a,n,f)},t,e,n,a,i,o)}function Yu(r,t,e,n,a){var i=a.width,o=a.height,s=a.fixedPosition;if(!cr(r,"scalable"))return[0,0];var u=a.is3d,f=si(r,function(l,v){return oi(tu(a,j(t,[l/i,v/o])),i,o,s,e,u)},i,o,e,s,n,a);return[f[0]/i,f[1]/o]}function Nu(r,t){t.absolutePoses=Gt(r.state)}function fi(r){var t=[];return r.forEach(function(e){e.guidelineInfos.forEach(function(n){var a=n.guideline;t.indexOf(a)>-1||t.push(a)})}),t}function li(r,t,e,n,a,i){var o=dn(oe(r,i),t,e),s=o.vertical,u=o.horizontal;s.forEach(function(c){c.isBound&&n.push({type:"bounds",pos:c.pos})}),u.forEach(function(c){c.isBound&&a.push({type:"bounds",pos:c.pos})});var f=Eu(r),l=f.vertical,v=f.horizontal;l.forEach(function(c){wt(n,function(d){var h=d.type,p=d.pos;return h==="bounds"&&p===c})>=0||n.push({type:"bounds",pos:c})}),v.forEach(function(c){wt(a,function(d){var h=d.type,p=d.pos;return h==="bounds"&&p===c})>=0||a.push({type:"bounds",pos:c})})}var Fu={name:"snappable",props:{snappable:[Boolean,Array],snapContainer:Object,snapDirections:[Boolean,Object],elementSnapDirections:[Boolean,Object],snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function},events:{onSnap:"snap"},css:[`:host {
    --bounds-color: #d66;
}
.guideline {
    pointer-events: none;
    z-index: 2;
}
.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}
.guideline-group {
    position: absolute;
    top: 0;
    left: 0;
}
.guideline-group .size-value {
    position: absolute;
    color: #f55;
    font-size: 12px;
    font-weight: bold;
}
.guideline-group.horizontal .size-value {
    transform-origin: 50% 100%;
    transform: translateX(-50%);
    left: 50%;
    bottom: 5px;
}
.guideline-group.vertical .size-value {
    transform-origin: 0% 50%;
    top: 50%;
    transform: translateY(-50%);
    left: 5px;
}
.guideline.gap {
    background: #f55;
}
.size-value.gap {
    color: #f55;
}
`],render:function(r,t){var e=r.state,n=e.top,a=e.left,i=e.pos1,o=e.pos2,s=e.pos3,u=e.pos4,f=e.snapRenderInfo;if(!f||!cr(r,""))return[];e.guidelines=cn(r);var l=Math.min(i[0],o[0],s[0],u[0]),v=Math.min(i[1],o[1],s[1],u[1]),c=f.externalPoses||[],d=Gt(r.state),h=[],p=[],g=[],b=[],m=[],x=Ct(d),S=x.width,M=x.height,E=x.top,y=x.left,C=x.bottom,D=x.right,_={left:y,right:D,top:E,bottom:C,center:(y+D)/2,middle:(E+C)/2},w=c.length>0,R=w?Ct(c):{};if(!f.request){if(f.direction&&m.push(du(r,d,f.direction)),f.snap){var B=Ct(d);f.center&&(B.middle=(B.top+B.bottom)/2,B.center=(B.left+B.right)/2),m.push(Ha(r,B,1))}w&&(f.center&&(R.middle=(R.top+R.bottom)/2,R.center=(R.left+R.right)/2),m.push(Ha(r,R,1))),m.forEach(function(k){var z=k.vertical.posInfos,G=k.horizontal.posInfos;h.push.apply(h,z.filter(function(I){var V=I.guidelineInfos;return V.some(function(J){var K=J.guideline;return!K.hide})}).map(function(I){return{type:"snap",pos:I.pos}})),p.push.apply(p,G.filter(function(I){var V=I.guidelineInfos;return V.some(function(J){var K=J.guideline;return!K.hide})}).map(function(I){return{type:"snap",pos:I.pos}})),g.push.apply(g,fi(z)),b.push.apply(b,fi(G))})}li(r,[y,D],[E,C],h,p),w&&li(r,[R.left,R.right],[R.top,R.bottom],h,p,f.externalBounds);var T=tt(g,b),P=T.filter(function(k){return k.element&&!k.gapRects}),N=T.filter(function(k){return k.gapRects});return Y(r,"onSnap",{guidelines:T.filter(function(k){var z=k.element;return!z}),elements:P,gaps:N},!0),tt(wu(r,P,[l,v],_,t),Ou(r,N,[l,v],_,t),ni(r,"horizontal",b,[a,n],_,t),ni(r,"vertical",g,[a,n],_,t),ei(r,"horizontal",p,l,n,S,0,t),ei(r,"vertical",h,v,a,M,1,t))},dragStart:function(r,t){r.state.snapRenderInfo={request:t.isRequest,snap:!0,center:!0},gn(r)},drag:function(r){var t=r.state;t.guidelines=cn(r)},pinchStart:function(r){this.unset(r)},dragEnd:function(r){this.unset(r)},dragControlCondition:function(r,t){if(Tr(r,t)||yn(r,t))return!0;if(!t.isRequest&&t.inputEvent)return Ot(t.inputEvent.target,q("snap-control"))},dragControlStart:function(r){r.state.snapRenderInfo=null,gn(r)},dragControl:function(r){this.drag(r)},dragControlEnd:function(r){this.unset(r)},dragGroupStart:function(r,t){this.dragStart(r,t)},dragGroup:function(r){this.drag(r)},dragGroupEnd:function(r){this.unset(r)},dragGroupControlStart:function(r){r.state.snapRenderInfo=null,gn(r)},dragGroupControl:function(r){this.drag(r)},dragGroupControlEnd:function(r){this.unset(r)},unset:function(r){var t=r.state;t.enableSnap=!1,t.guidelines=[],t.snapRenderInfo=null,t.elementRects=[]}},xt={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(r,t){var e=r.props,n=e.throttleDragRotate,a=e.zoom,i=r.state,o=i.dragInfo,s=i.beforeOrigin;if(!n||!o)return[];var u=o.dist;if(!u[0]&&!u[1])return[];var f=Pt(u),l=et(u,[0,0]);return[t.createElement("div",{className:q("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:f+"px",transform:"translate("+s[0]+"px, "+s[1]+"px) rotate("+l+"rad) scaleY("+a+")"}})]},dragStart:function(r,t){var e=t.datas,n=t.parentEvent,a=t.parentGesto,i=r.state,o=i.target,s=i.gesto;if(s)return!1;i.gesto=a||r.targetGesto;var u=St(o);e.datas={},e.left=parseFloat(u.left||"")||0,e.top=parseFloat(u.top||"")||0,e.bottom=parseFloat(u.bottom||"")||0,e.right=parseFloat(u.right||"")||0,e.startValue=[0,0],tr(r,t),ne(t,"translate"),Nu(r,e),e.prevDist=[0,0],e.prevBeforeDist=[0,0],e.isDrag=!1,e.deltaOffset=[0,0],e.distOffset=[0,0];var f=$(r,t,O({set:function(v){e.startValue=v}},ee(t))),l=n||Y(r,"onDragStart",f);return l!==!1?(e.isDrag=!0,r.state.dragInfo={startRect:r.getRect(),dist:[0,0]}):(i.gesto=null,e.isPinch=!1),e.isDrag?f:!1},drag:function(r,t){if(!!t){Qr(t,"translate");var e=t.datas,n=t.parentEvent,a=t.parentFlag,i=t.isPinch,o=t.isRequest,s=t.distX,u=t.distY,f=e.isDrag,l=e.prevDist,v=e.prevBeforeDist,c=e.startValue,d=e.distOffset;if(!!f){s+=d[0],u+=d[1];var h=r.props,p=h.parentMoveable,g=n?0:h.throttleDrag||0,b=n?0:h.throttleDragRotate||0,m=!1,x=0;if(!n&&b>0&&(s||u)){var S=h.startDragRotate||0,M=U(S+et([0,0],[s,u])*180/Math.PI,b)-S,E=u*Math.abs(Math.cos((M-90)/180*Math.PI)),y=s*Math.abs(Math.cos(M/180*Math.PI)),C=Pt([y,E]);x=M*Math.PI/180,s=C*Math.cos(x),u=C*Math.sin(x)}if(!i&&!n&&!a&&(!b||s||u)){var D=Tu(r,s,u,b,o,e),_=D[0],w=D[1],R=_.isSnap,B=_.isBound,T=_.offset,P=w.isSnap,N=w.isBound,k=w.offset;m=R||P||B||N,s+=T,u+=k}var z=j(za({datas:e,distX:s,distY:u}),c),G=j($s({datas:e,distX:s,distY:u}),c);!b&&!m&&(Fn(G,g),Fn(z,g));var I=H(z,c),V=H(G,c),J=H(V,l),K=H(I,v);e.prevDist=V,e.prevBeforeDist=I,e.passDelta=J,e.passDist=V;var ot=e.left+I[0],L=e.top+I[1],rt=e.right-I[0],ft=e.bottom-I[1],Q=te(e,"translate("+G[0]+"px, "+G[1]+"px)","translate("+V[0]+"px, "+V[1]+"px)");if(r.state.dragInfo.dist=n?[0,0]:V,!(!n&&!p&&J.every(function(F){return!F})&&K.some(function(F){return!F}))){var W=r.state,vt=W.width,lt=W.height,st=$(r,t,{transform:Q,dist:V,delta:J,translate:G,beforeDist:I,beforeDelta:K,beforeTranslate:z,left:ot,top:L,right:rt,bottom:ft,width:vt,height:lt,isPinch:i});return!n&&Y(r,"onDrag",st),st}}}},dragAfter:function(r,t){var e=t.datas,n=t.datas,a=n.deltaOffset,i=n.distOffset;return a[0]||a[1]?(e.deltaOffset=[0,0],i[0]+=a[0],i[1]+=a[1],this.drag(r,t)):!1},dragEnd:function(r,t){var e=t.parentEvent,n=t.datas,a=t.isDrag;if(r.state.gesto=null,r.state.dragInfo=null,!!n.isDrag)return n.isDrag=!1,!e&&Y(r,"onDragEnd",Mt(r,t,{})),a},dragGroupStart:function(r,t){var e=t.datas,n=t.clientX,a=t.clientY,i=this.dragStart(r,t);if(!i)return!1;var o=sn(r,this,"dragStart",[n||0,a||0],t,!1),s=O(O({},i),{targets:r.props.targets,events:o}),u=Y(r,"onDragGroupStart",s);return e.isDrag=u!==!1,e.isDrag?i:!1},dragGroup:function(r,t){var e=t.datas;if(!!e.isDrag){var n=this.drag(r,t),a=t.datas.passDelta,i=sn(r,this,"drag",a,t,!1);if(!!n){var o=O({targets:r.props.targets,events:i},n);return Y(r,"onDragGroup",o),o}}},dragGroupEnd:function(r,t){var e=t.isDrag,n=t.datas;if(!!n.isDrag)return this.dragEnd(r,t),sn(r,this,"dragEnd",[0,0],t,!1),Y(r,"onDragGroupEnd",Mt(r,t,{targets:r.props.targets})),e},request:function(r){var t={},e=r.getRect(),n=0,a=0;return{isControl:!1,requestStart:function(){return{datas:t}},request:function(i){return"x"in i?n=i.x-e.left:"deltaX"in i&&(n+=i.deltaX),"y"in i?a=i.y-e.top:"deltaY"in i&&(a+=i.deltaY),{datas:t,distX:n,distY:a}},requestEnd:function(){return{datas:t,isDrag:!0}}}},unset:function(r){r.state.dragInfo=null}};function mn(r,t,e,n){n===void 0&&(n="");var a=r.state,i=a.renderPoses,o=a.rotation,s=a.direction,u=r.props,f=u.renderDirections,l=f===void 0?t:f,v=u.zoom,c={};if(!l)return[];var d=s>0?1:-1,h=l===!0?Ea:l,p=o/Math.PI*180;return h.forEach(function(g){c[g]=!0}),h.map(function(g){var b=ys[g];if(!b||!c[g])return null;var m=(U(p,15)+d*Ms[g]+720)%180;return e.createElement("div",{className:q("control","direction",g,n),"data-rotation":m,"data-direction":g,key:"direction-"+g,style:wa.apply(void 0,tt([o,v],b.map(function(x){return i[x]})))})})}function vr(r,t,e,n,a,i){for(var o=[],s=6;s<arguments.length;s++)o[s-6]=arguments[s];var u=et(e,n),f=t?U(u/Math.PI*180,15)%180:-1;return r.createElement("div",{key:"line"+i,className:q.apply(void 0,tt(["line","direction",t],o)),"data-rotation":f,"data-line-index":i,"data-direction":t,style:Pr(e,n,a,u)})}function bn(r,t){return mn(r,Ea,t)}function ci(r,t){return mn(r,["nw","ne","sw","se"],t)}function Sn(r,t,e,n,a,i){var o=r.state.is3d?4:3,s=pt(r.state.rootMatrix,a,o),u=j([i.left,i.top],s);t.startAbsoluteOrigin=u,t.prevDeg=et(u,[e,n])/Math.PI*180,t.prevSnapDeg=t.prevDeg,t.startDeg=t.prevDeg,t.loop=0}function xn(r,t,e,n,a,i){var o=e.prevDeg,s=ui(r,t,e.origin,n);e.prevDeg=s;var u=s-o;return[u,s,i+s]}function fe(r,t,e,n,a,i,o,s){var u=e.prevDeg,f=e.prevSnapDeg,l=e.startDeg,v=e.loop;u>n&&u>270&&n<90?++e.loop:u<n&&u<90&&n>270&&--e.loop;var c=e.loop,d=v*360+f-l+i,h=c*360+n-l+i;e.prevDeg=h-c*360+l-i,h=U(h,o);var p=a*(h-i);s&&(p=ui(r,t,e.origin,p),h=p/a+i),e.prevSnapDeg=h-c*360+l-i;var g=a*(h-d);return[g,p,i+p]}function En(r,t,e,n,a,i,o,s){return fe(r,t,e,et(e.startAbsoluteOrigin,[a,i])/Math.PI*180,n,o,s,!0)}function Xu(r,t,e){var n=t[0],a=t[1],i=t[2],o=t[3];if(r!=="none"){var s=(r||"top").split("-"),u=s[0],f=s[1],l=[n,a];u==="left"?l=[i,n]:u==="right"?l=[a,o]:u==="bottom"&&(l=[o,i]);var v=[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2],c=Ra(l,e);if(f){var d=f==="top"||f==="left",h=u==="bottom"||u==="left";v=l[d&&!h||!d&&h?0:1]}return[v,c]}}function yn(r,t){if(t.isRequest)return t.requestAble==="rotatable";var e=t.inputEvent.target;if(Ot(e,q("rotation-control")))return!0;var n=r.props.rotationTarget;return n?on(n,!0).some(function(a){return a?e===a||e.contains(a):!1}):!1}var Vu={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object},events:{onRotateStart:"rotateStart",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[`.rotation {
            position: absolute;
            height: 40px;
            width: 1px;
            transform-origin: 50% 100%;
            height: calc(40px * var(--zoom));
            top: auto;
            left: 0;
            bottom: 100%;
            will-change: transform;
        }
        .rotation .rotation-line {
            display: block;
            width: 100%;
            height: 100%;
            transform-origin: 50% 50%;
        }
        .rotation .rotation-control {
            border-color: #4af;
            border-color: var(--moveable-color);
            background:#fff;
            cursor: alias;
        }`],render:function(r,t){var e=r.props,n=e.rotatable,a=e.rotationPosition,i=e.zoom,o=e.renderDirections,s=r.state,u=s.renderPoses,f=s.direction;if(!n)return null;var l=Xu(a,u,f),v=[];if(l){var c=l[0],d=l[1];v.push(t.createElement("div",{key:"rotation",className:q("rotation"),style:{transform:"translate(-50%) translate("+c[0]+"px, "+c[1]+"px) rotate("+d+"rad)"}},t.createElement("div",{className:q("line rotation-line"),style:{transform:"scaleX("+i+")"}}),t.createElement("div",{className:q("control rotation-control"),style:{transform:"translate(0.5px) scale("+i+")"}})))}return o&&v.push.apply(v,mn(r,[],t)),v},dragControlCondition:yn,dragControlStart:function(r,t){var e=t.datas,n=t.clientX,a=t.clientY,i=t.parentRotate,o=t.parentFlag,s=t.isPinch,u=t.isRequest,f=r.state,l=f.target,v=f.left,c=f.top,d=f.origin,h=f.beforeOrigin,p=f.direction,g=f.beforeDirection,b=f.targetTransform,m=f.moveableClientRect;if(!u&&!l)return!1;var x=r.getRect();if(e.rect=x,e.transform=b,e.left=v,e.top=c,e.fixedPosition=Fa(r,Na(r)),e.absoluteInfo={origin:x.origin,startValue:x.rotation},Sn(r,e.absoluteInfo,n,a,d,m),u||s||o){var S=i||0;e.beforeInfo={origin:x.beforeOrigin,prevDeg:S,startDeg:S,prevSnapDeg:S,loop:0},e.afterInfo={origin:x.origin,prevDeg:S,startDeg:S,prevSnapDeg:S,loop:0}}else e.beforeInfo={origin:x.beforeOrigin},e.afterInfo={origin:x.origin},Sn(r,e.beforeInfo,n,a,h,m),Sn(r,e.afterInfo,n,a,d,m);e.direction=p,e.beforeDirection=g,e.startValue=0,e.datas={},ne(t,"rotate");var M=$(r,t,O(O({set:function(y){e.startValue=y*Math.PI/180}},ee(t)),{dragStart:xt.dragStart(r,new Br().dragStart([0,0],t))})),E=Y(r,"onRotateStart",M);return e.isRotate=E!==!1,r.state.snapRenderInfo={request:t.isRequest},e.isRotate?M:!1},dragControl:function(r,t){var e,n,a,i,o,s,u,f,l,v=t.datas,c=t.clientX,d=t.clientY,h=t.parentRotate,p=t.parentFlag,g=t.isPinch,b=t.groupDelta,m=v.beforeDirection,x=v.beforeInfo,S=v.afterInfo,M=v.absoluteInfo,E=v.isRotate,y=v.startValue,C=v.rect;if(!!E){Qr(t,"rotate");var D=js(t),_=m*D,w=r.props,R=w.throttleRotate,B=R===void 0?0:R,T=w.parentMoveable,P,N,k,z,G,I,V,J,K,ot=180/Math.PI*y,L=M.startValue;if(!p&&"parentDist"in t){var rt=t.parentDist;e=xn(r,C,S,rt,_,ot),P=e[0],N=e[1],k=e[2],n=xn(r,C,x,rt,m,ot),z=n[0],G=n[1],I=n[2],a=xn(r,C,M,rt,_,L),V=a[0],J=a[1],K=a[2]}else g||p?(i=fe(r,C,S,h,_,ot,B),P=i[0],N=i[1],k=i[2],o=fe(r,C,x,h,m,ot,B),z=o[0],G=o[1],I=o[2],s=fe(r,C,M,h,_,L,B),V=s[0],J=s[1],K=s[2]):(u=En(r,C,S,_,c,d,ot,B),P=u[0],N=u[1],k=u[2],f=En(r,C,x,m,c,d,ot,B),z=f[0],G=f[1],I=f[2],l=En(r,C,M,_,c,d,L,B),V=l[0],J=l[1],K=l[2]);if(!(!V&&!P&&!z&&!T)){var ft=te(v,"rotate("+k+"deg)","rotate("+N+"deg)"),Q=eu(r,N,v.fixedPosition,v),W=H(j(b||[0,0],Q),v.prevInverseDist||[0,0]);v.prevInverseDist=Q;var vt=$(r,t,O({delta:P,dist:N,rotate:k,beforeDist:G,beforeDelta:z,beforeRotate:I,absoluteDist:J,absoluteDelta:V,absoluteRotate:K,isPinch:!!g},La(r,ft,W,g,t)));return Y(r,"onRotate",vt),vt}}},dragControlEnd:function(r,t){var e=t.datas,n=t.isDrag;return e.isRotate?(e.isRotate=!1,Y(r,"onRotateEnd",Mt(r,t,{})),n):!1},dragGroupControlCondition:yn,dragGroupControlStart:function(r,t){var e=t.datas,n=r.state,a=n.left,i=n.top,o=n.beforeOrigin,s=this.dragControlStart(r,t);if(!s)return!1;s.set(e.beforeDirection*r.rotation);var u=Yt(r,this,"dragControlStart",t,function(v,c){var d=v.state,h=d.left,p=d.top,g=d.beforeOrigin,b=j(H([h,p],[a,i]),H(g,o));return c.datas.groupClient=b,O(O({},c),{parentRotate:0})}),f=O(O({},s),{targets:r.props.targets,events:u}),l=Y(r,"onRotateGroupStart",f);return e.isRotate=l!==!1,e.isRotate?s:!1},dragGroupControl:function(r,t){var e=t.datas;if(!!e.isRotate){var n=this.dragControl(r,t);if(!!n){var a=e.beforeDirection,i=n.beforeDist,o=n.beforeDelta,s=o/180*Math.PI,u=Yt(r,this,"dragControl",t,function(l,v){var c=v.datas.groupClient,d=c[0],h=c[1],p=Vt([d,h],s*a),g=p[0],b=p[1],m=[g-d,b-h];return v.datas.groupClient=[g,b],O(O({},v),{parentRotate:i,groupDelta:m})});r.rotation=a*n.beforeRotate;var f=O({targets:r.props.targets,events:u,set:function(l){r.rotation=l}},n);return Y(r,"onRotateGroup",f),f}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(!!n.isRotate){this.dragControlEnd(r,t),Yt(r,this,"dragControlEnd",t);var a=Mt(r,t,{targets:r.props.targets});return Y(r,"onRotateGroupEnd",a),e}},request:function(r){var t={},e=0,n=r.getRotation();return{isControl:!0,requestStart:function(){return{datas:t}},request:function(a){return"deltaRotate"in a?e+=a.deltaRotate:"rotate"in a&&(e=a.rotate-n),{datas:t,parentDist:e}},requestEnd:function(){return{datas:t,isDrag:!0}}}}},Hu={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean},events:{onResizeStart:"resizeStart",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:function(r,t){var e=r.props,n=e.resizable,a=e.edge;if(n)return a?ci(r,t):bn(r,t)},dragControlCondition:Tr,dragControlStart:function(r,t){var e,n=t.inputEvent,a=t.isPinch,i=t.parentDirection,o=t.datas,s=t.parentFlag,u=i||(a?[0,0]:en(n.target)),f=r.state,l=f.target,v=f.width,c=f.height;if(!u||!l)return!1;!a&&tr(r,t),o.datas={},o.direction=u,o.startOffsetWidth=v,o.startOffsetHeight=c,o.prevWidth=0,o.prevHeight=0,e=zs(l),o.startWidth=e[0],o.startHeight=e[1];var d=[Math.max(0,v-o.startWidth),Math.max(0,c-o.startHeight)];if(o.minSize=d,o.maxSize=[1/0,1/0],!s){var h=St(l),p=h.position,g=h.minWidth,b=h.minHeight,m=h.maxWidth,x=h.maxHeight,S=p==="static"||p==="relative",M=S?l.parentElement:l.offsetParent,E=v,y=c;if(M&&(E=M.clientWidth,y=M.clientHeight,S)){var C=St(M);E-=parseFloat(C.paddingLeft)||0,y-=parseFloat(C.paddingTop)||0}o.minSize=j([dt(g,E)||0,dt(b,y)||0],d),o.maxSize=j([dt(m,E)||1/0,dt(x,y)||1/0],d)}var D=r.props.transformOrigin||"% %";o.transformOrigin=D&&_t(D)?D.split(" "):D,o.isWidth=!u[0]&&!u[1]||u[0]||!u[1];function _(T){o.ratio=T&&isFinite(T)?T:0}function w(T){o.fixedDirection=T,o.fixedPosition=lr(r,T)}_(v/c),w([-u[0],-u[1]]);var R=$(r,t,{direction:u,set:function(T){var P=T[0],N=T[1];o.startWidth=P,o.startHeight=N},setMin:function(T){o.minSize=T},setMax:function(T){o.maxSize=[T[0]||1/0,T[1]||1/0]},setRatio:_,setFixedDirection:w,setOrigin:function(T){o.transformOrigin=T},dragStart:xt.dragStart(r,new Br().dragStart([0,0],t))}),B=Y(r,"onResizeStart",R);return B!==!1&&(o.isResize=!0,r.state.snapRenderInfo={request:t.isRequest,direction:u}),o.isResize?R:!1},dragControl:function(r,t){var e,n=t.datas,a=t.distX,i=t.distY,o=t.parentFlag,s=t.isPinch,u=t.parentDistance,f=t.parentScale,l=t.parentKeepRatio,v=t.dragClient,c=t.parentDist,d=t.isRequest,h=n.isResize,p=n.transformOrigin,g=n.fixedDirection,b=n.startWidth,m=n.startHeight,x=n.prevWidth,S=n.prevHeight,M=n.minSize,E=n.maxSize,y=n.ratio,C=n.isWidth,D=n.startOffsetWidth,_=n.startOffsetHeight;if(!!h){var w=r.props,R=w.throttleResize,B=R===void 0?0:R,T=w.parentMoveable,P=w.snapThreshold,N=P===void 0?5:P,k=n.direction,z=k,G=0,I=0;!k[0]&&!k[1]&&(z=[1,1]);var V=y&&(r.props.keepRatio||l),J=v;if(v||(!o&&s?J=lr(r,[0,0]):J=n.fixedPosition),c)G=c[0],I=c[1],V&&(G?I||(I=G/y):G=I*y);else if(f)G=(f[0]-1)*D,I=(f[1]-1)*_;else if(s)u&&(G=u,I=u*_/D);else{var K=At({datas:n,distX:a,distY:i});if(G=z[0]*K[0],I=z[1]*K[1],V&&D&&_){var ot=et([0,0],K),L=et([0,0],z),rt=Pt([G,I]),ft=Math.cos(ot-L)*rt;if(!z[0])I=ft,G=I/y;else if(!z[1])G=ft,I=G*y;else{var Q=z[0]*2*D,W=z[1]*2*_,vt=Pt([Q+K[0],W+K[1]])-Pt([Q,W]),lt=et([0,0],[y,1]);G=Math.cos(lt)*vt,I=Math.sin(lt)*vt}}else if(!V){var st=tt(k);D||(K[0]<0?st[0]=-1:K[0]>0&&(st[0]=1)),_||(K[1]<0?st[1]=-1:K[1]>0&&(st[1]=1)),k=st,z=st,G=z[0]*K[0],I=z[1]*K[1]}}var F=z[0]||V?Math.max(D+G,yt):D,X=z[1]||V?Math.max(_+I,yt):_;V&&D&&_&&(C?X=F/y:F=X*y);var A=[0,0];if(s||(A=Lu(r,F,X,k,J,d,n)),c&&(!c[0]&&(A[0]=0),!c[1]&&(A[1]=0)),V){z[0]&&z[1]&&A[0]&&A[1]&&(Math.abs(A[0])>Math.abs(A[1])?A[1]=0:A[0]=0);var Z=!A[0]&&!A[1];Z&&(C?F=U(F,B):X=U(X,B)),z[0]&&!z[1]||A[0]&&!A[1]||Z&&C?(F+=A[0],X=F/y):(!z[0]&&z[1]||!A[0]&&A[1]||Z&&!C)&&(X+=A[1],F=X*y)}else D+G<-N&&(A[0]=0),D+I<-N&&(A[1]=0),F+=A[0],X+=A[1],A[0]||(F=U(F,B)),A[1]||(X=U(X,B));e=eo([F,X],M,E,V),F=e[0],X=e[1],F=Math.round(F),X=Math.round(X),G=F-D,I=X-_;var ct=[G-x,I-S];n.prevWidth=G,n.prevHeight=I;var it=nu(r,F,X,g,J,p);if(!(!T&&ct.every(function(ht){return!ht})&&it.every(function(ht){return!ht}))){var at=$(r,t,{width:b+G,height:m+I,offsetWidth:F,offsetHeight:X,direction:k,dist:[G,I],delta:ct,isPinch:!!s,drag:xt.drag(r,Jr(t,r.state,it,!!s,!1))});return Y(r,"onResize",at),at}}},dragControlAfter:function(r,t){var e=t.datas,n=e.isResize,a=e.startOffsetWidth,i=e.startOffsetHeight,o=e.prevWidth,s=e.prevHeight;if(!!n){var u=r.state,f=u.width,l=u.height,v=f-(a+o),c=l-(i+s),d=Math.abs(v)>3,h=Math.abs(c)>3;if(d&&(e.startWidth+=v,e.startOffsetWidth+=v,e.prevWidth+=v),h&&(e.startHeight+=c,e.startOffsetHeight+=c,e.prevHeight+=c),d||h)return this.dragControl(r,t),!0}},dragControlEnd:function(r,t){var e=t.datas,n=t.isDrag;if(!e.isResize)return!1;e.isResize=!1;var a=Mt(r,t,{});return Y(r,"onResizeEnd",a),n},dragGroupControlCondition:Tr,dragGroupControlStart:function(r,t){var e=t.datas,n=this.dragControlStart(r,t);if(!n)return!1;var a=fr(r,"resizable",t);function i(f,l){var v=e.fixedDirection,c=e.fixedPosition,d=lr(f,v),h=gt(nr(-r.rotation/180*Math.PI,3),[d[0]-c[0],d[1]-c[1],1],3),p=h[0],g=h[1];return l.datas.originalX=p,l.datas.originalY=g,l}var o=Yt(r,this,"dragControlStart",t,function(f,l){return i(f,l)}),s=O(O({},n),{targets:r.props.targets,events:o,setFixedDirection:function(f){n.setFixedDirection(f),o.forEach(function(l,v){l.setFixedDirection(f),i(r.moveables[v],a[v])})}}),u=Y(r,"onResizeGroupStart",s);return e.isResize=u!==!1,e.isResize?n:!1},dragGroupControl:function(r,t){var e=t.datas;if(!!e.isResize){var n=this.dragControl(r,t);if(!!n){var a=n.offsetWidth,i=n.offsetHeight,o=n.dist,s=r.props.keepRatio,u=[a/(a-o[0]),i/(i-o[1])],f=e.fixedPosition,l=Yt(r,this,"dragControl",t,function(c,d){var h=gt(nr(r.rotation/180*Math.PI,3),[d.datas.originalX*u[0],d.datas.originalY*u[1],1],3),p=h[0],g=h[1];return O(O({},d),{parentDist:null,parentScale:u,dragClient:j(f,[p,g]),parentKeepRatio:s})}),v=O({targets:r.props.targets,events:l},n);return Y(r,"onResizeGroup",v),v}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(!!n.isResize){this.dragControlEnd(r,t),Yt(r,this,"dragControlEnd",t);var a=Mt(r,t,{targets:r.props.targets});return Y(r,"onResizeGroupEnd",a),e}},request:function(r){var t={},e=0,n=0,a=r.getRect();return{isControl:!0,requestStart:function(i){return{datas:t,parentDirection:i.direction||[1,1]}},request:function(i){return"offsetWidth"in i?e=i.offsetWidth-a.offsetWidth:"deltaWidth"in i&&(e+=i.deltaWidth),"offsetHeight"in i?n=i.offsetHeight-a.offsetHeight:"deltaHeight"in i&&(n+=i.deltaHeight),{datas:t,parentDist:[e,n]}},requestEnd:function(){return{datas:t,isDrag:!0}}}}},qu={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},events:{onScaleStart:"scaleStart",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:function(r,t){var e=r.props,n=e.resizable,a=e.scalable,i=e.edge;if(!n&&a)return i?ci(r,t):bn(r,t)},dragControlCondition:Tr,dragControlStart:function(r,t){var e=t.datas,n=t.isPinch,a=t.inputEvent,i=t.parentDirection,o=i||(n?[0,0]:en(a.target)),s=r.state,u=s.width,f=s.height,l=s.targetTransform,v=s.target,c=s.pos1,d=s.pos2,h=s.pos4;if(!o||!v)return!1;n||tr(r,t),e.datas={},e.transform=l,e.prevDist=[1,1],e.direction=o,e.width=u,e.height=f,e.startValue=[1,1];var p=kt(c,d),g=kt(d,h),b=!o[0]&&!o[1]||o[0]||!o[1];e.scaleWidth=p,e.scaleHeight=g,e.scaleXRatio=p/u,e.scaleYRatio=g/f,ne(t,"scale"),e.isWidth=b;function m(E){e.ratio=E&&isFinite(E)?E:0}function x(E){e.fixedDirection=E,e.fixedPosition=lr(r,E)}m(kt(c,d)/kt(d,h)),x([-o[0],-o[1]]);var S=$(r,t,O(O({direction:o,set:function(E){e.startValue=E},setRatio:m,setFixedDirection:x},ee(t)),{dragStart:xt.dragStart(r,new Br().dragStart([0,0],t))})),M=Y(r,"onScaleStart",S);return M!==!1&&(e.isScale=!0,r.state.snapRenderInfo={request:t.isRequest,direction:o}),e.isScale?S:!1},dragControl:function(r,t){Qr(t,"scale");var e=t.datas,n=t.distX,a=t.distY,i=t.parentScale,o=t.parentDistance,s=t.parentKeepRatio,u=t.parentFlag,f=t.isPinch,l=t.dragClient,v=t.parentDist,c=t.isRequest,d=e.prevDist,h=e.direction,p=e.width,g=e.height,b=e.isScale,m=e.startValue,x=e.isWidth,S=e.ratio,M=e.fixedDirection,E=e.scaleXRatio,y=e.scaleYRatio;if(!b)return!1;var C=r.props,D=C.throttleScale,_=C.parentMoveable,w=h;!h[0]&&!h[1]&&(w=[1,1]);var R=S&&(r.props.keepRatio||s),B=r.state,T=1,P=1,N=l;if(l||(!u&&f?N=lr(r,[0,0]):N=e.fixedPosition),v)T=(p+v[0])/p,P=(g+v[1])/g;else if(i)T=i[0],P=i[1];else if(f)o&&(T=(p+o)/p,P=(g+o*g/p)/g);else{var k=At({datas:e,distX:n,distY:a}),z=w[0]*k[0]*E,G=w[1]*k[1]*y;if(R&&p&&g)if(!w[0])z=G*S;else if(!w[1])G=z/S;else{var I=Pt([z,G]),V=et([0,0],k),J=et([0,0],w),K=Math.cos(V-J)*I,ot=et([0,0],[S,1]);z=Math.cos(ot)*K,G=Math.sin(ot)*K}T=(p+z/E)/p,P=(g+G/y)/g}T=w[0]||R?T*m[0]:m[0],P=w[1]||R?P*m[1]:m[1],T===0&&(T=(d[0]>0?1:-1)*Hr),P===0&&(P=(d[1]>0?1:-1)*Hr);var L=[T/m[0],P/m[1]],rt=[T,P];if(!f&&r.props.groupable){var ft=B.snapRenderInfo||{},Q=ft.direction;Kt(Q)&&(Q[0]||Q[1])&&(B.snapRenderInfo={direction:h,request:t.isRequest})}var W=[0,0];if(f||(W=Yu(r,L,h,c,e)),R){w[0]&&w[1]&&W[0]&&W[1]&&(Math.abs(W[0]*p)>Math.abs(W[1]*g)?W[1]=0:W[0]=0);var vt=!W[0]&&!W[1];if(vt&&(x?L[0]=U(L[0]*m[0],D)/m[0]:L[1]=U(L[1]*m[1],D)/m[1]),w[0]&&!w[1]||W[0]&&!W[1]||vt&&x){L[0]+=W[0];var lt=p*L[0]*m[0]/S;L[1]=lt/g/m[1]}else if(!w[0]&&w[1]||!W[0]&&W[1]||vt&&!x){L[1]+=W[1];var st=g*L[1]*m[1]*S;L[0]=st/p/m[0]}}else L[0]+=W[0],L[1]+=W[1],W[0]||(L[0]=U(L[0]*m[0],D)/m[0]),W[1]||(L[1]=U(L[1]*m[1],D)/m[1]);L[0]===0&&(L[0]=(d[0]>0?1:-1)*Hr),L[1]===0&&(L[1]=(d[1]>0?1:-1)*Hr);var F=[L[0]/d[0],L[1]/d[1]];rt=Ds(L,m);var X=ru(r,L,M,N,e),A=H(X,e.prevInverseDist||[0,0]);if(e.prevDist=L,e.prevInverseDist=X,T===d[0]&&P===d[1]&&A.every(function(it){return!it})&&!_)return!1;var Z=te(e,"scale("+rt.join(", ")+")","scale("+L.join(", ")+")"),ct=$(r,t,O({offsetWidth:p,offsetHeight:g,direction:h,scale:rt,dist:L,delta:F,isPinch:!!f},La(r,Z,A,f,t)));return Y(r,"onScale",ct),ct},dragControlEnd:function(r,t){var e=t.datas,n=t.isDrag;return e.isScale?(e.isScale=!1,Y(r,"onScaleEnd",Mt(r,t,{})),n):!1},dragGroupControlCondition:Tr,dragGroupControlStart:function(r,t){var e=t.datas,n=this.dragControlStart(r,t);if(!n)return!1;var a=fr(r,"resizable",t);function i(f,l){var v=e.fixedDirection,c=e.fixedPosition,d=lr(f,v),h=gt(nr(-r.rotation/180*Math.PI,3),[d[0]-c[0],d[1]-c[1],1],3),p=h[0],g=h[1];return l.datas.originalX=p,l.datas.originalY=g,l}e.moveableScale=r.scale;var o=Yt(r,this,"dragControlStart",t,function(f,l){return i(f,l)}),s=O(O({},n),{targets:r.props.targets,events:o,setFixedDirection:function(f){n.setFixedDirection(f),o.forEach(function(l,v){l.setFixedDirection(f),i(r.moveables[v],a[v])})}}),u=Y(r,"onScaleGroupStart",s);return e.isScale=u!==!1,e.isScale?s:!1},dragGroupControl:function(r,t){var e=t.datas;if(!!e.isScale){var n=this.dragControl(r,t);if(!!n){var a=e.moveableScale;r.scale=[n.scale[0]*a[0],n.scale[1]*a[1]];var i=r.props.keepRatio,o=n.dist,s=n.scale,u=e.fixedPosition,f=Yt(r,this,"dragControl",t,function(v,c){var d=gt(nr(r.rotation/180*Math.PI,3),[c.datas.originalX*o[0],c.datas.originalY*o[1],1],3),h=d[0],p=d[1];return O(O({},c),{parentDist:null,parentScale:s,parentKeepRatio:i,dragClient:j(u,[h,p])})}),l=O({targets:r.props.targets,events:f},n);return Y(r,"onScaleGroup",l),l}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(!!n.isScale){this.dragControlEnd(r,t),Yt(r,this,"dragControlEnd",t);var a=Mt(r,t,{targets:r.props.targets});return Y(r,"onScaleGroupEnd",a),e}},request:function(){var r={},t=0,e=0;return{isControl:!0,requestStart:function(n){return{datas:r,parentDirection:n.direction||[1,1]}},request:function(n){return t+=n.deltaWidth,e+=n.deltaHeight,{datas:r,parentDist:[t,e]}},requestEnd:function(){return{datas:r,isDrag:!0}}}}};function jt(r,t){return r.map(function(e,n){return Ki(e,t[n],1,2)})}function vi(r,t,e){var n=et(r,t),a=et(r,e),i=a-n;return i>=0?i:i+2*Math.PI}function Wu(r,t){var e=vi(r[0],r[1],r[2]),n=vi(t[0],t[1],t[2]),a=Math.PI;return!(e>=a&&n<=a||e<=a&&n>=a)}var ju={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(r,t){var e=r.props,n=e.resizable,a=e.scalable,i=e.warpable,o=e.zoom;if(n||a||!i)return[];var s=r.state,u=s.pos1,f=s.pos2,l=s.pos3,v=s.pos4,c=jt(u,f),d=jt(f,u),h=jt(u,l),p=jt(l,u),g=jt(l,v),b=jt(v,l),m=jt(f,v),x=jt(v,f);return tt([t.createElement("div",{className:q("line"),key:"middeLine1",style:Pr(c,g,o)}),t.createElement("div",{className:q("line"),key:"middeLine2",style:Pr(d,b,o)}),t.createElement("div",{className:q("line"),key:"middeLine3",style:Pr(h,m,o)}),t.createElement("div",{className:q("line"),key:"middeLine4",style:Pr(p,x,o)})],bn(r,t))},dragControlCondition:function(r,t){return t.isRequest?!1:Ot(t.inputEvent.target,q("direction"))},dragControlStart:function(r,t){var e=t.datas,n=t.inputEvent,a=r.props.target,i=n.target,o=en(i);if(!o||!a)return!1;var s=r.state,u=s.transformOrigin,f=s.is3d,l=s.targetTransform,v=s.targetMatrix,c=s.width,d=s.height,h=s.left,p=s.top;e.datas={},e.targetTransform=l,e.warpTargetMatrix=f?v:Lt(v,3,4),e.targetInverseMatrix=na(It(e.warpTargetMatrix,4),3,4),e.direction=o,e.left=h,e.top=p,e.poses=[[0,0],[c,0],[0,d],[c,d]].map(function(m){return H(m,u)}),e.nextPoses=e.poses.map(function(m){var x=m[0],S=m[1];return gt(e.warpTargetMatrix,[x,S,0,1],4)}),e.startValue=ut(4),e.prevMatrix=ut(4),e.absolutePoses=Gt(s),e.posIndexes=Ga(o),tr(r,t),ne(t,"matrix3d"),s.snapRenderInfo={request:t.isRequest,direction:o};var g=$(r,t,O({set:function(m){e.startValue=m}},ee(t))),b=Y(r,"onWarpStart",g);return b!==!1&&(e.isWarp=!0),e.isWarp},dragControl:function(r,t){var e=t.datas,n=t.isRequest,a=t.distX,i=t.distY,o=e.targetInverseMatrix,s=e.prevMatrix,u=e.isWarp,f=e.startValue,l=e.poses,v=e.posIndexes,c=e.absolutePoses;if(!u)return!1;if(Qr(t,"matrix3d"),cr(r,"warpable")){var d=v.map(function(D){return c[D]});d.length>1&&d.push([(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2]);var h=ue(r,n,{horizontal:d.map(function(D){return D[1]+i}),vertical:d.map(function(D){return D[0]+a})}),p=h.horizontal,g=h.vertical;i-=p.offset,a-=g.offset}var b=At({datas:e,distX:a,distY:i},!0),m=e.nextPoses.slice();if(v.forEach(function(D){m[D]=j(m[D],b)}),!xs.every(function(D){return Wu(D.map(function(_){return l[_]}),D.map(function(_){return m[_]}))}))return!1;var x=ze(l[0],l[2],l[1],l[3],m[0],m[2],m[1],m[3]);if(!x.length)return!1;var S=nt(o,x,4),M=Ia(e,S,!0),E=nt(It(s,4),M,4);e.prevMatrix=M;var y=nt(f,M,4),C=te(e,"matrix3d("+y.join(", ")+")","matrix3d("+M.join(", ")+")");return ka(t,C),Y(r,"onWarp",$(r,t,{delta:E,matrix:y,dist:M,multiply:nt,transform:C})),!0},dragControlEnd:function(r,t){var e=t.datas,n=t.isDrag;return e.isWarp?(e.isWarp=!1,Y(r,"onWarpEnd",Mt(r,t,{})),n):!1}},$u=q("area-pieces"),le=q("area-piece"),di=q("avoid");function Mn(r){var t=r.areaElement,e=r.state,n=e.width,a=e.height;oo(t,di),t.style.cssText+="left: 0px; top: 0px; width: "+n+"px; height: "+a+"px"}function pi(r){return r.createElement("div",{key:"area_pieces",className:$u},r.createElement("div",{className:le}),r.createElement("div",{className:le}),r.createElement("div",{className:le}),r.createElement("div",{className:le}))}var hi={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(r,t){var e=r.props,n=e.target,a=e.dragArea,i=e.groupable,o=e.passDragArea,s=r.state,u=s.width,f=s.height,l=s.renderPoses,v=o?q("area","pass"):q("area");if(i)return[t.createElement("div",{key:"area",ref:Bt(r,"areaElement"),className:v}),pi(t)];if(!n||!a)return[];var c=ze([0,0],[u,0],[0,f],[u,f],l[0],l[1],l[2],l[3]),d=c.length?Wr(c,!0):"none";return[t.createElement("div",{key:"area",ref:Bt(r,"areaElement"),className:v,style:{top:"0px",left:"0px",width:u+"px",height:f+"px",transformOrigin:"0 0",transform:d}}),pi(t)]},dragStart:function(r,t){var e=t.datas,n=t.clientX,a=t.clientY,i=t.inputEvent;if(!i)return!1;e.isDragArea=!1;var o=r.areaElement,s=r.state,u=s.moveableClientRect,f=s.renderPoses,l=s.rootMatrix,v=s.is3d,c=u.left,d=u.top,h=Ct(f),p=h.left,g=h.top,b=h.width,m=h.height,x=v?4:3,S=sr(l,[n-c,a-d],x),M=S[0],E=S[1];M-=p,E-=g;var y=[{left:p,top:g,width:b,height:E-10},{left:p,top:g,width:M-10,height:m},{left:p,top:g+E+10,width:b,height:m-E-10},{left:p+M+10,top:g,width:b-M-10,height:m}],C=[].slice.call(o.nextElementSibling.children);y.forEach(function(D,_){C[_].style.cssText="left: "+D.left+"px;top: "+D.top+"px; width: "+D.width+"px; height: "+D.height+"px;"}),io(o,di),s.disableNativeEvent=!0},drag:function(r,t){var e=t.datas,n=t.inputEvent;if(this.enableNativeEvent(r),!n)return!1;e.isDragArea||(e.isDragArea=!0,Mn(r))},dragEnd:function(r,t){this.enableNativeEvent(r);var e=t.inputEvent,n=t.datas;if(!e)return!1;n.isDragArea||Mn(r)},dragGroupStart:function(r,t){return this.dragStart(r,t)},dragGroup:function(r,t){return this.drag(r,t)},dragGroupEnd:function(r,t){return this.dragEnd(r,t)},unset:function(r){Mn(r),r.state.disableNativeEvent=!1},enableNativeEvent:function(r){var t=r.state;t.disableNativeEvent&&requestAnimationFrame(function(){t.disableNativeEvent=!1})}},Uu=wr("origin",{render:function(r,t){var e=r.props.zoom,n=r.state,a=n.beforeOrigin,i=n.rotation;return[t.createElement("div",{className:q("control","origin"),style:wa(i,e,a),key:"beforeOrigin"})]}});function Ku(r){var t=r.scrollContainer;return[t.scrollLeft,t.scrollTop]}var Zu={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragStart:function(r,t){var e=r.props,n=e.scrollContainer,a=n===void 0?r.getContainer():n,i=new Qo,o=Zr(a,!0);t.datas.dragScroll=i;var s=t.isControl?"controlGesto":"targetGesto",u=t.targets;i.on("scroll",function(f){var l=f.container,v=f.direction,c=$(r,t,{scrollContainer:l,direction:v}),d=u?"onScrollGroup":"onScroll";u&&(c.targets=u),Y(r,d,c)}).on("move",function(f){var l=f.offsetX,v=f.offsetY;r[s].scrollBy(l,v,t.inputEvent,!1)}),i.dragStart(t,{container:o})},checkScroll:function(r,t){var e=t.datas.dragScroll;if(!!e){var n=r.props,a=n.scrollContainer,i=a===void 0?r.getContainer():a,o=n.scrollThreshold,s=o===void 0?0:o,u=n.getScrollPosition,f=u===void 0?Ku:u;return e.drag(t,{container:i,threshold:s,getScrollPosition:function(l){return f({scrollContainer:l.container,direction:l.direction})}}),!0}},drag:function(r,t){return this.checkScroll(r,t)},dragEnd:function(r,t){t.datas.dragScroll.dragEnd(),t.datas.dragScroll=null},dragControlStart:function(r,t){return this.dragStart(r,O(O({},t),{isControl:!0}))},dragControl:function(r,t){return this.drag(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupStart:function(r,t){return this.dragStart(r,O(O({},t),{targets:r.props.targets}))},dragGroup:function(r,t){return this.drag(r,O(O({},t),{targets:r.props.targets}))},dragGroupEnd:function(r,t){return this.dragEnd(r,O(O({},t),{targets:r.props.targets}))},dragGroupControlStart:function(r,t){return this.dragStart(r,O(O({},t),{targets:r.props.targets,isControl:!0}))},dragGroupContro:function(r,t){return this.drag(r,O(O({},t),{targets:r.props.targets}))},dragGroupControEnd:function(r,t){return this.dragEnd(r,O(O({},t),{targets:r.props.targets}))}},gi={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,zoom:Number,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,hideDefaultLines:Boolean,props:Object},events:{}},Ju=wr("padding",{render:function(r,t){var e=r.props;if(e.dragArea)return[];var n=e.padding||{},a=n.left,i=a===void 0?0:a,o=n.top,s=o===void 0?0:o,u=n.right,f=u===void 0?0:u,l=n.bottom,v=l===void 0?0:l,c=r.state,d=c.renderPoses,h=c.pos1,p=c.pos2,g=c.pos3,b=c.pos4,m=[h,p,g,b],x=[];return i>0&&x.push([0,2]),s>0&&x.push([0,1]),f>0&&x.push([1,3]),v>0&&x.push([2,3]),x.map(function(S,M){var E=S[0],y=S[1],C=m[E],D=m[y],_=d[E],w=d[y],R=ze([0,0],[100,0],[0,100],[100,100],C,D,_,w);if(!!R.length)return t.createElement("div",{key:"padding"+M,className:q("padding"),style:{transform:Wr(R,!0)}})})}}),mi=["nw","ne","se","sw"];function ce(r,t){var e=r[0]+r[1],n=e>t?t/e:1;return r[0]*=n,r[1]=t-r[1]*n,r}var Qu=[1,2,5,6],tf=[0,3,4,7],rr=[1,-1,-1,1],er=[1,1,-1,-1];function Dn(r,t,e,n,a,i,o,s,u){i===void 0&&(i=0),o===void 0&&(o=0),s===void 0&&(s=n),u===void 0&&(u=a);var f=[],l=!1,v=r.map(function(c,d){var h=t[d],p=h.horizontal,g=h.vertical;if(g&&!l&&(l=!0,f.push("/")),l){var b=Math.max(0,g===1?c[1]-o:u-c[1]);return f.push(Tt(b,a,e)),b}else{var b=Math.max(0,p===1?c[0]-i:s-c[0]);return f.push(Tt(b,n,e)),b}});return{styles:f,raws:v}}function bi(r){for(var t=[0,0],e=[0,0],n=r.length,a=0;a<n;++a){var i=r[a];!i.sub||(i.horizontal&&(t[1]===0&&(t[0]=a),t[1]=a-t[0]+1,e[0]=a+1),i.vertical&&(e[1]===0&&(e[0]=a),e[1]=a-e[0]+1))}return{horizontalRange:t,verticalRange:e}}function Si(r,t,e,n,a,i){var o,s,u,f;i===void 0&&(i=[0,0]);var l=r.indexOf("/"),v=(l>-1?r.slice(0,l):r).length,c=r.slice(0,v),d=r.slice(v+1),h=c[0],p=h===void 0?"0px":h,g=c[1],b=g===void 0?p:g,m=c[2],x=m===void 0?p:m,S=c[3],M=S===void 0?b:S,E=d[0],y=E===void 0?p:E,C=d[1],D=C===void 0?y:C,_=d[2],w=_===void 0?y:_,R=d[3],B=R===void 0?D:R,T=[p,b,x,M].map(function(I){return dt(I,t)}),P=[y,D,w,B].map(function(I){return dt(I,e)}),N=T.slice(),k=P.slice();o=ce([N[0],N[1]],t),N[0]=o[0],N[1]=o[1],s=ce([N[3],N[2]],t),N[3]=s[0],N[2]=s[1],u=ce([k[0],k[3]],e),k[0]=u[0],k[3]=u[1],f=ce([k[1],k[2]],e),k[1]=f[0],k[2]=f[1];var z=N.slice(0,Math.max(i[0],c.length)),G=k.slice(0,Math.max(i[1],d.length));return tt(z.map(function(I,V){var J=mi[V];return{horizontal:rr[V],vertical:0,pos:[n+I,a+(er[V]===-1?e:0)],sub:!0,raw:T[V],direction:J}}),G.map(function(I,V){var J=mi[V];return{horizontal:0,vertical:er[V],pos:[n+(rr[V]===-1?t:0),a+I],sub:!0,raw:P[V],direction:J}}))}function xi(r,t,e,n,a){a===void 0&&(a=t.length);var i=bi(r.slice(n)),o=i.horizontalRange,s=i.verticalRange,u=e-n,f=0;if(u===0)f=a;else if(u>0&&u<o[1])f=o[1]-u;else if(u>=s[0])f=s[0]+s[1]-u;else return;r.splice(e,f),t.splice(e,f)}function Ei(r,t,e,n,a,i,o,s,u,f,l){f===void 0&&(f=0),l===void 0&&(l=0);var v=bi(r.slice(e)),c=v.horizontalRange,d=v.verticalRange;if(n>-1)for(var h=rr[n]===1?i-f:s-i,p=c[1];p<=n;++p){var g=er[p]===1?l:u,b=0;if(n===p?b=i:p===0?b=f+h:rr[p]===-1&&(b=s-(t[e][0]-f)),r.splice(e+p,0,{horizontal:rr[p],vertical:0,pos:[b,g]}),t.splice(e+p,0,[b,g]),p===0)break}else if(a>-1){var m=er[a]===1?o-l:u-o;if(c[1]===0&&d[1]===0){var x=[f+m,l];r.push({horizontal:rr[0],vertical:0,pos:x}),t.push(x)}for(var S=d[0],p=d[1];p<=a;++p){var b=rr[p]===1?f:s,g=0;if(a===p?g=o:p===0?g=l+m:er[p]===1?g=t[e+S][1]:er[p]===-1&&(g=u-(t[e+S][1]-l)),r.push({horizontal:0,vertical:er[p],pos:[b,g]}),t.push([b,g]),p===0)break}}}function yi(r,t){t===void 0&&(t=r.map(function(a){return a.raw}));var e=r.map(function(a,i){return a.horizontal?t[i]:null}).filter(function(a){return a!=null}),n=r.map(function(a,i){return a.vertical?t[i]:null}).filter(function(a){return a!=null});return{horizontals:e,verticals:n}}var rf=[[0,-1,"n"],[1,0,"e"]],ef=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Cn(r,t,e){var n=r.props.clipRelative,a=r.state,i=a.width,o=a.height,s=t,u=s.type,f=s.poses,l=u==="rect",v=u==="circle";if(u==="polygon")return e.map(function(E){return Tt(E[0],i,n)+" "+Tt(E[1],o,n)});if(l||u==="inset"){var c=e[1][1],d=e[3][0],h=e[7][0],p=e[5][1];if(l)return[c,d,p,h].map(function(E){return E+"px"});var g=[c,i-d,o-p,h].map(function(E,y){return Tt(E,y%2?i:o,n)});if(e.length>8){var b=H(e[4],e[0]),m=b[0],x=b[1];g.push.apply(g,tt(["round"],Dn(e.slice(8),f.slice(8),n,m,x,h,c,d,p).styles))}return g}else if(v||u==="ellipse"){var S=e[0],M=Tt(Math.abs(e[1][1]-S[1]),v?Math.sqrt((i*i+o*o)/2):o,n),g=v?[M]:[Tt(Math.abs(e[2][0]-S[0]),i,n),M];return g.push("at",Tt(S[0],i,n),Tt(S[1],o,n)),g}}function Mi(r,t,e,n){var a=[n,(n+t)/2,t],i=[r,(r+e)/2,e];return ef.map(function(o){var s=o[0],u=o[1],f=o[2],l=a[s+1],v=i[u+1];return{vertical:Math.abs(u),horizontal:Math.abs(s),direction:f,pos:[l,v]}})}function Di(r,t,e,n,a){var i,o,s,u,f,l,v,c=a;if(!c){var d=St(r),h=d.clipPath;c=h!=="none"?h:d.clip}if(!((!c||c==="none"||c==="auto")&&(c=n,!c))){var p=ge(c),g=p.prefix,b=g===void 0?c:g,m=p.value,x=m===void 0?"":m,S=b==="circle",M=" ";if(b==="polygon"){var E=Zt(x||"0% 0%, 100% 0%, 100% 100%, 0% 100%");M=",";var y=E.map(function(ct){var it=ct.split(" "),at=it[0],ht=it[1];return{vertical:1,horizontal:1,pos:[dt(at,t),dt(ht,e)]}});return{type:b,clipText:c,poses:y,splitter:M}}else if(S||b==="ellipse"){var C="",D="",_=0,w=0,E=Ft(x);if(S){var R="";i=E[0],R=i===void 0?"50%":i,o=E[2],C=o===void 0?"50%":o,s=E[3],D=s===void 0?"50%":s,_=dt(R,Math.sqrt((t*t+e*e)/2)),w=_}else{var B="",T="";u=E[0],B=u===void 0?"50%":u,f=E[1],T=f===void 0?"50%":f,l=E[3],C=l===void 0?"50%":l,v=E[4],D=v===void 0?"50%":v,_=dt(B,t),w=dt(T,e)}var P=[dt(C,t),dt(D,e)],y=tt([{vertical:1,horizontal:1,pos:P,direction:"nesw"}],rf.slice(0,S?1:2).map(function(at){return{vertical:Math.abs(at[1]),horizontal:at[0],direction:at[2],sub:!0,pos:[P[0]+at[0]*_,P[1]+at[1]*w]}}));return{type:b,clipText:c,radiusX:_,radiusY:w,left:P[0]-_,top:P[1]-w,poses:y,splitter:M}}else if(b==="inset"){var E=Ft(x||"0 0 0 0"),N=E.indexOf("round"),k=(N>-1?E.slice(0,N):E).length,z=E.slice(k+1),G=E.slice(0,k),I=G[0],V=G[1],J=V===void 0?I:V,K=G[2],ot=K===void 0?I:K,L=G[3],rt=L===void 0?J:L,ft=[I,ot].map(function(at){return dt(at,e)}),Q=ft[0],W=ft[1],vt=[rt,J].map(function(at){return dt(at,t)}),lt=vt[0],st=vt[1],F=t-st,X=e-W,A=Si(z,F-lt,X-Q,lt,Q),y=tt(Mi(Q,F,X,lt),A);return{type:"inset",clipText:c,poses:y,top:Q,left:lt,right:F,bottom:X,radius:z,splitter:M}}else if(b==="rect"){var E=Zt(x||"0px, "+t+"px, "+e+"px, 0px");M=",";var Z=E.map(function(Ut){var pe=gr(Ut).value;return pe}),Q=Z[0],st=Z[1],W=Z[2],lt=Z[3],y=Mi(Q,st,W,lt);return{type:"rect",clipText:c,poses:y,top:Q,right:st,bottom:W,left:lt,values:E,splitter:M}}}}function nf(r,t){var e=Ba(r,t),n=e[0],a=e[1],i=t.datas,o=i.clipPath,s=i.index,u=o,f=u.type,l=u.poses,v=u.splitter,c=l.map(function(b){return b.pos});if(f==="polygon")c.splice(s,0,[n,a]);else if(f==="inset"){var d=Qu.indexOf(s),h=tf.indexOf(s),p=l.length;if(Ei(l,c,8,d,h,n,a,c[4][0],c[4][1],c[0][0],c[0][1]),p===l.length)return}else return;var g=Cn(r,o,c);Y(r,"onClip",$(r,t,{clipEventType:"added",clipType:f,poses:c,clipStyles:g,clipStyle:f+"("+g.join(v)+")",distX:0,distY:0}))}function af(r,t){var e=t.datas,n=e.clipPath,a=e.index,i=n,o=i.type,s=i.poses,u=i.splitter,f=s.map(function(c){return c.pos}),l=f.length;if(o==="polygon")s.splice(a,1),f.splice(a,1);else if(o==="inset"){if(a<8||(xi(s,f,a,8,l),l===s.length))return}else return;var v=Cn(r,n,f);Y(r,"onClip",$(r,t,{clipEventType:"removed",clipType:o,poses:f,clipStyles:v,clipStyle:o+"("+v.join(u)+")",distX:0,distY:0}))}var of={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[`.control.clip-control {
    background: #6d6;
    cursor: pointer;
}
.control.clip-control.clip-radius {
    background: #d66;
}
.line.clip-line {
    background: #6e6;
    cursor: move;
    z-index: 1;
}
.clip-area {
    position: absolute;
    top: 0;
    left: 0;
}
.clip-ellipse {
    position: absolute;
    cursor: move;
    border: 1px solid #6d6;
    border: var(--zoompx) solid #6d6;
    border-radius: 50%;
    transform-origin: 0px 0px;
}`,`:host {
    --bounds-color: #d66;
}`,`.guideline {
    pointer-events: none;
    z-index: 2;
}`,`.line.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}`],render:function(r,t){var e=r.props,n=e.customClipPath,a=e.defaultClipPath,i=e.clipArea,o=e.zoom,s=r.state,u=s.target,f=s.width,l=s.height,v=s.allMatrix,c=s.is3d,d=s.left,h=s.top,p=s.pos1,g=s.pos2,b=s.pos3,m=s.pos4,x=s.clipPathState,S=s.snapBoundInfos;if(!u)return[];var M=Di(u,f,l,a||"inset",x||n);if(!M)return[];var E=c?4:3,y=M.type,C=M.poses,D=C.map(function(F){var X=pt(v,F.pos,E);return[X[0]-d,X[1]-h]}),_=[],w=[],R=y==="rect",B=y==="inset",T=y==="polygon";if(R||B||T){var P=B?D.slice(0,8):D;w=P.map(function(F,X){var A=X===0?P[P.length-1]:P[X-1],Z=et(A,F),ct=_a(A,F);return t.createElement("div",{key:"clipLine"+X,className:q("line","clip-line","snap-control"),"data-clip-index":X,style:{width:ct+"px",transform:"translate("+A[0]+"px, "+A[1]+"px) rotate("+Z+"rad) scaleY("+o+")"}})})}if(_=D.map(function(F,X){return t.createElement("div",{key:"clipControl"+X,className:q("control","clip-control","snap-control"),"data-clip-index":X,style:{transform:"translate("+F[0]+"px, "+F[1]+"px) scale("+o+")"}})}),B&&_.push.apply(_,D.slice(8).map(function(F,X){return t.createElement("div",{key:"clipRadiusControl"+X,className:q("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+X,style:{transform:"translate("+F[0]+"px, "+F[1]+"px) scale("+o+")"}})})),y==="circle"||y==="ellipse"){var N=M.left,k=M.top,z=M.radiusX,G=M.radiusY,I=H(pt(v,[N,k],E),pt(v,[0,0],E)),V=I[0],J=I[1],K="none";if(!i){for(var ot=Math.max(10,z/5,G/5),L=[],rt=0;rt<=ot;++rt){var ft=Math.PI*2/ot*rt;L.push([z+(z-o)*Math.cos(ft),G+(G-o)*Math.sin(ft)])}L.push([z,-2]),L.push([-2,-2]),L.push([-2,G*2+2]),L.push([z*2+2,G*2+2]),L.push([z*2+2,-2]),L.push([z,-2]),K="polygon("+L.map(function(F){return F[0]+"px "+F[1]+"px"}).join(", ")+")"}_.push(t.createElement("div",{key:"clipEllipse",className:q("clip-ellipse","snap-control"),style:{width:z*2+"px",height:G*2+"px",clipPath:K,transform:"translate("+(-d+V)+"px, "+(-h+J)+"px) "+Wr(v)}}))}if(i){var Q=Ct(tt([p,g,b,m],D)),W=Q.width,vt=Q.height,lt=Q.left,st=Q.top;if(T||R||B){var L=B?D.slice(0,8):D;_.push(t.createElement("div",{key:"clipArea",className:q("clip-area","snap-control"),style:{width:W+"px",height:vt+"px",transform:"translate("+lt+"px, "+st+"px)",clipPath:"polygon("+L.map(function(X){return X[0]-lt+"px "+(X[1]-st)+"px"}).join(", ")+")"}}))}}return S&&["vertical","horizontal"].forEach(function(F){var X=S[F],A=F==="horizontal";X.isSnap&&w.push.apply(w,X.snap.posInfos.map(function(Z,ct){var it=Z.pos,at=H(pt(v,A?[0,it]:[it,0],E),[d,h]),ht=H(pt(v,A?[f,it]:[it,l],E),[d,h]);return vr(t,"",at,ht,o,"clip"+F+"snap"+ct,"guideline")})),X.isBound&&w.push.apply(w,X.bounds.map(function(Z,ct){var it=Z.pos,at=H(pt(v,A?[0,it]:[it,0],E),[d,h]),ht=H(pt(v,A?[f,it]:[it,l],E),[d,h]);return vr(t,"",at,ht,o,"clip"+F+"bounds"+ct,"guideline","bounds","bold")}))}),tt(_,w)},dragControlCondition:function(r,t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(r,t){var e=r.props,n=e.dragWithClip,a=n===void 0?!0:n;return a?!1:this.dragControlStart(r,t)},drag:function(r,t){return this.dragControl(r,t)},dragEnd:function(r,t){return this.dragControlEnd(r,t)},dragControlStart:function(r,t){var e=r.state,n=r.props,a=n.defaultClipPath,i=n.customClipPath,o=e.target,s=e.width,u=e.height,f=t.inputEvent?t.inputEvent.target:null,l=f?f.getAttribute("class"):"",v=t.datas,c=Di(o,s,u,a||"inset",i);if(!c)return!1;var d=c.clipText,h=c.type,p=c.poses,g=Y(r,"onClipStart",$(r,t,{clipType:h,clipStyle:d,poses:p.map(function(b){return b.pos})}));return g===!1?(v.isClipStart=!1,!1):(v.isControl=l.indexOf("clip-control")>-1,v.isLine=l.indexOf("clip-line")>-1,v.isArea=l.indexOf("clip-area")>-1||l.indexOf("clip-ellipse")>-1,v.index=f?parseInt(f.getAttribute("data-clip-index"),10):-1,v.clipPath=c,v.isClipStart=!0,e.clipPathState=d,tr(r,t),!0)},dragControl:function(r,t){var e=t.datas,n=t.originalDatas;if(!e.isClipStart)return!1;var a=n&&n.draggable||{},i=e,o=i.isControl,s=i.isLine,u=i.isArea,f=i.index,l=i.clipPath;if(!l)return!1;var v=a.isDrag?a.prevDist:At(t),c=v[0],d=v[1],h=r.props,p=r.state,g=p.width,b=p.height,m=!u&&!o&&!s,x=l.type,S=l.poses,M=l.splitter,E=S.map(function(A){return A.pos});m&&(c=-c,d=-d);var y=!o||S[f].direction==="nesw",C=x==="inset"||x==="rect",D=S.map(function(){return[0,0]});if(o&&!y){var _=S[f],w=_.horizontal,R=_.vertical,B=[c*Math.abs(w),d*Math.abs(R)];D=Ns(S,f,B,C)}else y&&(D=E.map(function(){return[c,d]}));var T=E.map(function(A,Z){return j(A,D[Z])}),P=tt(T);p.snapBoundInfos=null;var N=l.type==="circle",k=l.type==="ellipse";if(N||k){var z=Ct(T),G=Math.abs(z.bottom-z.top),I=Math.abs(k?z.right-z.left:G),V=T[0][1]+G,J=T[0][0]-I,K=T[0][0]+I;N&&(P.push([K,z.bottom]),D.push([1,0])),P.push([z.left,V]),D.push([0,1]),P.push([J,z.bottom]),D.push([1,0])}var ot=Xa((h.clipHorizontalGuidelines||[]).map(function(A){return dt(""+A,b)}),(h.clipVerticalGuidelines||[]).map(function(A){return dt(""+A,g)}),g,b),L=[],rt=[];if(N||k)L=[P[4][0],P[2][0]],rt=[P[1][1],P[3][1]];else if(C){var ft=[P[0],P[2],P[4],P[6]],Q=[D[0],D[2],D[4],D[6]];L=ft.filter(function(A,Z){return Q[Z][0]}).map(function(A){return A[0]}),rt=ft.filter(function(A,Z){return Q[Z][1]}).map(function(A){return A[1]})}else L=P.filter(function(A,Z){return D[Z][0]}).map(function(A){return A[0]}),rt=P.filter(function(A,Z){return D[Z][1]}).map(function(A){return A[1]});for(var W=[0,0],vt=function(A){var Z=ai(ot,h.clipTargetBounds&&{left:0,top:0,right:g,bottom:b},L,rt,5),ct=Z.horizontal,it=Z.vertical,at=ct.offset,ht=it.offset;if(ct.isBound&&(W[1]+=at),it.isBound&&(W[0]+=ht),(k||N)&&D[0][0]===0&&D[0][1]===0){var Ar=Ct(T),$t=Ar.bottom-Ar.top,Ut=k?Ar.right-Ar.left:$t,pe=it.isBound?Math.abs(ht):it.snapIndex===0?-ht:ht,Ti=ct.isBound?Math.abs(at):ct.snapIndex===0?-at:at;Ut-=pe,$t-=Ti,N&&($t=Wa(it,ct)>0?$t:Ut,Ut=$t);var kr=P[0];P[1][1]=kr[1]-$t,P[2][0]=kr[0]+Ut,P[3][1]=kr[1]+$t,P[4][0]=kr[0]-Ut}else return P.forEach(function(Bn,Bi){var In=D[Bi];In[0]&&(Bn[0]-=ht),In[1]&&(Bn[1]-=at)}),"break"},lt=0;lt<2;++lt){var st=vt();if(st==="break")break}var F=Cn(r,l,T),X=x+"("+F.join(M)+")";if(p.clipPathState=X,N||k)L=[P[4][0],P[2][0]],rt=[P[1][1],P[3][1]];else if(C){var ft=[P[0],P[2],P[4],P[6]];L=ft.map(function(Z){return Z[0]}),rt=ft.map(function(Z){return Z[1]})}else L=P.map(function(A){return A[0]}),rt=P.map(function(A){return A[1]});return p.snapBoundInfos=ai(ot,h.clipTargetBounds&&{left:0,top:0,right:g,bottom:b},L,rt,1),n.draggable&&(n.draggable.deltaOffset=W),Y(r,"onClip",$(r,t,{clipEventType:"changed",clipType:x,poses:T,clipStyle:X,clipStyles:F,distX:c,distY:d})),!0},dragControlEnd:function(r,t){this.unset(r);var e=t.isDrag,n=t.datas,a=t.isDouble,i=n.isLine,o=n.isClipStart,s=n.isControl;return o?(Y(r,"onClipEnd",Mt(r,t,{})),a&&(s?af(r,t):i&&nf(r,t)),a||e):!1},unset:function(r){r.state.clipPathState="",r.state.snapBoundInfos=null}},sf={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[`:host[data-able-origindraggable] .control.origin {
    pointer-events: auto;
}`],dragControlCondition:function(r,t){return t.isRequest?t.requestAble==="originDraggable":Ot(t.inputEvent.target,q("origin"))},dragControlStart:function(r,t){var e=t.datas;tr(r,t);var n=$(r,t,{dragStart:xt.dragStart(r,new Br().dragStart([0,0],t))}),a=Y(r,"onDragOriginStart",n);return e.startOrigin=r.state.transformOrigin,e.startTargetOrigin=r.state.targetOrigin,e.prevOrigin=[0,0],e.isDragOrigin=!0,a===!1?(e.isDragOrigin=!1,!1):n},dragControl:function(r,t){var e=t.datas,n=t.isPinch,a=t.isRequest;if(!e.isDragOrigin)return!1;var i=At(t),o=i[0],s=i[1],u=r.state,f=u.width,l=u.height,v=u.offsetMatrix,c=u.targetMatrix,d=u.is3d,h=r.props.originRelative,p=h===void 0?!0:h,g=d?4:3,b=[o,s];if(a){var m=t.distOrigin;(m[0]||m[1])&&(b=m)}var x=j(e.startOrigin,b),S=j(e.startTargetOrigin,b),M=H(b,e.prevOrigin),E=re(v,c,x,g),y=r.getRect(),C=Ct(Rr(E,f,l,g)),D=[y.left-C.left,y.top-C.top];e.prevOrigin=b;var _=[Tt(S[0],f,p),Tt(S[1],l,p)].join(" "),w=$(r,t,{width:f,height:l,origin:x,dist:b,delta:M,transformOrigin:_,drag:xt.drag(r,Jr(t,r.state,D,!!n,!1))});return Y(r,"onDragOrigin",w),w},dragControlEnd:function(r,t){var e=t.datas;return e.isDragOrigin?(Y(r,"onDragOriginEnd",Mt(r,t,{})),!0):!1},dragGroupControlCondition:function(r,t){return this.dragControlCondition(r,t)},dragGroupControlStart:function(r,t){var e=this.dragControlStart(r,t);return!!e},dragGroupControl:function(r,t){var e=this.dragControl(r,t);return e?(r.transformOrigin=e.transformOrigin,!0):!1},request:function(r){var t={},e=r.getRect(),n=0,a=0,i=e.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:t}},request:function(s){return"deltaOrigin"in s?(o[0]+=s.deltaOrigin[0],o[1]+=s.deltaOrigin[1]):"origin"in s?(o[0]=s.origin[0]-i[0],o[1]=s.origin[1]-i[1]):("x"in s?n=s.x-e.left:"deltaX"in s&&(n+=s.deltaX),"y"in s?a=s.y-e.top:"deltaY"in s&&(a+=s.deltaY)),{datas:t,distX:n,distY:a,distOrigin:o}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function uf(r,t,e,n,a,i,o){var s=yi(r),u=s.horizontals,f=s.verticals,l=u.length,v=f.length,c=-1,d=-1;e===0?l===0?c=0:l===1&&(c=1):e===3&&(l<=2?c=2:l<=3&&(c=3)),e===2?v===0?d=0:v<4&&(d=3):e===1&&(v<=1?d=1:v<=2&&(d=2)),Ei(r,t,0,c,d,n,a,i,o)}function Ci(r,t,e,n,a){n===void 0&&(n=[0,0]);var i,o=[];if(a)i=a;else{var s=St(r);i=s&&s.borderRadius||""}return!i||!a&&i==="0px"?o=[]:o=Ft(i),Si(o,t,e,0,0,n)}function _i(r,t,e,n,a,i){var o=r.state,s=o.width,u=o.height,f=Dn(i,a,r.props.roundRelative,s,u),l=f.raws,v=f.styles,c=yi(a,l),d=c.horizontals,h=c.verticals,p=v.join(" ");o.borderRadiusState=p,Y(r,"onRound",$(r,t,{horizontals:d,verticals:h,borderRadius:p,width:s,height:u,delta:n,dist:e}))}var ff={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[`.control.border-radius {
    background: #d66;
    cursor: pointer;
}`,`:host[data-able-roundable] .line.direction {
    cursor: pointer;
}`],render:function(r,t){var e=r.state,n=e.target,a=e.width,i=e.height,o=e.allMatrix,s=e.is3d,u=e.left,f=e.top,l=e.borderRadiusState,v=r.props,c=v.minRoundControls,d=c===void 0?[0,0]:c,h=v.maxRoundControls,p=h===void 0?[4,4]:h,g=v.zoom;if(!n)return null;var b=s?4:3,m=Ci(n,a,i,d,l);if(!m)return null;var x=0,S=0;return m.map(function(M,E){S+=Math.abs(M.horizontal),x+=Math.abs(M.vertical);var y=H(pt(o,M.pos,b),[u,f]),C=M.vertical?x<=p[1]:S<=p[0];return t.createElement("div",{key:"borderRadiusControl"+E,className:q("control","border-radius"),"data-radius-index":E,style:{display:C?"block":"none",transform:"translate("+y[0]+"px, "+y[1]+"px) scale("+g+")"}})})},dragControlCondition:function(r,t){if(!t.inputEvent||t.isRequest)return!1;var e=t.inputEvent.target.getAttribute("class")||"";return e.indexOf("border-radius")>-1||e.indexOf("moveable-line")>-1&&e.indexOf("moveable-direction")>-1},dragControlStart:function(r,t){var e=t.inputEvent,n=t.datas,a=e.target,i=a.getAttribute("class")||"",o=i.indexOf("border-radius")>-1,s=i.indexOf("moveable-line")>-1&&i.indexOf("moveable-direction")>-1,u=o?parseInt(a.getAttribute("data-radius-index"),10):-1,f=s?parseInt(a.getAttribute("data-line-index"),10):-1;if(!o&&!s)return!1;var l=Y(r,"onRoundStart",$(r,t,{}));if(l===!1)return!1;n.lineIndex=f,n.controlIndex=u,n.isControl=o,n.isLine=s,tr(r,t);var v=r.props,c=v.roundRelative,d=v.minRoundControls,h=d===void 0?[0,0]:d,p=r.state,g=p.target,b=p.width,m=p.height;n.isRound=!0,n.prevDist=[0,0];var x=Ci(g,b,m,h)||[];return n.controlPoses=x,p.borderRadiusState=Dn(x.map(function(S){return S.pos}),x,c,b,m).styles.join(" "),!0},dragControl:function(r,t){var e=t.datas;if(!e.isRound||!e.isControl||!e.controlPoses.length)return!1;var n=e.controlIndex,a=e.controlPoses,i=At(t),o=i[0],s=i[1],u=[o,s],f=H(u,e.prevDist),l=r.props.maxRoundControls,v=l===void 0?[4,4]:l,c=r.state,d=c.width,h=c.height,p=a[n],g=p.vertical,b=p.horizontal,m=a.map(function(S){var M=S.horizontal,E=S.vertical,y=[M*b*u[0],E*g*u[1]];if(M){if(v[0]===1)return y;if(v[0]<4&&M!==b)return y}else{if(v[1]===0)return y[1]=E*b*u[0]/d*h,y;if(g){if(v[1]===1)return y;if(v[1]<4&&E!==g)return y}}return[0,0]});m[n]=u;var x=a.map(function(S,M){return j(S.pos,m[M])});return e.prevDist=[o,s],_i(r,t,u,f,a,x),!0},dragControlEnd:function(r,t){var e=r.state;e.borderRadiusState="";var n=t.datas,a=t.isDouble;if(!n.isRound)return!1;var i=e.width,o=e.height,s=n.isControl,u=n.controlIndex,f=n.isLine,l=n.lineIndex,v=n.controlPoses,c=v.map(function(x){return x.pos}),d=c.length,h=r.props.roundClickable,p=h===void 0?!0:h;if(a&&p){if(s)xi(v,c,u,0);else if(f){var g=Ba(r,t),b=g[0],m=g[1];uf(v,c,l,b,m,i,o)}d!==v.length&&_i(r,t,[0,0],[0,0],v,c)}return Y(r,"onRoundEnd",Mt(r,t,{})),e.borderRadiusState="",!0},unset:function(r){r.state.borderRadiusState=""}},wi={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},setTransform:function(r,t){var e=r.state,n=e.is3d,a=e.target,i=e.targetMatrix,o=a==null?void 0:a.style.transform,s=n?"matrix3d("+i.join(",")+")":"matrix("+aa(i,!0)+")";t.datas.startTransforms=!o||o==="none"?[s]:Ft(o)},resetTransform:function(r,t){t.datas.nextTransforms=t.datas.startTransforms,t.datas.nextTransformAppendedIndexes=[]},fillDragStartParams:function(r,t){return $(r,t,{setTransform:function(e){t.datas.startTransforms=Kt(e)?e:Ft(e)},isPinch:!!t.isPinch})},fillDragParams:function(r,t){return $(r,t,{isPinch:!!t.isPinch})},dragStart:function(r,t){this.setTransform(r,t),Y(r,"onBeforeRenderStart",this.fillDragStartParams(r,t))},drag:function(r,t){this.resetTransform(r,t),Y(r,"onBeforeRender",$(r,t,{isPinch:!!t.isPinch}))},dragEnd:function(r,t){Y(r,"onBeforeRenderEnd",$(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(r,t){var e=this;this.dragStart(r,t);var n=fr(r,"beforeRenderable",t),a=r.moveables,i=n.map(function(o,s){var u=a[s];return e.setTransform(u,o),e.fillDragStartParams(u,o)});Y(r,"onBeforeRenderGroupStart",$(r,t,{isPinch:!!t.isPinch,targets:r.props.targets,setTransform:function(){},events:i}))},dragGroup:function(r,t){var e=this;this.drag(r,t);var n=fr(r,"beforeRenderable",t),a=r.moveables,i=n.map(function(o,s){var u=a[s];return e.resetTransform(u,o),e.fillDragParams(u,o)});Y(r,"onBeforeRenderGroup",$(r,t,{isPinch:!!t.isPinch,targets:r.props.targets,events:i}))},dragGroupEnd:function(r,t){this.dragEnd(r,t),Y(r,"onBeforeRenderGroupEnd",$(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:r.props.targets}))},dragControlStart:function(r,t){return this.dragStart(r,t)},dragControl:function(r,t){return this.drag(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupControlStart:function(r,t){return this.dragGroupStart(r,t)},dragGroupControl:function(r,t){return this.dragGroup(r,t)},dragGroupControlEnd:function(r,t){return this.dragGroupEnd(r,t)}},Oi={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragStart:function(r,t){Y(r,"onRenderStart",$(r,t,{isPinch:!!t.isPinch}))},drag:function(r,t){Y(r,"onRender",$(r,t,{isPinch:!!t.isPinch}))},dragEnd:function(r,t){Y(r,"onRenderEnd",$(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(r,t){Y(r,"onRenderGroupStart",$(r,t,{isPinch:!!t.isPinch,targets:r.props.targets}))},dragGroup:function(r,t){Y(r,"onRenderGroup",$(r,t,{isPinch:!!t.isPinch,targets:r.props.targets}))},dragGroupEnd:function(r,t){Y(r,"onRenderGroupEnd",$(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:r.props.targets}))},dragControlStart:function(r,t){return this.dragStart(r,t)},dragControl:function(r,t){return this.drag(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupControlStart:function(r,t){return this.dragGroupStart(r,t)},dragGroupControl:function(r,t){return this.dragGroup(r,t)},dragGroupControlEnd:function(r,t){return this.dragGroupEnd(r,t)}};function zr(r,t,e,n,a,i,o){var s=a==="Start",u=r.state.target,f=i.isRequest;if(!u||s&&n.indexOf("Control")>-1&&!f&&r.areaElement===i.inputEvent.target)return!1;var l=""+e+n+a,v=""+e+n+"Condition",c=a==="End",d=a.indexOf("After")>-1,h=s&&(!r.targetGesto||!r.controlGesto||!r.targetGesto.isFlag()||!r.controlGesto.isFlag());h&&r.updateRect(a,!0,!1),a===""&&!d&&!f&&Pa(r.state,i);var p=tt([wi],r[t],[Oi]);if(f){var g=i.requestAble;p.some(function(C){return C.name===g})||p.push.apply(p,r.props.ables.filter(function(C){return C.name===g}))}if(!p.length)return!1;var b=p.filter(function(C){return C[l]}),m=i.datas;h&&b.forEach(function(C){C.unset&&C.unset(r)});var x=i.inputEvent,S;c&&x&&(S=document.elementFromPoint(i.clientX,i.clientY)||x.target);var M=b.filter(function(C){var D=C.name,_=m[D]||(m[D]={});return s&&(_.isEventStart=!C[v]||C[v](r,i)),_.isEventStart?C[l](r,O(O({},i),{datas:_,originalDatas:m,inputTarget:S})):!1}),E=M.length,y=s&&b.length&&!E;return(c||y)&&(r.state.gesto=null,r.moveables&&r.moveables.forEach(function(C){C.state.gesto=null})),h&&y&&b.forEach(function(C){C.unset&&C.unset(r)}),r.isUnmounted||y?!1:((!s&&E&&!o||c)&&(r.updateRect(a,!0,!1),r.forceUpdate()),!s&&!c&&!d&&E&&!o&&zr(r,t,e,n,a+"After",i),!0)}function Ri(r,t,e){var n=r.controlBox.getElement(),a=[];a.push(n),(!r.props.dragArea||r.props.dragTarget)&&a.push(t);var i=function(o){var s=o.inputEvent.target,u=r.areaElement;return s===u||!r.isMoveableElement(s)||Ot(s,"moveable-area")||Ot(s,"moveable-padding")};return _n(r,a,"targetAbles",e,{dragStart:i,pinchStart:i})}function _n(r,t,e,n,a){a===void 0&&(a={});var i=r.props,o=i.pinchOutside,s=i.pinchThreshold,u={container:window,pinchThreshold:s,pinchOutside:o},f=new is(t,u);return["drag","pinch"].forEach(function(l){["Start","","End"].forEach(function(v){f.on(""+l+v,function(c){var d=c.eventType;if(a[d]&&!a[d](c)){c.stop();return}var h=zr(r,e,l,n,v,c);h||c.stop()})})}),f}var lf=function(){function r(e,n,a){var i=this;this.target=e,this.moveable=n,this.eventName=a,this.ables=[],this.onEvent=function(o){var s=i.eventName,u=i.moveable;u.state.disableNativeEvent||i.ables.forEach(function(f){f[s](u,{inputEvent:o})})},this.target.addEventListener(this.eventName.toLowerCase(),this.onEvent)}var t=r.prototype;return t.setAbles=function(e){this.ables=e},t.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this.onEvent),this.target=null,this.moveable=null},r}(),dr=function(r){_r(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.state=O({container:null,gesto:null,renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1},tn(null)),n.enabledAbles=[],n.targetAbles=[],n.controlAbles=[],n.rotation=0,n.scale=[1,1],n.isUnmounted=!1,n.events={mouseEnter:null,mouseLeave:null},n.onPreventClick=function(a){a.stopPropagation(),bt(window,"click",n.onPreventClick,!0)},n}var e=t.prototype;return e.render=function(){var n=this.props,a=this.state,i=n.parentPosition,o=n.className,s=n.target,u=n.zoom,f=n.cspNonce,l=n.translateZ,v=n.cssStyled,c=n.portalContainer;this.checkUpdate(),this.updateRenderPoses();var d=i||{left:0,top:0},h=d.left,p=d.top,g=a.left,b=a.top,m=a.target,x=a.direction,S=n.targets,M=(S&&S.length||s)&&m,E=this.isDragging(),y={};return this.getEnabledAbles().forEach(function(C){y["data-able-"+C.name.toLowerCase()]=!0}),Dt(v,O({cspNonce:f,ref:Bt(this,"controlBox"),className:q("control-box",x===-1?"reverse":"",E?"dragging":"")+" "+o},y,{onClick:this.onPreventClick,portalContainer:c,style:{position:"absolute",display:M?"block":"none",transform:"translate3d("+(g-h)+"px, "+(b-p)+"px, "+l+")","--zoom":u,"--zoompx":u+"px"}}),this.renderAbles(),this._renderLines())},e.componentDidMount=function(){this.controlBox.getElement();var n=this.props,a=n.parentMoveable,i=n.container,o=n.wrapperMoveable;this.updateEvent(n),this.updateNativeEvents(n),!i&&!a&&!o&&this.updateRect("",!1,!0),this.updateCheckInput()},e.componentDidUpdate=function(n){this.updateNativeEvents(n),this.updateEvent(n),this.updateCheckInput()},e.componentWillUnmount=function(){this.isUnmounted=!0,ir(this,"targetGesto"),ir(this,"controlGesto");var n=this.events;for(var a in n){var i=n[a];i&&i.destroy()}},e.getContainer=function(){var n=this.props,a=n.parentMoveable,i=n.wrapperMoveable,o=n.container;return o||i&&i.getContainer()||a&&a.getContainer()||this.controlBox.getElement().parentElement},e.isMoveableElement=function(n){return n&&(n.getAttribute("class")||"").indexOf(Ue)>-1},e.dragStart=function(n){return this.targetGesto&&this.targetGesto.triggerDragStart(n),this},e.hitTest=function(n){var a=this.state,i=a.target,o=a.pos1,s=a.pos2,u=a.pos3,f=a.pos4,l=a.targetClientRect;if(!i)return 0;var v;if(n instanceof Element){var c=n.getBoundingClientRect();v={left:c.left,top:c.top,width:c.width,height:c.height}}else v=O({width:0,height:0},n);var d=v.left,h=v.top,p=v.width,g=v.height,b=fa([o,s,f,u],l),m=jo(b,[[d,h],[d+p,h],[d+p,h+g],[d,h+g]]),x=ua(b);return!m||!x?0:Math.min(100,m/x*100)},e.isInside=function(n,a){var i=this.state,o=i.target,s=i.pos1,u=i.pos2,f=i.pos3,l=i.pos4,v=i.targetClientRect;return o?Ae([n,a],fa([s,u,l,f],v)):!1},e.updateRect=function(n,a,i){i===void 0&&(i=!0);var o=this.props,s=o.parentMoveable,u=this.state,f=u.target||this.props.target,l=this.getContainer(),v=s?s.props.rootContainer:o.rootContainer;this.updateState(tn(this.controlBox&&this.controlBox.getElement(),f,l,l,v||l),s?!1:i)},e.isTargetChanged=function(n,a){var i=this.props,o=i.dragTarget||i.target,s=n.dragTarget||n.target,u=i.dragArea,f=n.dragArea,l=!u&&s!==o;return l||(a||u)&&f!==u},e.updateNativeEvents=function(n){var a=this,i=this.props,o=i.dragArea?this.areaElement:this.state.target,s=this.events,u=Yn(s);if(this.isTargetChanged(n))for(var f in s){var l=s[f];l&&l.destroy(),s[f]=null}if(!!o){var v=this.enabledAbles;u.forEach(function(c){var d=Ur(v,[c]),h=d.length>0,p=s[c];if(!h){p&&(p.destroy(),s[c]=null);return}p||(p=new lf(o,a,c),s[c]=p),p.setAbles(d)})}},e.updateEvent=function(n){var a=this.controlBox.getElement(),i=this.targetAbles.length,o=this.controlAbles.length,s=this.props,u=s.dragTarget||s.target,f=this.isTargetChanged(n,!0),l=!i&&this.targetGesto||f;l&&(ir(this,"targetGesto"),this.updateState({gesto:null})),o||ir(this,"controlGesto"),u&&i&&!this.targetGesto&&(this.targetGesto=Ri(this,u,"")),!this.controlGesto&&o&&(this.controlGesto=_n(this,a,"controlAbles","Control")),l&&this.unsetAbles()},e.isDragging=function(){return(this.targetGesto?this.targetGesto.isFlag():!1)||(this.controlGesto?this.controlGesto.isFlag():!1)},e.updateTarget=function(n){this.updateRect(n,!0)},e.getRect=function(){var n=this.state,a=Gt(this.state),i=a[0],o=a[1],s=a[2],u=a[3],f=Ct(a),l=n.width,v=n.height,c=f.width,d=f.height,h=f.left,p=f.top,g=[n.left,n.top],b=j(g,n.origin),m=j(g,n.beforeOrigin),x=n.transformOrigin;return{width:c,height:d,left:h,top:p,pos1:i,pos2:o,pos3:s,pos4:u,offsetWidth:l,offsetHeight:v,beforeOrigin:m,origin:b,transformOrigin:x,rotation:this.getRotation()}},e.getManager=function(){return this},e.getRotation=function(){var n=this.state,a=n.pos1,i=n.pos2,o=n.direction;return qs(a,i,o)},e.request=function(n,a,i){a===void 0&&(a={});var o=this.props,s=o.ables,u=o.groupable,f=s.filter(function(g){return g.name===n})[0];if(this.isDragging()||!f||!f.request)return{request:function(){return this},requestEnd:function(){return this}};var l=this,v=f.request(this),c=i||a.isInstant,d=v.isControl?"controlAbles":"targetAbles",h=""+(u?"Group":"")+(v.isControl?"Control":""),p={request:function(g){return zr(l,d,"drag",h,"",O(O({},v.request(g)),{requestAble:n,isRequest:!0}),c),this},requestEnd:function(){return zr(l,d,"drag",h,"End",O(O({},v.requestEnd()),{requestAble:n,isRequest:!0}),c),this}};return zr(l,d,"drag",h,"Start",O(O({},v.requestStart(a)),{requestAble:n,isRequest:!0}),c),c?p.request(a).requestEnd():p},e.destroy=function(){this.componentWillUnmount()},e.updateRenderPoses=function(){var n=this.state,a=this.props,i=n.originalBeforeOrigin,o=n.transformOrigin,s=n.allMatrix,u=n.is3d,f=n.pos1,l=n.pos2,v=n.pos3,c=n.pos4,d=n.left,h=n.top,p=a.padding||{},g=p.left,b=g===void 0?0:g,m=p.top,x=m===void 0?0:m,S=p.bottom,M=S===void 0?0:S,E=p.right,y=E===void 0?0:E,C=u?4:3,D=a.groupable?i:j(i,[d,h]);n.renderPoses=[j(f,Kr(s,[-b,-x],o,D,C)),j(l,Kr(s,[y,-x],o,D,C)),j(v,Kr(s,[-b,M],o,D,C)),j(c,Kr(s,[y,M],o,D,C))]},e.checkUpdate=function(){var n=this.props,a=n.target,i=n.container,o=n.parentMoveable,s=this.state,u=s.target,f=s.container;if(!(!u&&!a)){this.updateAbles();var l=!an(u,a)||!an(f,i);!l||(this.updateState({target:a,container:i}),!o&&(i||this.controlBox)&&this.updateRect("End",!1,!1))}},e.triggerEvent=function(n,a){var i=this.props[n];return i&&i(a)},e.useCSS=function(n,a){var i=this.props.customStyledMap,o=n+a;return i[o]||(i[o]=ga(n,a)),i[o]},e.unsetAbles=function(){var n=this;this.targetAbles.filter(function(a){return a.unset?(a.unset(n),!0):!1}).length&&this.forceUpdate()},e.updateAbles=function(n,a){n===void 0&&(n=this.props.ables),a===void 0&&(a="");var i=this.props,o=i.triggerAblesSimultaneously,s=n.filter(function(d){return d&&(d.always||i[d.name])}),u="drag"+a+"Start",f="pinch"+a+"Start",l="drag"+a+"ControlStart",v=Ur(s,[u,f],o),c=Ur(s,[l],o);this.enabledAbles=s,this.targetAbles=v,this.controlAbles=c},e.updateState=function(n,a){if(a)this.setState(n);else{var i=this.state;for(var o in n)i[o]=n[o]}},e.getEnabledAbles=function(){var n=this.props,a=n.ables;return a.filter(function(i){return i&&n[i.name]})},e.renderAbles=function(){var n=this,a=this.props,i=a.triggerAblesSimultaneously,o={createElement:Dt};return Ls(Ys(Ur(this.getEnabledAbles(),["render"],i).map(function(s){var u=s.render;return u(n,o)||[]})).filter(function(s){return s}),function(s){var u=s.key;return u}).map(function(s){return s[0]})},e.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e._renderLines=function(){var n=this.props,a=n.edge,i=n.zoom,o=n.hideDefaultLines;if(o)return[];var s=this.state.renderPoses,u={createElement:Dt};return[vr(u,a?"n":"",s[0],s[1],i,0),vr(u,a?"e":"",s[1],s[3],i,1),vr(u,a?"w":"",s[0],s[2],i,2),vr(u,a?"s":"",s[2],s[3],i,3)]},t.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,wrapperMoveable:null,parentPosition:null,portalContainer:null,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{}},t}(we),wn={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean},events:{},render:function(r,t){var e=r.props.targets||[];r.moveables=[];var n=r.state,a=n.left,i=n.top,o={left:a,top:i};return e.map(function(s,u){return t.createElement(dr,{key:"moveable"+u,ref:zn(r,"moveables",u),target:s,origin:!1,cssStyled:r.props.cssStyled,customStyledMap:r.props.customStyledMap,parentMoveable:r,parentPosition:o})})}},cf=wr("clickable",{props:{},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragStart:function(r,t){t.isRequest||Rt(window,"click",r.onPreventClick,!0)},dragControlStart:function(r,t){this.dragStart(r,t)},dragGroupStart:function(r,t){this.dragStart(r,t),t.datas.inputTarget=t.inputEvent&&t.inputEvent.target},dragEnd:function(r,t){this.endEvent(r);var e=r.state.target,n=t.inputEvent,a=t.inputTarget;if(t.isDrag||this.unset(r),!(!n||!a||t.isDrag||r.isMoveableElement(a))){var i=e.contains(a);Y(r,"onClick",$(r,t,{isDouble:t.isDouble,inputTarget:a,isTarget:e===a,containsTarget:i}))}},dragGroupEnd:function(r,t){this.endEvent(r);var e=t.inputEvent,n=t.inputTarget;if(!(!e||!n||t.isDrag||r.isMoveableElement(n)||t.datas.inputTarget===n)){var a=r.props.targets,i=a.indexOf(n),o=i>-1,s=!1;i===-1&&(i=wt(a,function(u){return u.contains(n)}),s=i>-1),Y(r,"onClickGroup",$(r,t,{isDouble:t.isDouble,targets:a,inputTarget:n,targetIndex:i,isTarget:o,containsTarget:s}))}},dragControlEnd:function(r){this.endEvent(r)},dragGroupControlEnd:function(r){this.endEvent(r)},endEvent:function(r){var t=this;requestAnimationFrame(function(){t.unset(r)})},unset:function(r){bt(window,"click",r.onPreventClick,!0)}});function pr(r){var t=r.originalDatas.draggable;return t||(r.originalDatas.draggable={},t=r.originalDatas.draggable),O(O({},r),{datas:t})}var vf=wr("edgeDraggable",{dragControlCondition:function(r,t){if(!r.props.edgeDraggable||!t.inputEvent)return!1;var e=t.inputEvent.target;return Ot(e,q("direction"))&&Ot(e,q("line"))},dragControlStart:function(r,t){return xt.dragStart(r,pr(t))},dragControl:function(r,t){return xt.drag(r,pr(t))},dragControlEnd:function(r,t){return xt.dragEnd(r,pr(t))},dragGroupControlCondition:function(r,t){if(!r.props.edgeDraggable||!t.inputEvent)return!1;var e=t.inputEvent.target;return Ot(e,q("direction"))&&Ot(e,q("line"))},dragGroupControlStart:function(r,t){return xt.dragGroupStart(r,pr(t))},dragGroupControl:function(r,t){return xt.dragGroup(r,pr(t))},dragGroupControlEnd:function(r,t){return xt.dragGroupEnd(r,pr(t))},unset:function(r){r.state.dragInfo=null}}),Pi={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},On=[wi,gi,Fu,Ws,xt,vf,Vu,Hu,qu,ju,Zu,Ju,Uu,sf,of,ff,wn,Pi,cf,hi,Oi],df=On.reduce(function(r,t){return O(O({},r),"events"in t?t.events:{})},{}),pf=On.reduce(function(r,t){return O(O({},r),t.props)},{}),hf=Fs(df),gf=Object.keys(hf),mf=Object.keys(pf);function ve(r,t){return Math.max.apply(Math,r.map(function(e){var n=e[0],a=e[1],i=e[2],o=e[3];return Math.max(n[t],a[t],i[t],o[t])}))}function de(r,t){return Math.min.apply(Math,r.map(function(e){var n=e[0],a=e[1],i=e[2],o=e[3];return Math.min(n[t],a[t],i[t],o[t])}))}function bf(r,t){if(!r.length)return[0,0,0,0];var e=r.map(function(p){var g=p.state;return Gt(g)}),n=Or,a=Or,i=0,o=0,s=U(t,yt);if(s%90){var u=s/180*Math.PI,f=Math.tan(u),l=-1/f,v=[xa,Or],c=[xa,Or];e.forEach(function(p){p.forEach(function(g){var b=g[1]-f*g[0],m=g[1]-l*g[0];v[0]=Math.max(v[0],b),v[1]=Math.min(v[1],b),c[0]=Math.max(c[0],m),c[1]=Math.min(c[1],m)})}),v.forEach(function(p){c.forEach(function(g){var b=(g-p)/(f-l),m=f*b+p;n=Math.min(n,b),a=Math.min(a,m)})});var d=e.map(function(p){var g=p[0],b=p[1],m=p[2],x=p[3];return[Vt(g,-u),Vt(b,-u),Vt(m,-u),Vt(x,-u)]});i=ve(d,0)-de(d,0),o=ve(d,1)-de(d,1)}else if(n=de(e,0),a=de(e,1),i=ve(e,0)-n,o=ve(e,1)-a,s%180){var h=i;i=o,o=h}return[n,a,i,o]}var Sf=function(r){_r(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.differ=new Ho,n.moveables=[],n.transformOrigin="50% 50%",n}var e=t.prototype;return e.updateEvent=function(n){var a=this.state,i=this.props,o=n.dragTarget||a.target,s=i.dragTarget||this.areaElement;o!==s&&(ir(this,"targetGesto"),ir(this,"controlGesto"),a.target=null),a.target||(a.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetGesto=Ri(this,s,"Group"),this.controlGesto=_n(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var u=!an(n.container,i.container);u&&(a.container=i.container);var f=this.differ.update(i.targets),l=f.added,v=f.changed,c=f.removed;(u||l.length||v.length||c.length)&&this.updateRect()},e.checkUpdate=function(){this.updateAbles()},e.updateRect=function(n,a,i){if(i===void 0&&(i=!0),!!this.controlBox){this.moveables.forEach(function(B){B.updateRect(n,!1,!1)});var o=this.state,s=this.props,u=o.target||s.target;(!a||n!==""&&s.updateGroup)&&(this.rotation=s.defaultGroupRotate,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var f=this.rotation,l=this.scale,v=bf(this.moveables,f),c=v[0],d=v[1],h=v[2],p=v[3],g="rotate("+f+"deg) scale("+(l[0]>=0?1:-1)+", "+(l[1]>=0?1:-1)+")";u.style.cssText+="left:0px;top:0px; transform-origin: "+this.transformOrigin+"; width:"+h+"px; height:"+p+"px;"+("transform:"+g),o.width=h,o.height=p;var b=this.getContainer(),m=tn(this.controlBox.getElement(),u,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||b),x=[m.left,m.top],S=Gt(m),M=S[0],E=S[1],y=S[2],C=S[3],D=Vr([M,E,y,C]),_=[D.minX,D.minY];m.pos1=H(M,_),m.pos2=H(E,_),m.pos3=H(y,_),m.pos4=H(C,_),m.left=c-m.left+_[0],m.top=d-m.top+_[1],m.origin=H(j(x,m.origin),_),m.beforeOrigin=H(j(x,m.beforeOrigin),_),m.originalBeforeOrigin=j(x,m.originalBeforeOrigin);var w=m.targetClientRect,R=l[0]*l[1]>0?1:-1;w.top+=m.top-o.top,w.left+=m.left-o.left,u.style.transform="translate("+-_[0]+"px, "+-_[1]+"px) "+g,this.updateState(O(O({},m),{direction:R,beforeDirection:R}),i)}},e.getRect=function(){return O(O({},r.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},e.triggerEvent=function(n,a,i){if(i||n.indexOf("Group")>-1)return r.prototype.triggerEvent.call(this,n,a)},e.updateAbles=function(){r.prototype.updateAbles.call(this,tt(this.props.ables,[wn]),"Group")},t.defaultProps=O(O({},dr.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),t}(dr),xf=function(r){_r(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.moveables=[],n}var e=t.prototype;return e.render=function(){var n=this,a=this.props,i=a.cspNonce,o=a.cssStyled,s=a.targets;return Dt(o,{cspNonce:i,ref:Bt(this,"controlBox"),className:q("control-box")},s.map(function(u,f){return Dt(dr,O({key:"moveable"+f,ref:zn(n,"moveables",f)},n.props,{target:u,wrapperMoveable:n}))}))},e.componentDidUpdate=function(){},e.updateRect=function(n,a,i){i===void 0&&(i=!0),this.moveables.forEach(function(o){o.updateRect(n,a,i)})},e.getRect=function(){return O(O({},r.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},e.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},e.dragStart=function(){return this},e.hitTest=function(){return 0},e.isInside=function(){return!1},e.isDragging=function(){return!1},e.updateRenderPoses=function(){},e.updateEvent=function(){},e.checkUpdate=function(){},e.triggerEvent=function(){},e.updateAbles=function(){},t}(dr),Ef=function(r){_r(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.refTargets=[],n.selectorMap={},n}var e=t.prototype;return t.makeStyled=function(){var n={},a=this.getTotalAbles();a.forEach(function(o){var s=o.css;!s||s.forEach(function(u){n[u]=!0})});var i=Yn(n).join(`
`);this.defaultStyled=ga("div",Gi(Ue,Ss+i))},t.getTotalAbles=function(){return tt([gi,wn,Pi,hi],this.defaultAbles)},e.render=function(){var n=this.constructor;n.defaultStyled||n.makeStyled();var a=this.props,i=a.ables,o=a.props,s=hs(a,["ables","props"]),u=on(s.target||s.targets),f=Hs(u,this.selectorMap);this.refTargets=u;var l=f.length>1,v=n.getTotalAbles(),c=tt(v,i||[]),d=O(O(O({},s),o||{}),{ables:c,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});return l?s.individualGroupable?Dt(xf,O({key:"individual-group",ref:Bt(this,"moveable")},d,{target:null,targets:f})):Dt(Sf,O({key:"group",ref:Bt(this,"moveable")},d,{target:null,targets:f})):Dt(dr,O({key:"single",ref:Bt(this,"moveable")},d,{target:f[0]}))},e.componentDidMount=function(){this.updateRefs()},e.componentDidUpdate=function(){this.updateRefs()},e.updateRefs=function(n){var a=on(this.props.target||this.props.targets),i=this.refTargets.some(function(u,f){var l=a[f];return!u&&!l?!1:u!==l}),o=n?{}:this.selectorMap,s={};this.refTargets.forEach(function(u){_t(u)&&(o[u]?s[u]=o[u]:(i=!0,s[u]=[].slice.call(document.querySelectorAll(u))))}),this.selectorMap=s,i&&this.forceUpdate()},e.getManager=function(){return this.moveable},t.defaultAbles=[],t.customStyledMap={},t.defaultStyled=null,gs([Ai(ya)],t.prototype,"moveable",void 0),t}(we),yf=function(r){_r(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.defaultAbles=On,t}(Ef),Mf=yf;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rn=function(r,t){return Rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Rn(r,t)};function Pn(r,t){Rn(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Gr=function(){return Gr=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gr.apply(this,arguments)};function Df(r,t,e,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var s=r.length-1;s>=0;s--)(o=r[s])&&(i=(a<3?o(i):a>3?o(t,e,i):o(t,e))||i);return a>3&&i&&Object.defineProperty(t,e,i),i}var Cf=function(r){Pn(t,r);function t(n){var a=r.call(this,n)||this;return a.state={},a.state=a.props,a}var e=t.prototype;return e.render=function(){return xo(Dt(Mf,Gr({ref:Bt(this,"moveable")},this.state)),this.state.parentElement)},t}(_e),_f=mf,wf=ya,Of=gf;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tn=function(){return Tn=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tn.apply(this,arguments)};function Rf(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}var Pf=function(){function r(){this._events={}}var t=r.prototype;return t.on=function(e,n){if(Nt(e))for(var a in e)this.on(a,e[a]);else this._addEvent(e,n,{});return this},t.off=function(e,n){if(!e)this._events={};else if(Nt(e))for(var a in e)this.off(a);else if(!n)this._events[e]=[];else{var i=this._events[e];if(i){var o=wt(i,function(s){return s.listener===n});o>-1&&i.splice(o,1)}}return this},t.once=function(e,n){var a=this;return n&&this._addEvent(e,n,{once:!0}),new Promise(function(i){a._addEvent(e,i,{once:!0})})},t.emit=function(e,n){var a=this;n===void 0&&(n={});var i=this._events[e];if(!e||!i)return!0;var o=!1;return n.eventType=e,n.stop=function(){o=!0},n.currentTarget=this,Rf(i).forEach(function(s){s.listener(n),s.once&&a.off(e,s.listener)}),!o},t.trigger=function(e,n){return n===void 0&&(n={}),this.emit(e,n)},t._addEvent=function(e,n,a){var i=this._events;i[e]=i[e]||[];var o=i[e];o.push(Tn({listener:n},a))},r}(),Tf=function(r){Pn(t,r);function t(n,a){a===void 0&&(a={});var i=r.call(this)||this;i.tempElement=document.createElement("div");var o=Gr({container:n||document.body},a),s={};Of.forEach(function(f){s[to("on "+f)]=function(l){return i.trigger(f,l)}}),Kn(Dt(Cf,Gr({ref:Bt(i,"innerMoveable"),parentElement:n},o,s)),i.tempElement);var u=o.target;return Kt(u)&&u.length>1&&i.updateRect(),i}var e=t.prototype;return e.setState=function(n,a){this.innerMoveable.setState(n,a)},e.destroy=function(){Kn(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.moveable},t=Df([Gn(wf,function(n,a){n[a]||(n[a]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=this.getMoveable();if(!(!s||!s[a]))return s[a].apply(s,i)})}),Gn(_f,function(n,a){Object.defineProperty(n,a,{get:function(){return this.getMoveable().props[a]},set:function(i){var o;this.setState((o={},o[a]=i,o))},enumerable:!0,configurable:!0})})],t),t}(Pf),Bf=function(r){Pn(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Tf),If=Bf;function zf(){console.log("dnd"),window.addEventListener("DOMContentLoaded",()=>{});const r=new If(document.querySelector(".moveable-area-wrap"),{target:document.querySelector(".ele"),draggable:!0,throttleDrag:0,throttleDragRotate:0,scalable:!0,throttleScale:0,keepRatio:!1,rotatable:!0,throttleRotate:0,rotationPosition:"top",dragArea:!1,passDragArea:!0}),t={translate:[0,0],scale:[1,1],rotate:0},e=r.on("dragStart",a=>{a.set(t.translate)}).on("drag",function(a){t.translate=a.beforeTranslate,a.target.style.transform=`translate(${t.translate[0]}px, ${t.translate[1]}px) rotate(${t.rotate}deg) scale(${t.scale[0]}, ${t.scale[1]}) `,console.log(a,t)}).on("dragEnd",a=>{console.log("onDragEnd",a.target,a.isDrag)}).on("scaleStart",({set:a,dragStart:i})=>{a(t.scale),i&&i.set(t.translate)}).on("scale",a=>{const{target:i,scale:o,drag:s}=a;t.scale=o,t.translate=s.beforeTranslate,i.style.transform=`translate(${t.translate[0]}px, ${t.translate[1]}px) rotate(${t.rotate}deg) scale(${t.scale[0]}, ${t.scale[1]}) `,console.log(a,t)}).on("scaleEnd",({target:a,isDrag:i,clientX:o,clientY:s})=>{console.log("onScaleEnd",a,i)}).on("rotateStart",({set:a,dragStart:i})=>{a(t.rotate),i&&i.set(t.translate)}).on("rotate",a=>{const{target:i,beforeRotate:o}=a;t.rotate=o,i.style.transform=`translate(${t.translate[0]}px, ${t.translate[1]}px) rotate(${t.rotate}deg) scale(${t.scale[0]}, ${t.scale[1]}) `,console.log(a,t)}).on("rotateEnd",({target:a,isDrag:i,clientX:o,clientY:s})=>{console.log("onRotateEnd",a,i)});window.addEventListener("resize",a=>{console.log(e),console.log(e.getManager()),e.target=document.querySelector(".ele2")}),window.move1=e,document.querySelector("#btn1").addEventListener("click",async a=>{const i=window.getComputedStyle(document.querySelector(".ele")).transform;console.dir(i);let o="matrix(1.8357, 0.490109, -0.26698, 0.999973, 980, 133.5)";await Ii(document.querySelector(".ele"),{transform:o},{duration:5}).finished,e.getManager().updateRect()});let n=0;document.querySelector("#btn2").addEventListener("click",a=>{document.querySelector(".moveable-control-box.rCSwtyrwf").style.opacity=n,n=+!n})}zf();
